import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CDAeBYLA.js";import"./helpers-RrXnNmv1.js";import{got_default as e}from"./got-Cw4D6IS5.js";import{ViewType as t}from"./types-DygLf1a3.js";const n={path:`/readlist/:listid`,categories:[`social-media`,`popular`],view:t.Articles,example:`/bilibili/readlist/25611`,parameters:{listid:`文集 id, 可在专栏文集 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`专栏文集`,maintainers:[`hoilc`],handler:r};async function r(t){let n=t.req.param(`listid`),r=`https://www.bilibili.com/read/readlist/rl${n}`,i=await e({method:`get`,url:`https://api.bilibili.com/x/article/list/web/articles?id=${n}&jsonp=jsonp`,headers:{Referer:r}}),a=i.data.data;return{title:`bilibili 专栏文集 - ${a.list.name}`,link:r,image:a.list.image_url,description:a.list.summary??`作者很懒，还木有写简介.....((/- -)/`,item:a.articles&&a.articles.map(e=>({title:e.title,author:a.author.name,description:`${e.summary}…<br><img src="${e.image_urls[0]}">`,pubDate:new Date(e.publish_time*1e3).toUTCString(),link:`https://www.bilibili.com/read/cv${e.id}/?from=readlist`}))}}export{n as route};