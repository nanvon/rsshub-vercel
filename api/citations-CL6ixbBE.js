import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CDAeBYLA.js";import"./helpers-RrXnNmv1.js";import{got_default as e}from"./got-Cw4D6IS5.js";import{load as t}from"cheerio";const n={path:`/citations/:id`,categories:[`journal`,`popular`],example:`/google/citations/mlmE4JMAAAAJ`,parameters:{id:`N`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Scholar Author Citations`,maintainers:[`KellyHwong`,`const7`],handler:r,description:"The parameter id in the route is the id in the URL of the user's Google Scholar reference page, for example `https://scholar.google.com/citations?user=mlmE4JMAAAAJ` to `mlmE4JMAAAAJ`.\n\n  Query parameters are also supported here, for example `https://scholar.google.com/citations?user=mlmE4JMAAAAJ&sortby=pubdate` to `mlmE4JMAAAAJ&sortby=pubdate`. Please make sure that the user id (`mlmE4JMAAAAJ` in this case) should be the first parameter in the query string."};async function r(n){let r=n.req.param(`id`),i=`https://scholar.google.com`,a=`https://scholar.google.com/citations?user=${r}`,o=await e({method:`get`,url:a}),s=t(o.data),c=s(`#gsc_prf .gsc_prf_il`).eq(0).text(),l=s(`#gsc_prf_ivh a`).attr(`href`),u=s(`#gsc_prf_in`).text(),d=`Google Scholar Citation Monitor: ${u}; Profile: ${c}; HomePage: ${l}`,f=s(`#gsc_a_b .gsc_a_tr`).get(),p=f.map(e=>{let n=t(e),r=i+n(`.gsc_a_t a`).attr(`href`),a=n(`.gsc_a_t div`).eq(0).text(),o=n(`.gsc_a_t div`).eq(1).text();return{title:n(`.gsc_a_t a`).text(),author:a,description:`Author: ${a}; Publication: ${o}`,link:r,guid:r}});return{title:`Google Scholar: ${u}`,link:a,description:d,item:p}}export{n as route};