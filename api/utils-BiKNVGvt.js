import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import{ofetch_default as n}from"./ofetch-CWQqZcqz.js";import{cache_default as r}from"./cache-CvppK6AM.js";import{art as i}from"./render-DE4LRFBD.js";import{parseDate as a}from"./parse-date-DHsdom8D.js";import o from"node:path";import{load as s}from"cheerio";t();const c=`https://visionias.in`;async function l(t,c){return t.link===``?t:await r.tryGet(t.link,async()=>{let r=await n(t.link||``),l=s(r),d=String(l(`meta[property="article:published_time"]`).attr(`content`)),f=String(l(`meta[property="article:modified_time"]`).attr(`content`)),p=l(`meta[property="article:tag"]`).toArray().map(e=>l(e).attr(`content`)),m=l(c),h=m.find(`div.space-y-4 > h1`).text(),g=m.find(`div.flex > div.w-full`),_=g.find(`[x-data^="{isShortArticleOpen"]`),v=g.find(`[x-data^="{isSectionOpen"]`);if(_.length!==0){let n=_.toArray().map(n=>{let r=l(n),s=r.find(`a > div > h1`).text().trim(),c=r.find(`a`).attr(`href`),f=u(r.html()),p=r.find(`ul > li:contains("Tags :")`)?.nextAll(`li`).toArray().map(e=>l(e).text()),m=i(o.join(e,`templates/description.art`),{heading:s,articleContent:f});return{title:`${s} | ${h}`,pubDate:a(d),category:p,description:m,link:`${t.link}${c}`,author:`Vision IAS`}});return n}else if(v.length===0){let n=u(g.html()),r=i(o.join(e,`templates/description-962ff3f8.art`),{heading:h,articleContent:n});return{title:t.title,pubDate:a(d),category:p,description:r,link:t.link,updated:f?a(f):null,author:`Vision IAS`}}else{let n=v.toArray().map(t=>{let n=l(t),r=n.find(`a > div > h2`).text().trim(),a=u(n.html(),`div.ck-content`),s=i(o.join(e,`templates/description-sub.art`),{heading:r,articleContent:a});return{description:s}}),r=i(o.join(e,`templates/description.art`),{heading:h,subItems:n});return{title:h,pubDate:a(d),category:p,description:r,link:t.link,updated:f?a(f):null,author:`Vision IAS`}}})}function u(e,t=`#article-content`){let n=s(e,null,!1),r=n(e),i=r.find(String(t));i.find(`figure`).each((e,t)=>{n(t).css(`width`,``)});let a=i.html();return a}export{c as baseUrl$29,l as extractNews};