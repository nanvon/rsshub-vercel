import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";const n=`https://www.whwater.com`,r={path:`/wuhan/:channelId?`,radar:[{source:[`whwater.com/IWater.shtml`,`whwater.com/`],target:`/wuhan`}],name:`Unknown`,maintainers:[],handler:i,url:`whwater.com/IWater.shtml`};async function i(r){let{channelId:i=68}=r.req.param(),a=await t.post(`https://manager.whwater.com:8900/website/article/findChannelArticle`,{form:{channelId:i,searchKey:``,thumbnailStatus:0,topStatus:0,recommendStatus:0,page:1,size:r.req.query(`limit`)?Number.parseInt(r.req.query(`limit`)):30}}),o=a.data.data,s=o.articleArray.map(t=>({title:t.title,description:t.content,pubDate:e(t.publishTime),link:`https://${n}/IPolicyDetails.shtml?id=31&sid=${i}${t.articleLink}`}));return{title:`${o.channelName}通知 - 武汉市水务集团有限公司`,link:`${n}/IWater.shtml?id=31&sid=48`,item:s}}export{r as route};