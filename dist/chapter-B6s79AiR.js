import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{got_default as e}from"./got-BwctkUCD.js";import{load as t}from"cheerio";import n from"iconv-lite";const r={path:`/chapter/:id`,categories:[`reading`],example:`/wenku8/chapter/74`,parameters:{id:`小说 id, 可在对应小说页 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`章节`,maintainers:[`zsakvo`],handler:i};async function i(r){let i=r.req.param(`id`),a=Number.parseInt(i/1e3),o=await e({method:`get`,url:`https://www.wenku8.net/novel/${a}/${i}/index.htm`,responseType:`buffer`}),s=n.decode(o.data,`gbk`),c=t(s),l=c(`#title`).text(),u=[];return c(`.ccss>a`).each(function(){u.push({title:c(this).text(),link:`https://www.wenku8.net/novel/${a}/${i}/`+c(this).attr(`href`)})}),{title:`轻小说文库 ${l}`,link:`https://www.wenku8.net/book/${i}.htm`,item:u}}export{r as route};