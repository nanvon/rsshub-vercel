import"./esm-shims-BmHUa0Yk.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-DCfHHxuQ.js";import{cache_default as t}from"./cache-Dfid4xgQ.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{getSubPath as r}from"./common-utils-KsMWGCAa.js";import{timezone as i}from"./timezone-CMz5pnRe.js";const a={"/project":{title:`项目介绍`,list:`/front/index/project/page`,detail:`/front/index/project`,link:`/#/communityDetail?id=`},"/announcement":{title:`通知公告`,list:`/front/announcement/page`,detail:`/front/announcement/`,link:`/#/announcementList/detail?id=`}},o={path:`/beijing/bphc/*`,name:`Unknown`,maintainers:[],handler:s};async function s(o){let s=`https://gycpt.bphc.com.cn`,c=r(o).replaceAll(/(^\/beijing\/bphc|\/$)/g,``),l=c===``?`announcement`:c.endsWith(`/`)?c.slice(0,-1):c,u=a[l],d=`${s}${u.list}`,f=(await e(d)).data?.records??[],p=await Promise.all(f.map(r=>{let a=`${s}${u.detail}/${r.id}`;return t.tryGet(a,async()=>{let t=await e(a),o=(t.data?.content||t.data?.introduction)??``;return{title:r.title||r.fullName,author:o.match(/来源：(.*?)</)?.[1].trim()??r.operator,link:`${s}${u.link}${r.id}`,description:o,pubDate:i(n(r.createTime),8)}})}));return{title:u.title,link:s,item:p}}export{o as route};