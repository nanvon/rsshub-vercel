import{__dirname as e,init_esm_shims as t}from"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-am9EnuPq.js";import"./helpers-gUVC02jt.js";import{art as n}from"./render-CSnicFA3.js";import{parseDate as r}from"./parse-date-DHsdom8D.js";import{got_default as i}from"./got-CmdBCkM8.js";import a from"node:path";t();const o={path:`/events`,categories:[`new-media`],example:`/houxu/events`,radar:[{source:[`houxu.app/events`,`houxu.app/`]}],name:`专栏`,maintainers:[`nczitzk`],handler:s,url:`houxu.app/events`};async function s(t){let o=`https://houxu.app`,s=`${o}/api/1/events?limit=${t.req.query(`limit`)??50}`,c=`${o}/events`,l=(await i({method:`get`,url:s})).data.results.map(t=>({guid:`${o}/events/${t.id}#${t.last_thread.id}`,title:t.title,link:`${o}/events/${t.id}`,author:t.creator.name,category:t.tags,pubDate:r(t.update_at),description:n(a.join(e,`templates/events-e4c580c0.art`),{title:t.title,description:t.description,linkTitle:t.last_thread.link_title,content:t.last_thread.title.replaceAll(`\r
`,`<br>`),pubDate:t.update_at})}));return{title:`后续 - 专栏`,link:c,item:l}}export{o as route};