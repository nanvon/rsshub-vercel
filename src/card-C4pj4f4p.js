import"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CfXAR0UO.js";import"./helpers-Cqaav28H.js";import{t as e}from"./parse-date-CHEO0z5G.js";import{t}from"./got-dCh-Ojgc.js";import{t as n}from"./timezone-BPfwRbwD.js";import{t as r}from"./utils-s9uCHM5W.js";import{load as i}from"cheerio";const a={path:`/apps/:lang?/card/:id`,categories:[`anime`],example:`/qoo-app/apps/en/card/7675`,parameters:{lang:"Language, see the table above, empty means `中文`",id:`Game ID, can be found in URL`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Game Store - Cards`,maintainers:[`TonyRL`],handler:o};async function o(a){let{id:o,lang:s=``}=a.req.param(),c=`${r}${s?`/${s}`:``}/app-card/${o}`,{data:l}=await t(c),u=i(l),d=u(`.qoo-post-item`).toArray().map(t=>{t=u(t);let r=t.find(`.qoo-clearfix .name a`),i=r.eq(0).text(),a=n(e(t.find(`time`).text(),`YYYY-MM-DD HH:mm:ss`),8);return t.find(`a.icon, .qoo-clearfix, footer, article.qoo-comment-panel, div.slot`).remove(),t.find(`.img-list`).attr(`data-target`,``),{title:`${i} ▶ ${r.eq(1).text()}`,description:t.html(),pubDate:a,author:i,guid:`qoo-app:apps:card:7675:${t.attr(`data-id`)}`}});return{title:u(`head title`).text(),link:c,language:u(`html`).attr(`lang`),item:d}}export{a as route};