import{__dirname as e,init_esm_shims as t}from"./esm-shims-2LyWUseo.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-BLnIkXRv.js";import"./helpers-gUVC02jt.js";import{art as n}from"./render-CSnicFA3.js";import{got_default as r}from"./got-DPq_2TLS.js";import i from"node:path";import{load as a}from"cheerio";t();const o={path:`/acm/contest/:category?`,categories:[`university`],example:`/ecnu/acm/contest/public`,parameters:{category:"category is optional, default is all, use `public` for public only contests"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`acm.ecnu.edu.cn/contest/`,`acm.ecnu.edu.cn/`],target:`/acm/contest/`}],name:`ACM Online-Judge contests list`,maintainers:[`a180285`],handler:s,url:`acm.ecnu.edu.cn/contest/`};async function s(t){let o=(t.req.param(`category`)??``)===`public`,s=`https://acm.ecnu.edu.cn`,c=`${s}/contest/`,l=await r(c),u=a(l.data),d=u(`div > div > table > tbody > tr`).filter((e,t)=>!o||u(t).find(`i`).attr(`class`).includes(`green`)).toArray().map(t=>{let r=u(t).find(`td`),a=r.eq(0).text(),o=r.eq(1).text(),c=r.eq(2).text(),l=s+r.find(`a`).eq(0).attr(`href`);return{title:a,description:n(i.join(e,`templates/description-067c2866.art`),{title:a,startTime:o,duration:c}),link:l}});return{title:`ECNU ACM ${o?`公开`:``}比赛`,link:c,item:d}}export{o as route};