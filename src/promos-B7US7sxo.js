import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as n}from"./ofetch-DqHh1IN2.js";import{art as r}from"./render-CSnicFA3.js";import i from"node:path";import{load as a}from"cheerio";t();const o=`https://www.openrice.com`,s={path:`/:lang/hongkong/promos`,maintainers:[`after9`],handler:c,categories:[`shopping`],example:`/openrice/zh/hongkong/promos`,parameters:{lang:`语言，缺省为 zh`},name:`香港餐厅滋讯`,description:`
| 简体 | 繁體 | EN |
| ----- | ------ | ----- |
| zh-cn | zh | en |
  `};async function c(t){let s=t.req.param(`lang`)??`zh`,c;switch(s){case`zh-cn`:c=`/zh-cn/hongkong/promos`;break;case`en`:c=`/en/hongkong/promos`;break;case`zh`:default:c=`/zh/hongkong/promos`;break}let l=await n(o+c,{}),u=a(l),d=u(`title`).text()??`Openrice - What's Hot`,f=u(`meta[name="description"]`).attr(`content`)??`What's Hot from Openrice`,p=u(`.article-listing-content-cell-wrapper`).toArray().map(t=>{let n=u(t),a=n.find(`.title-name`).text()??``,o=n.find(`a.sr1-listing-content-cell`).attr(`href`)??``,s=n.find(`.cover-photo`).attr(`style`)?.match(/url\(['"]?(.*?)['"]?\)/)?.[1]??null,c=r(i.join(e,`templates/description-89cc7c28.art`),{description:n.find(`.article-details .desc`).text()??``,image:s});return{title:a,description:c,link:o}});return{title:d,link:o+c,description:f,item:p}}export{s as route};