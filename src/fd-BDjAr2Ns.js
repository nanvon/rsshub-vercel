import"./esm-shims-B6VgfGYP.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-CHIwZNTj.js";import{cache_default as t}from"./cache-Dfid4xgQ.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{load as r}from"cheerio";const i={path:`/fd/:type`,categories:[`traditional-media`],example:`/bjx/fd/yw`,parameters:{type:`文章分类，详见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`风电`,maintainers:[`hualiong`],description:`\`:type\` 类型可选如下

| 要闻 | 政策 | 数据 | 市场 | 企业 | 招标 | 技术 | 报道 |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| yw   | zc   | sj   | sc   | mq   | zb   | js   | bd   |`,handler:async i=>{let a=i.req.param(`type`),o=await e(`https://fd.bjx.com.cn/${a}/`),s=r(o),c=s(`div.box2 em:last-child`).text(),l=s(`div.cc-list-content ul li:nth-child(-n+20)`).toArray().map(e=>{let t=s(e);return{title:t.find(`a`).attr(`title`),link:t.find(`a`).attr(`href`),pubDate:n(t.find(`span`).text())}}),u=await Promise.all(l.map(n=>t.tryGet(n.link,async()=>{let t=await e(n.link);return n.description=r(t)(`#article_cont`).html(),n})));return{title:`北极星风力发电网${c}`,description:s(`meta[name="Description"]`).attr(`content`),link:`https://fd.bjx.com.cn/${a}/`,item:u}}};export{i as route};