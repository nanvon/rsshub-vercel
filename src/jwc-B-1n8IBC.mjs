import"./esm-shims-L08rKynx.mjs";import"./config-Bs8nOQqi.mjs";import"./logger-BvLYiR5T.mjs";import"./ofetch-1TBKTiHL.mjs";import"./helpers-mo8InLYm.mjs";import{t as e}from"./cache-BDs-9Wd7.mjs";import{t}from"./parse-date-bKmkZ9gg.mjs";import{t as n}from"./got-Be7Twwza.mjs";import{t as r}from"./timezone-CE0MDOJ-.mjs";import{load as i}from"cheerio";async function a(e){let a=i((await n.get(e,{https:{rejectUnauthorized:!1}})).data),o=r(t(a(`span+ span`).text(),`YYYY-MM-DD`,`zh-cn`),8);return{description:a(`form > div`).html(),pubDate:o}}const o=(e,t)=>Promise.all(e.map(async e=>{let n=i(e)(`a`),r=new URL(n.attr(`href`),`http://jwc.njnu.edu.cn/`),o={title:n.text(),link:r,author:`教务处`,guid:r},s=await t.tryGet(r,()=>a(r));return{...o,...s}})),s={path:`/jwc/:type`,categories:[`university`],example:`/njnu/jwc/xstz`,parameters:{type:`分类名`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`教务通知`,maintainers:[`Shujakuinkuraudo`],handler:c,description:`| 教师通知 | 新闻动态 | 学生通知 |
| -------- | -------- | -------- |
| jstz     | xwdt     | xstz     |`};async function c(t){let r=t.req.param(`type`),a,s;switch(r){case`jstz`:a=`教师通知`,s=`jstz.htm`;break;case`xwdt`:a=`新闻动态`,s=`xwdt.htm`;break;case`xstz`:a=`学生通知`,s=`xstz.htm`}let c=await o(i((await n({method:`get`,url:`http://jwc.njnu.edu.cn/index/`+s,https:{rejectUnauthorized:!1}})).data)(`.list_txt a`).toArray(),e);return{title:`南京师范大学教务处 - `+a,link:`http://jwc.njnu.edu.cn/`,description:`南京师范大学教务处`,item:c}}export{s as route};