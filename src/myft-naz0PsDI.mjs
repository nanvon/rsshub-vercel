import"./esm-shims-DhF_MXa4.mjs";import"./config-PItPnVIx.mjs";import"./logger-BoKmWr7Z.mjs";import"./ofetch-DVhBwO41.mjs";import"./helpers-vRt84cId.mjs";import{t as e}from"./cache-KwJARS5Z.mjs";import{t}from"./got-D_XeVuz-.mjs";import{t as n}from"./rss-parser-D9yoVJTX.mjs";import{load as r}from"cheerio";const i={path:`/myft/:key`,categories:[`traditional-media`],example:`/ft/myft/rss-key`,parameters:{key:`the last part of myFT personal RSS address`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`myFT personal RSS`,maintainers:[`HenryQW`],handler:a,description:`::: tip
  -   Visit ft.com -> myFT -> Contact Preferences to enable personal RSS feed, see [help.ft.com](https://help.ft.com/faq/email-alerts-and-contact-preferences/what-is-myft-rss-feed/)
  -   Obtain the key from the personal RSS address, it looks like \`12345678-abcd-4036-82db-vdv20db024b8\`
:::`};async function a(i){let a=e=>(e.find(`div.o-share, aside, div.o-ads`).remove(),e.html()),o=`https://www.ft.com/myft/following/${i.req.param(`key`)}.rss`,s=await n.parseURL(o);return{title:`FT.com - myFT`,link:o,description:`FT.com - myFT`,item:await Promise.all(s.items.map(n=>e.tryGet(n.link,async()=>{let e=r((await t({method:`get`,url:n.link,headers:{Referer:`https://www.facebook.com`}})).data);return n.description=a(e(`article.js-article__content-body`)),n.category=[e(`.n-content-tag--with-follow`).text(),...e(`.article__right-bottom a.concept-list__concept`).toArray().map(t=>e(t).text().trim())],n.author=e(`a.n-content-tag--author`).toArray().map(t=>({name:e(t).text()})),n})))}}export{i as route};