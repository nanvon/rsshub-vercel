import"./esm-shims-2LyWUseo.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-BLnIkXRv.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-DPq_2TLS.js";import{timezone as r}from"./timezone-CMz5pnRe.js";import{load as i}from"cheerio";const a=new Map([[`top-stories`,{title:`NL Times -- Top Stories`,suffix:`/top-stories`}],[`health`,{title:`NL Times -- Health`,suffix:`/categories/health`}],[`crime`,{title:`NL Times -- Crime`,suffix:`/categories/crime`}],[`politics`,{title:`NL Times -- Politics`,suffix:`/categories/politics`}],[`business`,{title:`NL Times -- Business`,suffix:`/categories/business`}],[`tech`,{title:`NL Times -- Tech`,suffix:`/categories/tech`}],[`culture`,{title:`NL Times -- Culture`,suffix:`/categories/culture`}],[`sports`,{title:`NL Times -- Sports`,suffix:`/categories/sports`}],[`weird`,{title:`NL Times -- Weird`,suffix:`/categories/weird`}],[`1-1-2`,{title:`NL Times -- 1-1-2`,suffix:`/categories/1-1-2`}]]),o={path:`/news/:category?`,categories:[`new-media`],example:`/nltimes/news/top-stories`,parameters:{category:`category`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`nltimes.nl/categories/:category`],target:`/news/:category`}],name:`News`,maintainers:[`Hivol`],handler:s,description:`| Top Stories (default) | Health | Crime | Politics | Business | Tech | Culture | Sports | Weird | 1-1-2 |
| --------------------- | ------ | ----- | -------- | -------- | ---- | ------- | ------ | ----- | ----- |
| top-stories           | health | crime | politics | business | tech | culture | sports | weird | 1-1-2 |`};async function s(o){let s=o.req.param(`category`)??`top-stories`,c=a.get(s).suffix,l=`https://www.nltimes.nl`,u=l+c,d=await n({method:`get`,url:u}),f=i(d.data),p=f(`.news-card`).slice(0,10).toArray().map(e=>({link:f(e).children(`.news-card__title`).first().children(`a`).first().attr(`href`),title:f(e).children(`.news-card__title`).first().children(`a`).first().text(),date:f(e).children(`.news-card__date`).first().text(),category:f(e).children(`.news-card__categories`).first().children(`a`).toArray().map(e=>f(e).text())})),m=e=>i(e)(`.news-article--body`).html(),h=await Promise.all(p.map(i=>{let a=i.title,o=r(t(i.date,`DD MMMM YYYY - HH:mm`),1),s=l+i.link,c=i.category;return e.tryGet(s,async()=>{let e=await n({method:`get`,url:s}),t=m(e.data);return{title:a,category:c,description:t,pubDate:o,link:s}})}));return{title:a.get(s).title,language:`en`,link:u,description:a.get(s).title,item:h}}export{o as route};