import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-1ATZGjxb.js";import"./logger-B19BYg4C.js";import{ofetch_default as t}from"./ofetch-B4O0sZDE.js";import{cache_default as n}from"./cache-CjzVN0X7.js";import{parseDate as r}from"./parse-date-DHsdom8D.js";import{load as i}from"cheerio";const a=`https://www.iguoguo.net`,o=e=>n.tryGet(`iguoguo:category:${e}`,async()=>{let n=await t(`${a}/wp-json/wp/v2/categories`,{query:{slug:e}});return n[0].id}),s=(r,i)=>n.tryGet(`iguoguo:posts:${r}`,async()=>{let e=await t(`${a}/wp-json/wp/v2/posts`,{query:{categories:r,per_page:i}});return e},e.cache.routeExpire,!1),c={path:`/html5`,categories:[`design`],example:`/iguoguo/html5`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`最新 H5`,maintainers:[`yuxinliu-alex`],handler:l};async function l(e){let t=Number.parseInt(e.req.query(`limit`)??`10`),n=`${a}/html5`,c=await o(`h5`),l=await s(c,t),u={jpg:`jpeg`,png:`png`},d=l.map(e=>{let t=i(e.content.rendered),n=t(`p > img`).first().attr(`src`);return t(`p > img`).first().remove(),t(`h4`).each((e,n)=>{t(n).text().includes(`扫码欣赏`)&&t(n).remove()}),{title:e.title.rendered,description:t.html(),link:e.link,cover:n,pubDate:r(e.date_gmt),media:n&&{content:{url:n,type:`image/${u[n.split(`.`).pop()]}`}}}});return{title:`爱果果`,link:n,description:`爱果果iguoguo是一个优秀酷站、h5、UI素材资源的发布分享平台，是设计师的灵感聚合地和素材下载源。`,language:`zh-cn`,item:d}}export{c as route};