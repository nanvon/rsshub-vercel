import"./esm-shims-D4LgnpSl.mjs";import{t as e}from"./config-L8Ls2W7q.mjs";import"./logger-C50fTRi5.mjs";import"./ofetch-CvLG4YCQ.mjs";import"./helpers-mo8InLYm.mjs";import"./parse-date-bKmkZ9gg.mjs";import{t}from"./got-AYh7EWi-.mjs";import{t as n}from"./types-BD1MU_-b.mjs";import{t as r}from"./eventapi-BAjpG_4v.mjs";const i={path:`/feed/:user/:types?`,categories:[`programming`],example:`/github/feed/yihong0618/star,release,pr`,view:n.Notifications,parameters:{user:`GitHub username`,types:{description:`Event types to include, comma separated`,default:`all`,options:[{label:`All events`,value:`all`},{label:`Create events`,value:`create`},{label:`Delete events`,value:`delete`},{label:`Fork events`,value:`fork`},{label:`Issue comment events`,value:`issuecomm`},{label:`Member events`,value:`member`},{label:`Pull request events`,value:`pr`},{label:`Pull request review comment events`,value:`prcomm`},{label:`Public events`,value:`public`},{label:`Push events`,value:`push`},{label:`Release events`,value:`release`},{label:`Watch events (stars)`,value:`star`}]}},features:{requireConfig:[{name:`GITHUB_ACCESS_TOKEN`,optional:!0,description:`GitHub access token to access private events`}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`github.com/:user`],target:`/feed/:user`}],name:`User's Feed`,maintainers:[`RtYkk`],handler:a};async function a(n){let i=n.req.param(`user`),a=n.req.param(`types`)||`all`,o=e.github&&e.github.access_token,s={};o&&(s.Authorization=`token ${e.github.access_token}`);let c=r(a,(await t({method:`get`,url:`https://api.github.com/users/${i}/received_events`,headers:s,searchParams:{per_page:100}})).data),l=a===`all`?`All Events`:`Events: ${a}`;return{title:`${i}'s GitHub ${o?`Private Feed`:`Public Feed`} - ${l}`,link:`https://github.com/${i}`,description:`GitHub events received by ${i}${a===`all`?``:` (filtered: ${a})`}${o?` - includes private events`:` - public events only`}`,item:c}}export{i as route};