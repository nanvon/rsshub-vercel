import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-am9EnuPq.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{got_default as t}from"./got-CmdBCkM8.js";import{load as n}from"cheerio";const r={path:`/latest`,categories:[`new-media`],example:`/newseed/latest`,url:`news.newseed.cn`,name:`最新新闻`,maintainers:[`p3psi-boo`],handler:i};async function i(){let r=`https://news.newseed.cn/`,i=await t({method:`get`,url:r}),a=n(i.data),o=a(`#news-list li`).toArray().map(e=>{let t=a(e),n=t.find(`h3 a`),r=n.attr(`href`)||``,i=n.text(),o=t.find(`.img img`).attr(`src`),s=t.find(`.info`),c=s.find(`.author a`).text(),l=s.find(`.date`).text(),u=t.find(`.tag a`).toArray().map(e=>a(e).text()).filter(e=>e!==c);return{title:i,link:r,author:c,pubDate:l,category:u,description:o?`<img src="${o}"><br>${i}`:i}}),s=await Promise.all(o.map(r=>e.tryGet(r.link,async()=>{let e=await t({method:`get`,url:r.link});return r.description=n(e.data)(`.news-content`).html()||r.description,r})));return{title:`新芽 - 最新新闻`,link:r,item:s}}export{r as route};