import"./esm-shims-BGJi2y--.js";import{rand_user_agent_default as e}from"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-DqHh1IN2.js";import"./helpers-gUVC02jt.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-VGofQtEf.js";const r=e({browser:`chrome`,os:`android`,device:`mobile`}),i={path:`/snb/:id`,categories:[`finance`],example:`/xueqiu/snb/ZH1288184`,parameters:{id:`组合代码, 可在组合主页 URL 中找到.`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`xueqiu.com/P/:id`,`xueqiu.com/p/:id`]}],name:`组合最新调仓信息`,maintainers:[`ZhishanZhang`],handler:a};async function a(e){let i=e.req.param(`id`),a=`https://xueqiu.com/p/`+i,o=(await n(a,{headers:{"User-Agent":r}})).data,s=/SNB.cubeInfo = {(.+)}/.exec(o),c=JSON.parse(`{`+s[1]+`}`),l=c.sell_rebalancing.rebalancing_histories,u=c.name+` 的调仓历史`,d=c.description,f=c.name+` 的上一笔调仓`,p=``;for(let e of l){let t=e.prev_weight_adjusted??0;p+=e.stock_name+` from `+t+` to `+e.target_weight+`，
`}let m=c.sell_rebalancing.updated_at,h={title:f,description:p,pubDate:t(m),link:a,guid:`xueqiu::snb::${i}::${m}`};return{title:u,link:a,description:d,item:[h]}}export{i as route};