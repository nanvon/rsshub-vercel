import{n as e,t}from"./esm-shims-D4LgnpSl.mjs";import"./config-L8Ls2W7q.mjs";import"./logger-C50fTRi5.mjs";import{t as n}from"./ofetch-CvLG4YCQ.mjs";import{t as r}from"./render-CBhnapAf.mjs";import{t as i}from"./parse-date-bKmkZ9gg.mjs";import a from"node:path";import{load as o}from"cheerio";e();const s={path:`/curator/:id/:routeParams?`,categories:[`game`],example:`/steam/curator/34646096-80-Days`,parameters:{id:`Steam curator id. It usually consists of a series of numbers and the curator's name.`,routeParams:{description:"Extra parameters to filter the reviews. The following parameters are supported:\n| Key             | Description                                                                                   | Accepts                                    | Defaults to |\n| --------------- | --------------------------------------------------------------------------------------------- | ------------------------------------------ | ----------- |\n| `curations`   | Review type to filter by. `0`: Recommended, `1`: Not Recommended, `2`: Informational    | `0`/`1`/`2`/`0,1`/`0,2`/`1,2`  |             |\n| `tagids`      | Tag to filter by. Details are provided below.                                                 | use comma to separate multiple tagid       |             |\n\nNote: There is a [‘Popular Tags’](https://store.steampowered.com/tag/browse) page where you can find many but not all of the tags. The tag’s ID is in the `data-tagid` attribute of the element.Steam does not currently provide a page that comprehensively lists all tags, and you may need to explore alternative ways to find them.\n\nExamples:\n* `/steam/curator/34646096-80-Days/curations=&tagids=`\n* `/steam/curator/34646096-80-Days/curations=0&tagids=19`\n* `/steam/curator/34646096-80-Days/curations=0,2&tagids=19,21`\n"}},radar:[{title:`Latest Curator Reviews`,source:[`store.steampowered.com/curator/:id`],target:`/curator/:id`}],description:`The Latest reviews from a Steam Curator.`,name:`Latest Curator Reviews`,maintainers:[`naremloa`,`fenxer`],handler:async e=>{let{id:s,routeParams:c}=e.req.param(),l=new URLSearchParams(c),u=new URL(`https://store.steampowered.com/curator/${s}/ajaxgetfilteredrecommendations/?query&start=0&count=10&dynamic_data=&sort=recent&app_types=&reset=false&curations=&tagids=`);for(let[e,t]of l)[`curations`,`tagids`].includes(e)&&u.searchParams.set(e,t||``);let d=o((await n(u.toString())).results_html??``),f=d(`.recommendation`).toArray().map(e=>{let n=d(e),o=n.find(`a.store_capsule img`),s=o.attr(`alt`),c=o.attr(`src`)??``,l=n.find(`.recommendation_link`).first().attr(`href`),u=n.find(`.recommendation_desc`).text().trim(),f=n.find(`.curator_review_date`).text().trim(),p=/,\s\b\d{4}\b$/.test(f)?i(f):i(`${f}, ${new Date().getFullYear()}`);return{title:s,link:l,description:r(a.join(t,`templates/curator-description-b79402f1.art`),{image:c,description:u}),pubDate:p,media:{content:{url:c,medium:`image`}}}});return{title:`Steam Curator ${s} Reviews`,link:u.toString(),item:f}}};export{s as route};