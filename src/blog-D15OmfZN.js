import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-CISb_5Uo.js";import{cache_default as t}from"./cache-Dfid4xgQ.js";import{load as n}from"cheerio";const r=new URL(`https://tailwindcss.com/`),i=async t=>{let r=await e(t,{responseType:`text`});return n(r)(`article.prose`).html()??``},a=async a=>{let o=new URL(`/feeds/atom.xml`,r).href,s=await e(o,{responseType:`text`}),c=n(s,{xml:!0}),l=await Promise.all(c(`entry`).toArray().slice(0,a).map(e=>{let n=c(e).find(`title`).text(),r=c(e).find(`id`).text(),a=c(e).find(`link[href]`).attr(`href`),o=c(e).find(`link[rel="enclosure"]`).attr(`href`);if(a===void 0)throw Error(`No article URL found for article with id ${r}`);return t.tryGet(`tailwindcss:${r}`,async()=>({title:n,link:a,image:o,description:await i(a),author:c(e).find(`author`).toArray().map(e=>({name:c(e).find(`name`).text(),url:c(e).find(`url`).text()})),pubDate:c(e).find(`updated`).text(),guid:c(e).find(`id`).text()}))}));return{title:c(`feed > title`).text(),item:l,author:c(`feed > author > name`).text(),logo:c(`feed > logo`).text(),icon:c(`feed > icon`).text(),description:c(`feed > subtitle`).text(),link:c(`feed > link[rel="alternate"]`).attr(`href`)}},o=e=>{let t=Number.parseInt(e.req.query(`limit`)||`10`);return a(t)},s={path:`/blog`,categories:[`programming`],example:`/tailwindcss/blog`,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Blog`,maintainers:[`goestav`],handler:o};export{o as handler,s as route};