import{__dirname as e,init_esm_shims as t}from"./esm-shims-BmHUa0Yk.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-DCfHHxuQ.js";import"./helpers-gUVC02jt.js";import{cache_default as n}from"./cache-Dfid4xgQ.js";import{art as r}from"./render-CSnicFA3.js";import{parseDate as i}from"./parse-date-DHsdom8D.js";import{got_default as a}from"./got-D5TEN1xL.js";import o from"node:path";import{load as s}from"cheerio";import c from"crypto-js";t();const l=()=>c.DES.encrypt(`${Date.now().toString()}-sgn51n6r6q97o6g3`,`jzhotdata`).toString(),u=`https://vp.fact.qq.com`,d={path:`/fact`,categories:[`other`],example:`/qq/fact`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`vp.fact.qq.com/home`,`vp.fact.qq.com/`]}],name:`最新辟谣`,maintainers:[`hoilc`],handler:f,url:`vp.fact.qq.com/home`};async function f(){let{data:t}=await a(`${u}/api/article/list`,{headers:{Referer:`${u}/home`},searchParams:{page:1,locale:`zh-CN`,token:l()}}),c=t.data.list.map(e=>({title:`【${e.explain}】${e.title}`,description:`<img src="${e.cover}"><br>${e.abstract}`,pubDate:i(e.date,`YYYY-MM-DD`),author:`${e.Author.name} - ${e.Author.desc}`,category:e.tag,link:`${u}/article?id=${e.id}`})),d=await Promise.all(c.map(t=>n.tryGet(t.link,async()=>{let n=await a(t.link),c=s(n.data),{initialState:l}=JSON.parse(c(`#__NEXT_DATA__`).text()).props.pageProps;return t.description=r(o.join(e,`templates/article-05e51c88.art`),{data:l}),t.pubDate=i(l.createdAt),t})));return{title:`较真查证平台 - 腾讯新闻`,link:`${u}/home`,item:d}}export{d as route};