import{n as e,t}from"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CfXAR0UO.js";import"./helpers-Cqaav28H.js";import{t as n}from"./cache-CpEhLexq.js";import{t as r}from"./render-d6AVTUl2.js";import{t as i}from"./got-dCh-Ojgc.js";import a from"node:path";import{load as o}from"cheerio";e();const s=`https://www.baozimh.com`,c={path:`/comic/:name`,categories:[`anime`],example:`/baozimh/comic/guowangpaiming-shiricaofu`,parameters:{name:"漫画名称，在漫画链接可以得到(`comic/` 后的那段)"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.baozimh.com/comic/:name`]}],name:`订阅漫画`,maintainers:[`Fatpandac`],handler:l};async function l(e){let c=`${s}/comic/${e.req.param(`name`)}`,l=o((await i(c)).data),u=l(`div > div.pure-u-1-1.pure-u-sm-2-3.pure-u-md-3-4 > div > h1`).text(),d=l(`#chapter-items`).first().children().toArray().map(e=>({title:l(e).find(`span`).text(),link:s+l(e).find(`a`).attr(`href`)})),f=l(`#chapters_other_list`).first().children().toArray().map(e=>({title:l(e).find(`span`).text(),link:s+l(e).find(`a`).attr(`href`)})),p=[...d,...f];p.reverse();let m=await Promise.all(p.map(e=>n.tryGet(e.link,async()=>{let n=o((await i(e.link)).data);return e.description=r(a.join(t,`templates/desc-8ab6b3de.art`),{imgUrlList:n(`.comic-contain`).find(`amp-img`).toArray().map(e=>n(e).attr(`src`))}),e})));return{title:`包子漫画-${u}`,description:l(`.comics-detail__desc`).text(),link:c,item:m}}export{c as route};