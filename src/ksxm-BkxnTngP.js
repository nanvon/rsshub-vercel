import{__dirname as e,init_esm_shims as t}from"./esm-shims-DE2PJqdr.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CJF2SF6b.js";import"./helpers-gUVC02jt.js";import{art as n}from"./render-CSnicFA3.js";import{got_default as r}from"./got-Baw2Nbdf.js";import i from"node:path";import{load as a}from"cheerio";import o from"iconv-lite";t();const s={path:[`/sh/rsj/ksxm`,`/shanghai/rsj/ksxm`],categories:[`government`],example:`/gov/sh/rsj/ksxm`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`rsj.sh.gov.cn/`]}],name:`上海市职业能力考试院 考试项目`,maintainers:[`Fatpandac`],handler:c,url:`rsj.sh.gov.cn/`};async function c(){let t=`http://www.rsj.sh.gov.cn/ksyzc/wangz/kwaplist_300.jsp`,s=await r({method:`get`,url:t,responseType:`buffer`}),c=o.decode(s.data,`gbk`),l=a(c),u=l(`kwap`).toArray().map(t=>({title:l(t).find(`kaosxmmc`).text(),link:`http://www.rsj.sh.gov.cn/ksyzc/index801.jsp`,description:n(i.join(e,`templates/ksxm-fa4b3d4b.art`),{name:l(t).find(`kaosxmmc`).text(),type:l(t).find(`kaoslb_dmfy`).text(),date:l(t).find(`kaosrq`).text(),registrationDeadline:l(t).find(`baomksrq_A300`).text()}),guid:`${l(t).find(`kaosrq`).text()}${l(t).find(`kaosxmmc`).text()}`}));return{title:`上海市职业能力考试院 - 考试项目`,link:t,item:u}}export{s as route};