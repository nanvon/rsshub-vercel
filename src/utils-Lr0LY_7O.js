import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import{art as n}from"./render-DftO2d-b.js";import{got_default as r}from"./got-CoH3ye0k.js";import i from"node:path";import{load as a}from"cheerio";t();const o=(t,o)=>o(t.link,async()=>{let o=a((await r(t.link,{responseType:`buffer`})).data);o(`.post_main img`).each((e,t)=>{if(!t.attribs.src)return;let n=new URL(t.attribs.src);n.host===`nimg.ws.126.net`&&(t.attribs.src=n.searchParams.get(`url`))});let s=t.imgsrc?new URL(t.imgsrc).searchParams.get(`url`):!1;return t.description=n(i.join(e,`templates/dy-b6e04c69.art`),{imgsrc:s,postBody:o(`.post_body`).html()}),t.feedLink=o(`.post_wemedia_name a`).attr(`href`),t.feedDescription=o(`.post_wemedia_title`).text(),t.feedImage=o(`.post_wemedia_avatar img`).attr(`src`),t});export{o as parseDyArticle};