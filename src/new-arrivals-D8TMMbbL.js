import{n as e,t}from"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CfXAR0UO.js";import"./helpers-Cqaav28H.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./got-dCh-Ojgc.js";import i from"node:path";import{load as a}from"cheerio";e();const o=`https://www.patagonia.com`,s={mens:[`mens-new`,`mens-new-arrivals`],womens:[`womens-new`,`womens-new-arrivals`],kids:[`kids-new-arrivals`,`kids-baby-new-arrivals`],luggage:[`luggage-new-arrivals`,`luggage-new-arrivals`]};function c(e){let t=new URL(e),n=t.searchParams.get(`sfrm`);return t.search=new URLSearchParams({sfrm:n}).toString(),t.toString()}const l={path:`/new-arrivals/:category`,categories:[`shopping`],example:`/patagonia/new-arrivals/mens`,parameters:{category:`category, see below`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`New Arrivals`,maintainers:[],handler:u,description:`| Men's | Women's | Kids' & Baby | Packs & Gear |
| ----- | ------- | ------------ | ------------ |
| mens  | womens  | kids         | luggage      |`};async function u(e){let l=e.req.param(`category`),u=(await r({method:`get`,url:`${o}/on/demandware.store/Sites-patagonia-us-Site/en_US/Search-LazyGrid`,searchParams:{cgid:s[l][0],isLazyGrid:!0}})).data,d=a(u),f=d(`.product`).toArray().map(e=>{let r={title:d(e).find(`.product-tile`).data(`tealium`).product_name[0],link:o+`/`+d(e).find(`[itemprop="url"]`).attr(`href`),description:``,category:d(e).find(`[itemprop="category"]`).attr(`content`)},a=new URL(d(e).find(`[itemprop="image"]`).attr(`content`));return a=c(a),r.description=d(e).find(`[itemprop="price"]`).eq(0).text()+n(i.join(t,`templates/product-description-5678e430.art`),{imgUrl:a}),r});return{title:`Patagonia - New Arrivals - ${l.toUpperCase()}`,link:`${o}/shop/${s[l][1]}`,description:`Patagonia - New Arrivals - ${l.toUpperCase()}`,item:f}}export{l as route};