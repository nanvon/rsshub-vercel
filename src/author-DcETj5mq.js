import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-DqHh1IN2.js";import"./helpers-gUVC02jt.js";import{art as n}from"./render-CSnicFA3.js";import{parseDate as r,parseRelativeDate as i}from"./parse-date-DHsdom8D.js";import{got_default as a}from"./got-VGofQtEf.js";import{timezone as o}from"./timezone-CMz5pnRe.js";import s from"node:path";import{load as c}from"cheerio";t();const l={path:`/author/:id`,categories:[`reading`],example:`/qidian/author/9639927`,parameters:{id:`作者 id, 可在作者页面 URL 找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`my.qidian.com/author/:id`]}],name:`作者`,maintainers:[`miles170`],handler:u};async function u(t){let l=`https://my.qidian.com/author/${t.req.param(`id`)}/`,u=await a(l),d=c(u.data),f=d(`.header-msg h1`).contents().first().text().trim(),p=d(`.author-work .author-item`).toArray().map(t=>{t=d(t);let a=t.find(`.author-item-msg`),c=a.find(`.author-item-update span`).text().replace(`·`,``).trim();return{title:a.find(`.author-item-title`).text().trim(),author:f,category:a.find(`.author-item-exp a`).first().text().trim(),description:n(s.join(e,`templates/description-9e9a1db4.art`),{description:a.find(`.author-item-update a`).attr(`title`),image:t.find(`a img`).attr(`src`)}),pubDate:o(/(今|昨)/.test(c)?i(c):r(c,`YYYY-MM-DD HH:mm`),8),link:a.find(`.author-item-update a`).attr(`href`)}});return{title:`${f} - 起点中文网`,description:d(`.header-msg-desc`).text().trim(),link:l,item:p}}export{l as route};