import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as n}from"./ofetch-CISb_5Uo.js";import{cache_default as r}from"./cache-Dfid4xgQ.js";import{art as i}from"./render-CSnicFA3.js";import{parseDate as a}from"./parse-date-DHsdom8D.js";import{ViewType as o}from"./types-Bi82qguM.js";import s from"node:path";import{load as c}from"cheerio";t();const l=async t=>{let{topic:o}=t.req.param(),l=Number.parseInt(t.req.query(`limit`)??`10`,10),u=`https://www.pixelstech.net`,d=new URL(`feed/${o??``}`,u).href,f=await n(d),p=c(f),m=p(`html`).attr(`lang`)??`en`,h=[];return h=p(`div.feed-item`).slice(0,l).toArray().map(t=>{let n=p(t),r=n.find(`a.feed-item-link`),o=r.text(),c=n.attr(`data-bg-image`),l=i(s.join(e,`templates/description-881baa33.art`),{images:c?[{src:c,alt:o}]:void 0,intro:n.find(`div.feed-item-description`).text()}),d=n.parent().find(`h2.section-heading`).text(),f=r.attr(`href`),h=n.attr(`data-feed-id`)?`pixelstech-feed#${n.attr(`data-feed-id`)}`:``,g=n.find(`.time`).text()||d;return{title:o,description:l,pubDate:d?a(d):void 0,link:f?new URL(f,u).href:void 0,guid:h,id:h,content:{html:l,text:l},image:c,banner:c,updated:g?a(g):void 0,language:m}}),h=await Promise.all(h.map(t=>t.link?r.tryGet(t.link,async()=>{try{let r=await n(t.link),a=c(r);a(`div.login-prompt`).remove();let o=a(`h1`).text(),l=(t.description??``)+i(s.join(e,`templates/description-881baa33.art`),{description:a(`article.content-article`).html()}),u=a(`span.source-text a`).attr(`href`),d={title:o,description:l,link:u??t.link,content:{html:l,text:l},language:m};return{...t,...d}}catch{return t}}):t)),{title:p(`title`).text(),description:p(`meta[name="description"]`).attr(`content`),link:d,item:h,allowEmpty:!0,image:p(`meta[name="twitter:image"]`).attr(`content`),author:p(`meta[name="author"]`).attr(`content`),language:m,id:p(`meta[property="og:url"]`).attr(`content`)}},u={path:`/feed/:topic?`,name:`Feed`,url:`www.pixelstech.net`,maintainers:[`nczitzk`],handler:l,example:`/pixelstech/feed/ai`,parameters:{category:{description:`Topic, all by default`,options:[{label:`All`,value:``},{label:`AI`,value:`ai`},{label:`Alibaba`,value:`alibaba`},{label:`Apple`,value:`apple`},{label:`Database`,value:`database`},{label:`Go`,value:`go`},{label:`Huawei`,value:`huawei`},{label:`Java`,value:`java`},{label:`JavaScript`,value:`javascript`},{label:`Linux`,value:`linux`},{label:`LLM`,value:`llm`},{label:`Nvidia`,value:`nvidia`},{label:`Python`,value:`python`},{label:`Rust`,value:`rust`},{label:`Tesla`,value:`tesla`},{label:`Web`,value:`web`},{label:`Web3`,value:`web3`},{label:`Zig`,value:`zig`}]}},description:`:::tip
To subscribe to [AI](https://www.pixelstech.net/feed/ai), where the source URL is \`https://www.pixelstech.net/feed/ai\`, extract the certain parts from this URL to be used as parameters, resulting in the route as [\`/pixelstech/feed/ai\`](https://rsshub.app/pixelstech/feed/ai).
:::

<details>
  <summary>More topics</summary>

  | Topic                                                    | ID                                                          |
  | -------------------------------------------------------- | ----------------------------------------------------------- |
  | [AI](https://www.pixelstech.net/feed/ai)                 | [ai](https://rsshub.app/pixelstech/feed/ai)                 |
  | [Alibaba](https://www.pixelstech.net/feed/alibaba)       | [alibaba](https://rsshub.app/pixelstech/feed/alibaba)       |
  | [Apple](https://www.pixelstech.net/feed/apple)           | [apple](https://rsshub.app/pixelstech/feed/apple)           |
  | [Database](https://www.pixelstech.net/feed/database)     | [database](https://rsshub.app/pixelstech/feed/database)     |
  | [Go](https://www.pixelstech.net/feed/go)                 | [go](https://rsshub.app/pixelstech/feed/go)                 |
  | [Huawei](https://www.pixelstech.net/feed/huawei)         | [huawei](https://rsshub.app/pixelstech/feed/huawei)         |
  | [Java](https://www.pixelstech.net/feed/java)             | [java](https://rsshub.app/pixelstech/feed/java)             |
  | [JavaScript](https://www.pixelstech.net/feed/javascript) | [javascript](https://rsshub.app/pixelstech/feed/javascript) |
  | [Linux](https://www.pixelstech.net/feed/linux)           | [linux](https://rsshub.app/pixelstech/feed/linux)           |
  | [LLM](https://www.pixelstech.net/feed/llm)               | [llm](https://rsshub.app/pixelstech/feed/llm)               |
  | [Nvidia](https://www.pixelstech.net/feed/nvidia)         | [nvidia](https://rsshub.app/pixelstech/feed/nvidia)         |
  | [Python](https://www.pixelstech.net/feed/python)         | [python](https://rsshub.app/pixelstech/feed/python)         |
  | [Rust](https://www.pixelstech.net/feed/rust)             | [rust](https://rsshub.app/pixelstech/feed/rust)             |
  | [Tesla](https://www.pixelstech.net/feed/tesla)           | [tesla](https://rsshub.app/pixelstech/feed/tesla)           |
  | [Web](https://www.pixelstech.net/feed/web)               | [web](https://rsshub.app/pixelstech/feed/web)               |
  | [Web3](https://www.pixelstech.net/feed/web3)             | [web3](https://rsshub.app/pixelstech/feed/web3)             |
  | [Zig](https://www.pixelstech.net/feed/zig)               | [zig](https://rsshub.app/pixelstech/feed/zig)               |

</details>
`,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.pixelstech.net/feed/:topic?`],target:`/feed/:topic`},{title:`All`,source:[`www.pixelstech.net/feed/`],target:`/feed`},{title:`AI`,source:[`www.pixelstech.net/feed/ai`],target:`/feed/ai`},{title:`Alibaba`,source:[`www.pixelstech.net/feed/alibaba`],target:`/feed/alibaba`},{title:`Apple`,source:[`www.pixelstech.net/feed/apple`],target:`/feed/apple`},{title:`Database`,source:[`www.pixelstech.net/feed/database`],target:`/feed/database`},{title:`Go`,source:[`www.pixelstech.net/feed/go`],target:`/feed/go`},{title:`Huawei`,source:[`www.pixelstech.net/feed/huawei`],target:`/feed/huawei`},{title:`Java`,source:[`www.pixelstech.net/feed/java`],target:`/feed/java`},{title:`JavaScript`,source:[`www.pixelstech.net/feed/javascript`],target:`/feed/javascript`},{title:`Linux`,source:[`www.pixelstech.net/feed/linux`],target:`/feed/linux`},{title:`LLM`,source:[`www.pixelstech.net/feed/llm`],target:`/feed/llm`},{title:`Nvidia`,source:[`www.pixelstech.net/feed/nvidia`],target:`/feed/nvidia`},{title:`Python`,source:[`www.pixelstech.net/feed/python`],target:`/feed/python`},{title:`Rust`,source:[`www.pixelstech.net/feed/rust`],target:`/feed/rust`},{title:`Tesla`,source:[`www.pixelstech.net/feed/tesla`],target:`/feed/tesla`},{title:`Web`,source:[`www.pixelstech.net/feed/web`],target:`/feed/web`},{title:`Web3`,source:[`www.pixelstech.net/feed/web3`],target:`/feed/web3`},{title:`Zig`,source:[`www.pixelstech.net/feed/zig`],target:`/feed/zig`}],view:o.Articles};export{l as handler,u as route};