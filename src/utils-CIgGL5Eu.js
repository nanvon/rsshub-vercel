import{__dirname as e,init_esm_shims as t}from"./esm-shims-B6VgfGYP.js";import{art as n}from"./render-CSnicFA3.js";import{got_default as r}from"./got-07RFwdy7.js";import i from"node:path";import{load as a}from"cheerio";t();const o=async t=>{if(/\.blog\.caixin\.com$/.test(new URL(t.link).hostname))return s(t);{let{data:o}=await r(t.link),s=a(o);return t.description=n(i.join(e,`templates/article-4c9fbe32.art`),{item:t,$:s}),t.audio&&(t.itunes_item_image=t.audio_image_url,t.enclosure_url=t.audio,t.enclosure_type=`audio/mpeg`),t}},s=async e=>{let t=await r(e.link),n=a(t.data)(`#the_content`).removeAttr(`style`);return n.find(`img`).removeAttr(`style`),n.find(`p`).filter((e,t)=>t.children[0].data===String.fromCodePoint(160)).remove(),e.description=n.html(),e};export{o as parseArticle,s as parseBlogArticle};