import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./dist-BYIKqG8W.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-BWStd97H.js";import"./render-CxhTJIsl.js";import"./parse-date-Bgabdhlb.js";import"./ofetch-CSKgrsrO.js";import{got_default as t}from"./got-CtVGR9YK.js";import"./timezone-BrNu6iXe.js";import{parseArticle as n}from"./utils-C6xc1u4V.js";import{load as r}from"cheerio";const i={path:`/sports/:type?`,name:`新浪体育`,categories:[`new-media`],example:`/sports`,parameters:{type:`类别`},maintainers:[`nczitzk`],handler:a};async function a(i){let a=i.req.param(`type`),o=`https://sports.sina.com.cn/others/${a}.shtml`,s=`ul.list2 li a`;a===`ufc`?(o=`http://roll.sports.sina.com.cn/s_ufc_all/index.shtml`,s=`#d_list ul li span a`):(a===`winter`||a===`horse`)&&(o=`https://sports.sina.com.cn/${a}/`,s=`[class^=news-list] .list li a`);let c=await t({method:`get`,url:o}),l=r(c.data),u=l(s).toArray().map(e=>(e=l(e),{title:e.text(),link:e.attr(`href`).replace(`http://`,`https://`)})),d=await Promise.all(u.map(t=>n(t,e.tryGet)));return{title:`${l(`title`).text().split(`_`)[0]} - 新浪体育`,description:l(`meta[name="description"]`).attr(`content`),link:o,item:d}}export{i as route};