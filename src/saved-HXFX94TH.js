import"./esm-shims-wKwH419_.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import"./dist-CTnfpkZH.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{ofetch_default as t}from"./ofetch-CltKKWIZ.js";import"./config-not-found-BVqhRP9D.js";import{utils_default as n}from"./utils-hqS8t2NA.js";const r={path:`/saved/:limit?`,categories:[`multimedia`],example:`/spotify/saved/50`,parameters:{limit:`Track count, 50 by default`},features:{requireConfig:[{name:`SPOTIFY_CLIENT_ID`,description:``},{name:`SPOTIFY_CLIENT_SECRET`,description:``},{name:`SPOTIFY_REFRESHTOKEN`,description:``}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`open.spotify.com/collection/tracks`],target:`/saved`}],name:`Personal Saved Tracks`,maintainers:[`outloudvi`],handler:i,url:`open.spotify.com/collection/tracks`};async function i(r){let i=await n.getPrivateToken(),a=r.req.param(`limit`),o=Number.isNaN(Number.parseInt(a))?50:Number.parseInt(a),s=await t(`https://api.spotify.com/v1/me/tracks?limit=${o}`,{method:`GET`,headers:{Authorization:`Bearer ${i}`}}),c=s.items;return{title:`Spotify: My Saved Tracks`,link:`https://open.spotify.com/collection/tracks`,description:`Latest ${o} saved tracks on Spotify.`,allowEmpty:!0,item:c.map(t=>({...n.parseTrack(t.track),pubDate:e(t.added_at)}))}}export{r as route};