import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-DqHh1IN2.js";import"./helpers-gUVC02jt.js";import{got_default as e}from"./got-VGofQtEf.js";import{load as t}from"cheerio";const n={path:`/citations/:id`,categories:[`journal`],example:`/google/citations/mlmE4JMAAAAJ`,parameters:{id:`N`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Scholar Author Citations`,maintainers:[`KellyHwong`,`const7`],handler:r,description:"The parameter id in the route is the id in the URL of the user's Google Scholar reference page, for example `https://scholar.google.com/citations?user=mlmE4JMAAAAJ` to `mlmE4JMAAAAJ`.\n\n  Query parameters are also supported here, for example `https://scholar.google.com/citations?user=mlmE4JMAAAAJ&sortby=pubdate` to `mlmE4JMAAAAJ&sortby=pubdate`. Please make sure that the user id (`mlmE4JMAAAAJ` in this case) should be the first parameter in the query string."};async function r(n){let r=`https://scholar.google.com/citations?user=${n.req.param(`id`)}`,i=await e({method:`get`,url:r}),a=t(i.data),o=a(`#gsc_prf .gsc_prf_il`).eq(0).text(),s=a(`#gsc_prf_ivh a`).attr(`href`),c=a(`#gsc_prf_in`).text(),l=`Google Scholar Citation Monitor: ${c}; Profile: ${o}; HomePage: ${s}`,u=a(`#gsc_a_b .gsc_a_tr`).toArray().map(e=>{let n=t(e),r=`https://scholar.google.com`+n(`.gsc_a_t a`).attr(`href`),i=n(`.gsc_a_t div`).eq(0).text(),a=n(`.gsc_a_t div`).eq(1).text();return{title:n(`.gsc_a_t a`).text(),author:i,description:`Author: ${i}; Publication: ${a}`,link:r,guid:r}});return{title:`Google Scholar: ${c}`,link:r,description:l,item:u}}export{n as route};