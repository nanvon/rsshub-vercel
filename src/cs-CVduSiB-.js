import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-am9EnuPq.js";import{cache_default as t}from"./cache-Dfid4xgQ.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{timezone as r}from"./timezone-CMz5pnRe.js";import{load as i}from"cheerio";const a=`https://cs.zjut.edu.cn/jsp/newsclass.jsp?wcId=`,o=`cs.zjut.edu.cn`,s={path:`/cs/:type`,categories:[`university`],example:`/zjut/cs/54`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`浙江工业大学计算机科学与技术学院、软件学院`,maintainers:[`zhullyb`],url:`cs.zjut.edu.cn`,handler:c,radar:[{source:[`cs.zjut.edu.cn/jsp/newsclass.jsp`],target:`/cs/:type`}],description:`| 新闻资讯 | 学术动态 | 通知公告 |
| ------- | ------- | ------- |
| 54      | 55      | 53      |`};async function c(s){let c=Number.parseInt(s.req.param(`type`)),l=await e(a+c),u=i(l),d=u(`dl.news`).toArray().map(e=>{let t=u(e),i=t.find(`a`);try{let e=i.text()||``,a=i.attr(`href`);a?a.startsWith(`http`)||(a=`https://`+o+`/jsp/`+a):a=``;let s=r(n(t.find(`.datetime`).text().slice(1,-1)),8);return{title:e,link:a,pubDate:s}}catch{return{title:``,link:``,pubDate:Date.now()}}}).filter(e=>e.title&&e.link),f=await Promise.all(d.map(n=>t.tryGet(n.link,async()=>{let t={...n,description:``};if(o===new URL(n.link).hostname)if(new URL(n.link).pathname.startsWith(`/upload`))t.description=n.link;else{let r=await e(n.link);t.description=i(r)(`div.news1content`).html()||``}else t.description=n.link;return t})));return{title:u(`li#classname`).text()+` - 浙江工业大学计算机科学与技术学院、软件学院`,link:a+c,item:f}}export{s as route};