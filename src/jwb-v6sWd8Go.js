import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import{cache_default as t}from"./cache-GwMhal7i.js";import{ofetch_default as n}from"./ofetch-ZUQ1sEMc.js";import{load as r}from"cheerio";const i={path:`/jwb/:type?`,categories:[`university`],example:`/dgut/jwb/jwtz`,parameters:{type:`哪种通知，默认为教务通知`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},maintainers:[`1200522928`],radar:[{source:[`jwb.dgut.edu.cn/tzgg/`],target:``}],name:`教务部通知公告`,description:`| 教学动态 | 教务通知 | 教研通知 | 实践通知 | 产业学院 |  通识教育  |"杨振宁"班|招生信息 |采购公告 |
| ------- | -------  | ---------| --------| --------| ----------|---------|------- |--------|
| jxdt    | jwtz     | jytz     |   sjtz  |   cyxy  |   tsjy    | yznb    |  zsxx  | cggg   |`,handler:a};async function a(i){let{type:a=`jwtz`}=i.req.param(),o=`https://jwb.dgut.edu.cn/tzgg/${a}.htm`,s=await n(o),c=r(s),l=c(`ul.ul-new4 > li`).toArray().map(t=>{let n=c(t),r=n.find(`a.con`);return{title:r.find(`.tit`).text().trim(),pubDate:e(`${r.find(`.year`).text().trim()}-${r.find(`.day`).text().trim()}`),link:`https://jwb.dgut.edu.cn/${r.attr(`href`)}`}}),u=await Promise.all(l.map(e=>t.tryGet(e.link,async()=>{let t=await n(e.link),i=r(t);return{...e,description:i(`div.v_news_content`).first().html()||void 0}})));return{title:c(`title`).text(),link:o,allowEmpty:!0,item:u}}export{i as route};