import"./ofetch-BRplXtiZ.mjs";import"./config-D7dgKYF5.mjs";import"./logger-CkUWGGaS.mjs";import{t as e}from"./cache-Bv3_kFbE.mjs";import"./helpers-Tm7Pw8Vq.mjs";import{t}from"./parse-date-_GmTZfjS.mjs";import{t as n}from"./got-BglkE51W.mjs";import{t as r}from"./timezone-BAp4uBjD.mjs";import{t as i}from"./rss-parser-Bz51X12w.mjs";import{load as a}from"cheerio";const o={path:`/:lang?/:channel?`,categories:[`traditional-media`],example:`/yna/en/national`,parameters:{lang:"Language, see below, `ko` by default",channel:"RSS Feed Channel, see below, `news` by default"},features:{requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1,requireConfig:!1},name:`News`,maintainers:[`quiniapiezoelectricity`],handler:s,description:"\n| Language  | 한국어 | English | 简体中文 | 日本語 | عربي   | Español | Français |\n| --------- | ------ | ------- | -------- | ------ | ------ | ------- | -------- |\n| `:lang` | `ko` | `en`  | `cn`   | `jp` | `ar` | `es`  | `fr`   |\n\nFor a full list of RSS Feed Channels, please refer to the RSS feed page of the corresponding language\n| RSS Feed Page                                             |\n| --------------------------------------------------------- |\n| [한국어](https://www.yna.co.kr/rss/index?site=footer_rss) |\n| [English](https://en.yna.co.kr/channel/index)             |\n| [简体中文](https://cn.yna.co.kr/channel/index)            |\n| [日本語](https://jp.yna.co.kr/channel/index)              |\n| [عربي](https://ar.yna.co.kr/channel/index)                |\n| [Español](https://sp.yna.co.kr/channel/index)             |\n| [Français](https://fr.yna.co.kr/channel/index)            |\n\n::: tip\nFor example, the path for the RSS feed url https://www.yna.co.kr/rss/economy.xml and https://cn.yna.co.kr/RSS/news.xml would be `/ko/economy` and `/cn/news` respectively. \n:::\n"};async function s(o){let s=o.req.param(`lang`)??`ko`,c=o.req.param(`channel`)??`news`,l;switch(s){case`ko`:l=`https://www.yna.co.kr/rss/${c}.xml`;break;default:l=`https://${s}.yna.co.kr/RSS/${c}.xml`;break}let u=await i.parseURL(l),d=await Promise.all(u.items.map(i=>e.tryGet(i.link,async()=>{i.pubDate=s===`ko`?t(i.pubDate):r(t(i.pubDate),9);let e=a((await n(i.link)).data);i.author=i.creator??e(`.tit-name`).toArray().map(t=>e(t).text()).join(`, `);let o=e(`article.story-news`);return o.find(`.related-group`).remove(),o.find(`.writer-zone01`).remove(),i.description=o.html(),i})));return{title:u.title,link:u.link,description:u.description,language:u.language??s,item:d}}export{o as route};