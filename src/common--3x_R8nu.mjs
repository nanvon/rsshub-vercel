import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import{t as n}from"./ofetch-BRplXtiZ.mjs";import{t as r}from"./config-D7dgKYF5.mjs";import{t as i}from"./cache-Bv3_kFbE.mjs";import{t as a}from"./parse-date-_GmTZfjS.mjs";import{r as o}from"./common-utils-Cdz0xo5t.mjs";import{t as s}from"./render-CSqLtqb8.mjs";import c from"node:path";import{load as l}from"cheerio";e();async function u(e){return(await n(e)).results}async function d(e){let d=`https://www.nber.org/api/v1/working_page_listing/contentType/working_paper/_/_/search`,f=await i.tryGet(d,()=>u(d),r.cache.routeExpire,!1);return{title:`NBER Working Paper`,link:`https://www.nber.org/papers`,item:await Promise.all(f.filter(t=>o(e)===`/papers`||t.newthisweek).map(e=>{let r=`https://www.nber.org${e.url}`;return i.tryGet(r,async()=>{let i=l(await n(r)),o=i(`meta[name="citation_pdf_url"]`).attr(`content`),u=i(`.page-header__intro-inner`).html();return{title:e.title,author:i(`meta[name="dcterms.creator"]`).attr(`content`),pubDate:a(i(`meta[name="citation_publication_date"]`).attr(`content`),`YYYY/MM/DD`),link:r,doi:i(`meta[name="citation_doi"]`).attr(`content`),description:s(c.join(t,`templates/description-9c2e727f.art`),{fullAbstract:u,downloadLink:o})}})})),description:`National Bureau of Economic Research Working Papers articles`}}export{d as t};