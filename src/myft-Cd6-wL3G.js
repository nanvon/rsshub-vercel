import"./esm-shims-DtWyl6zt.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./dist-CKN2M7CD.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-BWStd97H.js";import"./ofetch-CYKAhM9L.js";import{got_default as t}from"./got-pWlL3EH4.js";import{rss_parser_default as n}from"./rss-parser-Be_5gUJv.js";import{load as r}from"cheerio";const i={path:`/myft/:key`,categories:[`traditional-media`],example:`/ft/myft/rss-key`,parameters:{key:`the last part of myFT personal RSS address`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`myFT personal RSS`,maintainers:[`HenryQW`],handler:a,description:`::: tip
  -   Visit ft.com -> myFT -> Contact Preferences to enable personal RSS feed, see [help.ft.com](https://help.ft.com/faq/email-alerts-and-contact-preferences/what-is-myft-rss-feed/)
  -   Obtain the key from the personal RSS address, it looks like \`12345678-abcd-4036-82db-vdv20db024b8\`
:::`};async function a(i){let a=e=>(e.find(`div.o-share, aside, div.o-ads`).remove(),e.html()),o=`https://www.ft.com/myft/following/${i.req.param(`key`)}.rss`,s=await n.parseURL(o),c=await Promise.all(s.items.map(n=>e.tryGet(n.link,async()=>{let e=await t({method:`get`,url:n.link,headers:{Referer:`https://www.facebook.com`}}),i=r(e.data);return n.description=a(i(`article.js-article__content-body`)),n.category=[i(`.n-content-tag--with-follow`).text(),...i(`.article__right-bottom a.concept-list__concept`).toArray().map(e=>i(e).text().trim())],n.author=i(`a.n-content-tag--author`).toArray().map(e=>({name:i(e).text()})),n})));return{title:`FT.com - myFT`,link:o,description:`FT.com - myFT`,item:c}}export{i as route};