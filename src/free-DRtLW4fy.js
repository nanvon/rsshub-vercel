import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseRelativeDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as t}from"./got-CB83B8oA.js";import{load as n}from"cheerio";const r={path:`/free/:type?`,categories:[`reading`],example:`/qidian/free`,parameters:{type:`默认不填为起点中文网，填 mm 为起点女生网`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.qidian.com/free`],target:`/free`}],name:`限时免费`,maintainers:[`LogicJake`],handler:i,url:`www.qidian.com/free`};async function i(r){let i=r.req.param(`type`),a,o;i===`mm`?(a=`https://www.qidian.com/mm/free`,o=`起点女生网`):(a=`https://www.qidian.com/free`,o=`起点中文网`);let s=await t(a),c=n(s.data),l=c(`#limit-list li`),u=l.toArray().map(t=>{t=c(t);let n=`<img src="https:${t.find(`.book-img-box img`).attr(`src`)}">`,r=`<p>评分：${t.find(`.score`).text()}</p>`,i=`<a href=https:${t.find(`p.update > a`).attr(`href`)}>${t.find(`p.update > a`).text()}</a>`;return{title:t.find(`.book-mid-info h4 a`).text(),description:n+r+i+`<br>`+t.find(`p.intro`).html(),pubDate:e(t.find(`p.update span`).text()),link:`https:`+t.find(`.book-mid-info h4 a`).attr(`href`),author:t.find(`p.author a.name`).text()}});return{title:o,description:`限时免费-${o}`,link:a,item:u}}export{r as route};