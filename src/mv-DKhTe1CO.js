import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./ofetch-TsvCL7Kz.js";import"./helpers-LVq640iW.js";import"./got-lNAQakSo.js";import{invalid_parameter_default as e}from"./invalid-parameter-B0jPSaWz.js";import{doGot as t,genSize as n}from"./util-BCJD6vv_.js";const r={path:`/mv/:number/:domain?`,categories:[`multimedia`],example:`/bt0/mv/35575567/2`,parameters:{number:"影视详情id, 网页路径为`/mv/{id}.html`其中的id部分, 一般为8位纯数字",domain:`数字1-9, 比如1表示请求域名为 1bt0.com, 默认为 2`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!0,supportPodcast:!1,supportScihub:!1},radar:[{source:[`2bt0.com/mv/`]}],name:`影视资源下载列表`,maintainers:[`miemieYaho`],handler:i};async function i(r){let i=r.req.param(`domain`)??`2`,o=r.req.param(`number`);if(!/^[1-9]$/.test(i))throw new e(`Invalid domain`);let s=/^\d{6,}$/;if(!s.test(o))throw new e(`Invalid number`);let c=`https://www.${i}bt0.com`,l=`${c}/prod/core/system/getVideoDetail/${o}`,u=(await t(0,c,l)).data,d=Object.values(u.ecca).flatMap(e=>e.map(e=>({title:e.zname,guid:e.zname,description:`${e.zname}[${e.zsize}]`,link:`${c}/tr/${e.id}.html`,pubDate:e.ezt,enclosure_type:`application/x-bittorrent`,enclosure_url:e.zlink,enclosure_length:n(e.zsize),category:a(e.zqxd,e.text_html,e.audio_html,e.new===1?`新`:``)})));return{title:u.title,link:`${c}/mv/${o}.html`,item:d}}function a(...e){return e.filter(e=>e!==``).join(`,`)}export{r as route};