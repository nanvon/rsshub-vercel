import{n as e,t}from"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CRUPiVpr.js";import"./helpers-Cqaav28H.js";import{t as n}from"./cache-CpEhLexq.js";import{t as r}from"./render-d6AVTUl2.js";import{t as i}from"./parse-date-CHEO0z5G.js";import{t as a}from"./got-BlqYKpVp.js";import{t as o}from"./timezone-BPfwRbwD.js";import{t as s}from"./utils-ClctU9C9.js";import c from"node:path";e();const l={path:`/web/:channel`,categories:[`traditional-media`],example:`/oeeee/web/170`,parameters:{channel:`频道 ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`奥一网`,maintainers:[`TimWu007`],handler:u,description:"-   若在桌面端打开奥一网栏目页（如 `https://www.oeeee.com/api/channel.php?s=/index/index/channel/gz`），可查看该页源代码，搜索 `OECID`。\n  -   若在移动端打开奥一网栏目页（格式例：`https://m.oeeee.com/m.php?s=/m2/channel&channel_id=169`），即可从 url 中获取。需注意的是，如果该栏目页的 url 格式为 `https://m.oeeee.com/detailChannel_indexData.html?channel_id=266` ，则 `266` 并非为本路由可用的频道 ID，建议从桌面端获取。"};async function u(e){let{data:l}=await a(`https://www.oeeee.com/api/channel.php?m=Js4channelNews&a=newLatest&cid=${e.req.param(`channel`)??0}`),u=l.data.map(e=>({title:`【`+e.channel_name+`】`+e.title,description:r(c.join(t,`templates/description-6615c3d4.art`),{thumb:e.img,description:e.summary}),pubDate:o(i(e.datetime),8),link:e.linkurl,author:e.author,channelEname:e.channel_ename})),d=u[1]?u[1].channelEname:``,f=await Promise.all(u.map(e=>s(e,n.tryGet)));return{title:`南方都市报奥一网`,link:`https://www.oeeee.com/api/channel.php?s=/index/index/channel/${d}`,item:f}}export{l as route};