import{__dirname as e,init_esm_shims as t}from"./esm-shims-B6VgfGYP.js";import{art as n}from"./render-CSnicFA3.js";import{parseDate as r}from"./parse-date-DHsdom8D.js";import i from"node:path";t();const a=(t,r)=>n(i.join(e,`templates/description-d08e0099.art`),{description:t,images:r}),o=e=>{let t=e.user.nickname,n=e.post.subject,i=`https://www.miyoushe.com/ys/article/${e.post.post_id}`,o=e.post.content||``;try{o=JSON.parse(e.post.content).describe}catch(e){if(!(e instanceof SyntaxError))throw e}let s=a(o||``,[...new Set([e.post.cover,...e.post.images])].filter(Boolean)),c=r(e.post.created_at*1e3),l=e.stat.like_num,u=e.stat.reply_num;return{author:t,title:n,link:i,description:s,pubDate:c,upvotes:l,comments:u}};export{o as post2item};