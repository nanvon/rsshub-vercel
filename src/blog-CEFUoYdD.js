import{n as e,t}from"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import{t as n}from"./ofetch-CRUPiVpr.js";import{t as r}from"./render-d6AVTUl2.js";import{t as i}from"./parse-date-CHEO0z5G.js";import{t as a}from"./types-Bn7An2Wc.js";import o from"node:path";import{load as s}from"cheerio";e();const c=async e=>{let a=Number.parseInt(e.req.query(`limit`)??`10`,10),c=`https://windsurf.com`,l=new URL(`blog`,c).href,u=new URL(`api/blog`,c).href,d=await n(u,{query:{paginate:a,cursor:0}}),f=s(await n(l)),p=f(`html`).attr(`lang`)??`en`,m=f(`title`).first().text(),h=m.split(/\|/).pop()?.trim(),g=d.posts.slice(0,a).map(e=>{let n=e.title,a=e.images?.[0],s=r(o.join(t,`templates/description-881baa33.art`),{images:a?[{src:a,alt:n}]:void 0,intro:e.summary}),l=e.date,u=e.slug,d=e.tags,f=e.authors.map(e=>({name:e,url:void 0,avatar:void 0})),m=e.slug?`windsurf-blog-${e.slug}`:void 0,h=l;return{title:n,description:s,pubDate:l?i(l):void 0,link:u?new URL(`blog/${u}`,c).href:void 0,category:d,author:f,guid:m,id:m,content:{html:s,text:s},image:a,banner:a,updated:h?i(h):void 0,language:p}});return{title:m,description:f(`meta[property="og:description"]`).attr(`content`),link:l,item:g,allowEmpty:!0,image:f(`meta[property="og:image"]`).attr(`content`),author:h,language:p,id:f(`meta[property="og:url"]`).attr(`content`)}},l={path:`/blog`,name:`Blog`,url:`windsurf.com`,maintainers:[`nczitzk`],handler:c,example:`/windsurf/blog`,parameters:void 0,description:void 0,categories:[`programming`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`windsurf.com/blog`],target:`/blog`}],view:a.Articles};export{c as handler,l as route};