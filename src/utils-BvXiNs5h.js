import{t as e}from"./ofetch-CfXAR0UO.js";import{t}from"./parse-date-CHEO0z5G.js";import{load as n}from"cheerio";const r=async r=>{let i=n(await e(r.link)),a=JSON.parse(i(`script[type="application/ld+json"]`).text());i(`.article-ad, #strategy-rules-player-wrapper, [data-module-name="newsletter-article-sign-up-module"], div.flex.flex-col.gap-2`).remove();let o=i(`.article-content-wrapper figure`);return o.find(`img`).attr(`src`,o.find(`img`).attr(`url`)?.split(`?`)[0]),o.find(`img`).removeAttr(`style srcset url`),r.description=o.parent().html()+i(`.document-body`).toArray().map(e=>i(e).html()).join(``),r.pubDate=t(a.datePublished),r.author=a.author.map(e=>({name:e.name})),r.image=a.image.url.split(`?`)[0],r};export{r as t};