import"./esm-shims-mGm6WwCc.js";import{t as e}from"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t}from"./cache-CpEhLexq.js";import{t as n}from"./got-CgQXMNWI.js";import r from"dayjs";import i from"dayjs/plugin/isSameOrBefore.js";import{load as a}from"cheerio";r.extend(i);const o={path:`/chatgpt/release-notes`,categories:[`program-update`],example:`/openai/chatgpt/release-notes`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`ChatGPT - Release Notes`,maintainers:[],handler:s};async function s(){let i=`https://help.openai.com/en/articles/6825453-chatgpt-release-notes`,o=await t.tryGet(i,async()=>{let e=[],t=a((await n({method:`get`,url:i})).data),o=JSON.parse(t(`script#__NEXT_DATA__`).text()),s=o.props.pageProps.articleContent.title,c=o.props.pageProps.articleContent.description,l=o.props.pageProps.articleContent.author.name,u=o.props.pageProps.articleContent.blocks,d=r(),f=null,p={},m=d.year(),h=-1;for(let t of u){let n=(t.text||``).trim();if(n)if(t.type===`subheading`){f!==null&&(p.description=p.description.trim().replaceAll(`
`,`<br/>`),e.push(p),p={}),f=n,p.title=f,p.author=l,p.category=`ChatGPT`,p.link=i+`#`+t.idAttribute,p.guid=i+`#`+t.idAttribute,p.description=``;let a=f.match(/\((\w+\s+\d{1,2})\)$/);if(a!==null){let e=1+`Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec`.split(`,`).indexOf(a[1].slice(0,3));h!==-1&&h<e&&m--,h=e;let t=r(`${a[1]}, ${m}`,[`MMMM D, YYYY`,`MMM D, YYYY`],`en`,!0);p.pubDate=r(t.toISOString().replace(/\.\d{3}Z$/,`-08:00`));let n=t.format(`YYYY_MM_DD`);p.guid=i+`#`+n}}else p.description+=t.text.trim()+`

`}return f!==null&&(p.description=p.description.trim().replaceAll(`
`,`<br/>`),e.push(p)),{feedTitle:s,feedDesc:c,items:e}},e.cache.routeExpire,!1);return{title:o.feedTitle,description:o.feedDesc,link:i,item:o.items}}export{o as route};