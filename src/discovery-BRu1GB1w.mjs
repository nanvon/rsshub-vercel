import"./esm-shims-D5mxTuu_.mjs";import"./config-CDM38Tpk.mjs";import"./logger-B0B1yUZ6.mjs";import"./ofetch-FkpIOIxH.mjs";import"./parse-date-Cv8vEJfE.mjs";import{t as e}from"./types-CypZ_btd.mjs";import"./config-not-found-D3OEoBEE.mjs";import{a as t,n,r,t as i}from"./utils-5R92PtiO.mjs";const a={path:`/discovery`,name:`発見`,categories:[`social-media`],example:`/mixi2/discovery`,features:{supportRadar:!0,requireConfig:i},radar:[{source:[`mixi.social/home/discovery`],target:`/discovery`,title:`発見`}],view:e.SocialMedia,handler:async e=>{let i=Number.parseInt(e.req.query(`limit`)??`20`,10),a=r(),o=await a.getRecommendedTimeline({limit:i}),s=await a.getPersonas({personaIds:o?.posts?.map(e=>e.personaId)??[]});return{title:`発見`,link:`https://mixi.social/home/discovery`,image:`https://mixi.social/_next/static/media/image_logo.8bb36f11.svg`,item:o?.posts?.filter(t).map(e=>({title:`@${s.personas.find(t=>t.personaId===e.personaId)?.name}`,...n(e,s.personas)}))??[]}},maintainers:[`KarasuShin`]};export{a as route};