import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./ofetch-TsvCL7Kz.js";import"./helpers-LVq640iW.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-lNAQakSo.js";import{ViewType as n}from"./types-Bi82qguM.js";import{load as r}from"cheerio";const i={path:`/html_clip/:user/:tag`,example:`/inoreader/html_clip/1005137674/user-favorites`,categories:[`reading`],view:n.Articles,name:`HTML Clip`,maintainers:[`EthanWng97`],handler:a};async function a(n){let i=n.req.param(`user`),a=n.req.param(`tag`),o=n.req.query(`limit`)||20,s=`https://www.inoreader.com/stream/user/${i}/tag/${a}/view/html?n=${o}`,c=await t({method:`get`,url:s}),l=c.data,u=r(l),d=u(`#snip_body>.article_content`);return{title:u(`.header_text`).text().trim(),link:s,item:d.toArray().map(t=>{let n=u(t).clone(),r=u(t).prev(),i=u(`div.article_author .au1`,r).contents().filter((e,t)=>t.nodeType===3).text().replace(/posted (on|at) /,``).replace(/UTC.*/,``);return{title:u(`a.title_link`,r).text().trim(),link:u(`a.title_link`,r).attr(`href`),author:u(`div.article_author span span`,r).text().trim()+` via `+u(`div.article_author a.feed_link`,r).text().trim(),pubDate:e(i,[`MMM DD YYYY HH:mm:ss`,`HH:mm:ss`]),description:u(n).html()}}),allowEmpty:!0}}export{i as route};