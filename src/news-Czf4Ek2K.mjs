import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import"./ofetch-BRplXtiZ.mjs";import"./config-D7dgKYF5.mjs";import"./logger-CkUWGGaS.mjs";import"./helpers-Tm7Pw8Vq.mjs";import{t as n}from"./parse-date-_GmTZfjS.mjs";import{t as r}from"./render-CSqLtqb8.mjs";import{t as i}from"./got-BglkE51W.mjs";import{t as a}from"./types-CaC5w-Pp.mjs";import o from"node:path";import{load as s}from"cheerio";e();const c={path:`/news/:language`,categories:[`design`],view:a.Pictures,example:`/jimmyspa/news/tw`,parameters:{language:{description:`语言`,options:[{value:`tw`,label:`臺灣正體`},{value:`en`,label:`English`},{value:`jp`,label:`日本語`}]}},radar:[{source:[`www.jimmyspa.com/:language/News`]}],name:`News`,description:`
| language | Description |
| ---   | ---   |
| tw | 臺灣正體 |
| en | English |
| jp | 日本語 |
    `,maintainers:[`Cedaric`],handler:l};async function l(e){let n=e.req.param(`language`),a=`https://www.jimmyspa.com`,c=new URL(`/${n}/News/Ajax/changeList?year=&keyword=&categoryId=0&page=1`,a).href,l=s((await i(c)).data.view)(`ul#appendNews li.card_block`).toArray().map(e=>{let n=s(e),i=n(`a.news_card .info_wrap h3`).text(),a=n(`a.news_card .card_img img`).prop(`src`)||``,c=n(`a.news_card`).prop(`data-route`),l=u((n(`a.news_card div.date`).html()||``).toString()),d=r(o.join(t,`templates/description-16be3a2a.art`),{images:a?[{src:a,alt:i}]:void 0,description:n(`a.news_card .info_wrap p`).text()});return{title:i,link:c,description:d,pubDate:l,content:{html:d,text:i}}});return{title:`幾米 - 最新消息(${n})`,link:`${a}/${n}/News`,allowEmpty:!0,item:l}}function u(e){let t=e.match(/<p>(\d{1,2})<\/p>\s*<p>(\d{1,2})\s*\.\s*([A-Za-z]{3})<\/p>/);if(t){let e=Number.parseInt(t[1])+1,r=t[2];return n(`20${r}-${{Jan:`01`,Feb:`02`,Mar:`03`,Apr:`04`,May:`05`,Jun:`06`,Jul:`07`,Aug:`08`,Sep:`09`,Oct:`10`,Nov:`11`,Dec:`12`}[t[3]]||``}-${e}`)}}export{c as route};