import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{timezone as n}from"./timezone-CMz5pnRe.js";import{ViewType as r}from"./types-Bi82qguM.js";import{ofetch as i}from"ofetch";import{load as a}from"cheerio";const o={path:`/district/:category?`,name:`地方经济`,url:`district.ce.cn`,maintainers:[`cscnk52`],handler:s,example:`/ce/district`,parameters:{category:`栏目标识，默认为 roll（即时新闻）`},description:`| 即时新闻 | 经济动态 | 独家视角 | 专题 | 数说地方 | 地方播报 | 专稿 | 港澳台 |
|----------|----------|----------|------|----------|----------|------|--------|
| roll     | jjdt     | poll     | ch   | ssdf     | dfbb     | zg   | gat    |`,categories:[`traditional-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1,supportRadar:!0},radar:[{source:[`district.ce.cn/newarea/:category/index.shtml`],target:`/district/:category?`},{source:[`district.ce.cn/newarea/:category`],target:`/district/:category?`},{source:[`district.ce.cn`],target:`/district`}],view:r.Articles};async function s(r){let{category:o=`roll`}=r.req.param(),s=`http://district.ce.cn/newarea/${o}/index.shtml`,c=await i(s,{responseType:`arrayBuffer`}),l=a(new TextDecoder(`gb2312`).decode(new Uint8Array(c))),u=l(`div.channl a`).eq(1).attr(`title`),d=l(`div.sec_left li`).toArray().map(e=>{let t=l(e);return{title:t.find(`a`).text().trim(),link:new URL(t.find(`a`).attr(`href`),s).href}}),f=await Promise.all(d.map(r=>e.tryGet(r.link,async()=>{let e=await i(r.link,{responseType:`arrayBuffer`}),o=a(new TextDecoder(`gb2312`).decode(new Uint8Array(e)));return r.pubDate=n(t(o(`span#articleTime`).text().trim(),`YYYY年MM月DD日 HH:mm`),8),r.description=o(`div.TRS_Editor`).html(),r})));return{title:`中国经济网地方经济 - ${u}`,link:s,item:f}}export{o as route};