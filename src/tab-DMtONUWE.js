import"./esm-shims-DtWyl6zt.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./dist-CKN2M7CD.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-BWStd97H.js";import"./render-CxhTJIsl.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import{ofetch_default as n}from"./ofetch-CYKAhM9L.js";import"./got-pWlL3EH4.js";import{getArticleDesc as r,getOriginUrl as i}from"./utils-ZW-Mqvme.js";import{load as a}from"cheerio";const o={path:`/tab/:tab?`,categories:[`picture`],example:`/jpxgmn/tab`,parameters:{tab:"分类，默认为`top`，包括`top`、`new`、`hot`，以及[源网站](http://www.jpxgmn.com/)所包含的其他相对路径，比如`Xiuren`、`XiaoYu`等"},radar:[{source:[`mei5.vip/:tab`],target:`/:tab`}],name:`分类`,maintainers:[`Urabartin`],handler:s,features:{nsfw:!0}};async function s(o){let{tab:s=`top`}=o.req.param(),c=[`new`,`top`,`hot`].includes(s),l=`${await i()}/${s}`+(c?`.html`:`/`),u=await n.raw(l),d=new URL(u.url).origin,f=a(u._data),p=f(`div.toptip > a`).get(1),m=f(`title`).text();c?m=m.split(`_`)[1]:p&&(m=f(p).text());let h=f(`div.related_posts ul > li`).toArray().map(e=>({title:f(e).find(`a span`).text(),link:new URL(f(e).find(`a`).attr(`href`),d).href,pubDate:t(f(e).find(`footer span`).first().text())}));return{title:`极品性感美女 - ${m}`,link:u.url,item:await Promise.all(h.map(t=>e.tryGet(t.link,async()=>(t.description=await r(t.link),t))))}}export{o as route};