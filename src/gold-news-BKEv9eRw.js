import"./esm-shims-2LyWUseo.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-BLnIkXRv.js";import{cache_default as t}from"./cache-Dfid4xgQ.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{ViewType as r}from"./types-Bi82qguM.js";import{load as i}from"cheerio";const a=async r=>{let{category:a}=r.req.param(),o=Number.parseInt(r.req.query(`limit`)??`30`,10),s=new URL(`gold-news${a?`/${a}`:``}`,`https://bullionvault.com`).href,c=await e(s),l=i(c),u=l(`html`).attr(`lang`)??`en`,d=[];return d=l(`section#block-bootstrap-views-block-latest-articles-block div.media, div.gold-news-content table tr`).slice(0,o).toArray().map(e=>{let t=l(e),r=t.find(`td.views-field-title a, div.views-field-title a`).first(),i=r.text(),a=t.find(`td.views-field-created, div.views-field-created`).text().trim(),o=r.attr(`href`),s=t.find(`a.username`).toArray().map(e=>{let t=l(e);return{name:t.text(),url:t.attr(`href`),avatar:void 0}}),c=a;return{title:i,pubDate:a?n(a):void 0,link:o,author:s,updated:c?n(c):void 0,language:u}}),d=(await Promise.all(d.map(r=>r.link?t.tryGet(r.link,async()=>{let t=await e(r.link),a=i(t),o=a(`article.article h1`).text(),s=a(`div.content`).html()??``,c=a(`div.submitted`).text().split(/,/).pop(),l=a(`meta[name="news_keywords"]`).attr(`content`)?.split(/,/)??[],d=a(`div.view-author-bio`).toArray().map(e=>{let t=a(e);return{name:t.find(`h1`).text(),url:void 0,avatar:t.find(`img`).attr(`src`)}}),f=c,p={title:o,description:s,pubDate:c?n(c):r.pubDate,category:l,author:d,content:{html:s,text:s},updated:f?n(f):r.updated,language:u};return{...r,...p}}):r))).filter(e=>!0),{title:l(`title`).text(),description:l(`meta[property="og:description"]`).attr(`content`),link:s,item:d,allowEmpty:!0,image:l(`meta[property="og:image"]`).attr(`content`),author:l(`meta[property="og:title"]`).attr(`content`)?.split(/\|/).pop(),language:u,id:l(`meta[property="og:url"]`).attr(`content`)}},o={path:`/gold-news/:category?`,name:`Gold News`,url:`bullionvault.com`,maintainers:[`nczitzk`],handler:a,example:`/bullionvault/gold-news`,parameters:{category:{description:`Category`,options:[{label:`Gold market analysis & gold investment research`,value:``},{label:`Opinion & Analysis`,value:`opinion-analysis`},{label:`Gold Price News`,value:`gold-price-news`},{label:`Investment News`,value:`news`},{label:`Gold Investor Index`,value:`gold-investor-index`},{label:`Gold Infographics`,value:`infographics`},{label:`Market Fundamentals`,value:`market-fundamentals`}]}},description:`:::tip
If you subscribe to [Gold Price News](https://www.bullionvault.com/gold-news/gold-price-news)ï¼Œwhere the URL is \`https://www.bullionvault.com/gold-news/gold-price-news\`, extract the part \`https://www.bullionvault.com/gold-news/\` to the end, and use it as the parameter to fill in. Therefore, the route will be [\`/bullionvault/gold-news/gold-price-news\`](https://rsshub.app/bullionvault/gold-news/gold-price-news).
:::

| Category                                                                          | ID                                                                                   |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------ |
| [Opinion & Analysis](https://www.bullionvault.com/gold-news/opinion-analysis)     | [opinion-analysis](https://rsshub.app/bullionvault/gold-news/opinion-analysis)       |
| [Gold Price News](https://www.bullionvault.com/gold-news/gold-price-news)         | [gold-price-news](https://rsshub.app/bullionvault/gold-news/gold-price-news)         |
| [Investment News](https://www.bullionvault.com/gold-news/news)                    | [news](https://rsshub.app/bullionvault/gold-news/news)                               |
| [Gold Investor Index](https://www.bullionvault.com/gold-news/gold-investor-index) | [gold-investor-index](https://rsshub.app/bullionvault/gold-news/gold-investor-index) |
| [Gold Infographics](https://www.bullionvault.com/gold-news/infographics)          | [infographics](https://rsshub.app/bullionvault/gold-news/infographics)               |
| [Market Fundamentals](https://www.bullionvault.com/gold-news/market-fundamentals) | [market-fundamentals](https://rsshub.app/bullionvault/gold-news/market-fundamentals) |
`,categories:[`finance`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`bullionvault.com/gold-news/:category`],target:e=>{let t=e.category;return`/bullionvault/gold-news${t?`/${t}`:``}`}},{title:`Gold market analysis & gold investment research`,source:[`bullionvault.com/gold-news`],target:`/gold-news`},{title:`Opinion & Analysis`,source:[`bullionvault.com/gold-news/opinion-analysis`],target:`/gold-news/opinion-analysis`},{title:`Gold Price News`,source:[`bullionvault.com/gold-news/gold-price-news`],target:`/gold-news/gold-price-news`},{title:`Investment News`,source:[`bullionvault.com/gold-news/news`],target:`/gold-news/news`},{title:`Gold Investor Index`,source:[`bullionvault.com/gold-news/gold-investor-index`],target:`/gold-news/gold-investor-index`},{title:`Gold Infographics`,source:[`bullionvault.com/gold-news/infographics`],target:`/gold-news/infographics`},{title:`Market Fundamentals`,source:[`bullionvault.com/gold-news/market-fundamentals`],target:`/gold-news/market-fundamentals`}],view:r.Articles};export{a as handler,o as route};