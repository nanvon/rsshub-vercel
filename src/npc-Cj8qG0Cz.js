import"./esm-shims-DE2PJqdr.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CJF2SF6b.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-Baw2Nbdf.js";import{timezone as r}from"./timezone-CMz5pnRe.js";import{load as i}from"cheerio";const a={path:`/npc/:caty`,categories:[`government`],example:`/gov/npc/c183`,parameters:{caty:"分类名，支持形如 `http://www.npc.gov.cn/npc/c2/*/` 的网站，传入 npc 之后的参数"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`npc.gov.cn/npc/c2/:caty`]}],name:`通用`,maintainers:[`233yeee`],handler:o,description:`| 立法 | 监督 | 代表 | 理论 | 权威发布 | 滚动新闻 |
| ---- | ---- | ---- | ---- | -------- | -------- |
| c183 | c184 | c185 | c189 | c12435   | c10134   |`};async function o(a){let o=`http://www.npc.gov.cn/npc/c2/${a.req.param(`caty`)}/`,s=(await n(o)).data,c=i(s),l=c(`title`).text(),u=c(`.clist a`).toArray().map(e=>new URL(c(e).attr(`href`),o).href),d=await Promise.all(u.map(a=>e.tryGet(a,async()=>{let e=(await n(a)).data,o=i(e),s=o(`title`).text().replace(`_中国人大网`,``),c=o(`script:contains("fbrq")`).text().match(/fbrq = "(.*?)"/)[1],l=o(`#Zoom`).html();return{title:s,link:a,description:l,pubDate:r(t(c,`YYYY年MM月DD日 HH:mm`),8)}})));return{title:l,link:o,description:l,item:d}}export{a as route};