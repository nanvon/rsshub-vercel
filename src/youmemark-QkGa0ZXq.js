import"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import{t as e}from"./ofetch-CfXAR0UO.js";import{t}from"./parse-date-CHEO0z5G.js";import{load as n}from"cheerio";const r={path:`/:userid`,categories:[`blog`],example:`/youmemark/pseudoyu`,parameters:{userid:"`userid` is the user id of youmemark"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Bookmarks`,maintainers:[`pseudoyu`],handler:i,radar:[{source:[`youmemark.com/user/:userid`],target:`/:userid`}],description:`Get user's public bookmarks from YouMeMark
::: tip
  Add \`?limit=<number>\` to the end of the route to limit the number of items. Default is 10.
:::`};async function i(r){let i=r.req.param(`userid`),a=r.req.query(`limit`)?Number.parseInt(r.req.query(`limit`)):10,o=n(await e(`https://youmemark.com/user/${i}`,{headers:{"User-Agent":`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36`}})),s=o(`h2.font-bold`).text().trim(),c=o(`span.relative.flex img, span.relative.flex.shrink-0 img`).attr(`src`),l=o(`.text-center .prose p, .text-sm.text-gray-500.text-center .prose p`).first().text().trim(),u=[];return o(`h2:contains("收集箱")`).parent().find(`.rounded-lg.space-y-2`).each((e,n)=>{let r=o(n),i=r.find(`> div`).first(),a=i.find(`a`),s=a.find(`span`).first().text().trim(),c=a.find(`span`).last().text().trim().replaceAll(/[()]/g,``).trim(),l=a.attr(`href`),d=i.find(`> div.text-sm.text-gray-500`).find(`p`).text().trim(),f=r.find(`.text-xs.text-gray-500 span`).text().trim();l&&s&&f&&u.push({title:s,link:l,description:d,pubDate:t(f,`YYYY-MM-DD`),author:c,guid:l})}),{title:`${s}'s Bookmarks - YouMeMark`,link:`https://youmemark.com/user/${i}`,description:l,image:c,item:u.slice(0,a),language:`en`}}export{r as route};