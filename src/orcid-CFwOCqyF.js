import{n as e,t}from"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./got-CgQXMNWI.js";import i from"node:path";e();const a={path:`/:id`,categories:[`study`],example:`/orcid/0000-0002-4731-9700`,parameters:{id:`Open Researcher and Contributor ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Works List`,maintainers:[`OrangeEd1t`],handler:o};async function o(e){let a=e.req.param(`id`),o=`https://orcid.org/${a}/worksPage.json?offset=0&sort=date&sortAsc=false&pageSize=20`,s=(await r(o)).data.groups,c=[],l=[];for(let e of s)for(let t=0;t<e.works.length;t++)c.push(e.works[t]);return c.map(e=>{let r=``;for(let t=0;t<e.workExternalIdentifiers.length;t++)r+=e.workExternalIdentifiers[t].url?`<a href="`+e.workExternalIdentifiers[t].url.value+`">`+e.workExternalIdentifiers[t].externalIdentifierType.value+`: `+e.workExternalIdentifiers[t].externalIdentifierId.value+`</a><br>`:e.workExternalIdentifiers[t].externalIdentifierType.value+`: `+e.workExternalIdentifiers[t].externalIdentifierId.value+`<br>`;let a={title:e.title.value,link:e.url,description:n(i.join(t,`templates/description-15487dd9.art`),{title:e.title.value,journalTitle:e.journalTitle?.value,publicationDate:e.publicationDate,workType:e.workType.value,Str:r,sourceName:e.sourceName}),guid:e.putCode.value};return l.push(a),a}),{title:`ORCID Works List`+a,link:o,item:l}}export{a as route};