import{__dirname as e,init_esm_shims as t}from"./esm-shims-rNwigI-Q.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as n}from"./ofetch-CeMUzp5K.js";import{art as r}from"./render-DftO2d-b.js";import{parseDate as i}from"./parse-date-DHsdom8D.js";import{ViewType as a}from"./types-Bi82qguM.js";import o from"node:path";import{load as s}from"cheerio";t();const c=async t=>{let a=Number.parseInt(t.req.query(`limit`)??`10`,10),c=`https://windsurf.com`,l=new URL(`blog`,c).href,u=new URL(`api/blog`,c).href,d=await n(u,{query:{paginate:a,cursor:0}}),f=s(await n(l)),p=f(`html`).attr(`lang`)??`en`,m=f(`title`).first().text(),h=m.split(/\|/).pop()?.trim(),g=d.posts.slice(0,a).map(t=>{let n=t.title,a=t.images?.[0],s=r(o.join(e,`templates/description-881baa33.art`),{images:a?[{src:a,alt:n}]:void 0,intro:t.summary}),l=t.date,u=t.slug,d=t.tags,f=t.authors.map(e=>({name:e,url:void 0,avatar:void 0})),m=t.slug?`windsurf-blog-${t.slug}`:void 0,h=l;return{title:n,description:s,pubDate:l?i(l):void 0,link:u?new URL(`blog/${u}`,c).href:void 0,category:d,author:f,guid:m,id:m,content:{html:s,text:s},image:a,banner:a,updated:h?i(h):void 0,language:p}});return{title:m,description:f(`meta[property="og:description"]`).attr(`content`),link:l,item:g,allowEmpty:!0,image:f(`meta[property="og:image"]`).attr(`content`),author:h,language:p,id:f(`meta[property="og:url"]`).attr(`content`)}},l={path:`/blog`,name:`Blog`,url:`windsurf.com`,maintainers:[`nczitzk`],handler:c,example:`/windsurf/blog`,parameters:void 0,description:void 0,categories:[`programming`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`windsurf.com/blog`],target:`/blog`}],view:a.Articles};export{c as handler,l as route};