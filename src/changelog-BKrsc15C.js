import"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import{t as e}from"./ofetch-BASlBuka.js";import{t}from"./parse-date-CHEO0z5G.js";import{t as n}from"./types-Bn7An2Wc.js";import{load as r}from"cheerio";const i=async n=>{let i=Number.parseInt(n.req.query(`limit`)??`100`,10),a=new URL(`changelog`,`https://windsurf.com`).href,o=r(await e(a)),s=o(`html`).attr(`lang`)??`en`,c=o(`title`).first().text(),l=c.split(/\|/).pop()?.trim(),u=o(`div[aria-label="changelog-layout"]`).slice(0,i).toArray().map(e=>{let n=o(e).parent(),r=n.find(`header div`).first().text()?.trim(),i=[r,n.find(`article h1`).text()?.trim()].filter(Boolean).join(` `),c=n.find(`article div`).first()?.html()??void 0,u=n.find(`header div`).last().text()?.trim(),d=r?`windsurf-${r}`:``,f=n.find(`article img`).attr(`src`),p=u;return{title:i,description:c,pubDate:u?t(u):void 0,link:a,author:l,doi:n.find(`meta[name="citation_doi"]`).attr(`content`),guid:d,id:d,content:{html:c,text:c},image:f,banner:f,updated:p?t(p):void 0,language:s}});return{title:c,description:o(`meta[property="og:description"]`).attr(`content`),link:a,item:u,allowEmpty:!0,image:o(`meta[property="og:image"]`).attr(`content`),author:l,language:s,id:o(`meta[property="og:url"]`).attr(`content`)}},a={path:`/changelog`,name:`Changelog`,url:`windsurf.com`,maintainers:[`nczitzk`],handler:i,example:`/windsurf/changelog`,parameters:void 0,description:void 0,categories:[`programming`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`windsurf.com/changelog`],target:`/changelog`}],view:n.Articles};export{i as handler,a as route};