import{n as e,t}from"./esm-shims-DIdKin6S.mjs";import"./config-PItPnVIx.mjs";import"./logger-BoKmWr7Z.mjs";import"./ofetch-rVU2XYFs.mjs";import"./helpers-vRt84cId.mjs";import{t as n}from"./cache-KwJARS5Z.mjs";import{t as r}from"./render-ZYpwNl2L.mjs";import{t as i}from"./got-BeQM9q-W.mjs";import a from"node:path";import{load as o}from"cheerio";import{CookieJar as s}from"tough-cookie";e();const c=new s,l={path:`/journal/:journal`,categories:[`journal`],example:`/springer/journal/10450`,parameters:{journal:`Journal Code, the number in the URL from the journal homepage`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.springer.com/journal/:journal/*`]}],name:`Journal`,maintainers:[`Derekmini`,`TonyRL`,`xiahaoyun`],handler:u};async function u(e){let s=`https://link.springer.com`,l=`${s}/journal/${e.req.param(`journal`)}/volumes-and-issues`,u=o((await i(l,{cookieJar:c})).data),d=u(`span.app-journal-masthead__title`).text().trim(),f=o((await i(`${s}${u(`li.c-list-group__item:first-of-type`).find(`a`).attr(`href`)}`,{cookieJar:c})).data),p=f(`h2.app-journal-latest-issue__heading`).text(),m=f(`ol.u-list-reset > li`).toArray().map(e=>{let t=u(e).find(`h3.app-card-open__heading`).find(`a`).text().trim(),n=u(e).find(`h3.app-card-open__heading`).find(`a`).attr(`href`);return{title:t,link:n,doi:n.replace(`https://link.springer.com/article/`,``),issue:p,img:u(e).find(`img`).attr(`src`),authors:u(e).find(`li`).toArray().map(e=>u(e).text().trim()).join(`; `)}}),h=e=>r(a.join(t,`templates/description-d979b276.art`),{item:e});return{title:d,link:l,item:await Promise.all(m.map(e=>n.tryGet(e.link,async()=>(e.abstract=o((await i(e.link,{cookieJar:c})).data)(`div#Abs1-content > p:first-of-type`).text(),e.description=h(e),e))))}}export{l as route};