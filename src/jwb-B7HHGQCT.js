import"./esm-shims-DE2PJqdr.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-CJF2SF6b.js";import{cache_default as t}from"./cache-Dfid4xgQ.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{load as r}from"cheerio";const i={path:`/jwb/:type?`,categories:[`university`],example:`/dgut/jwb/jwtz`,parameters:{type:`哪种通知，默认为教务通知`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},maintainers:[`1200522928`],radar:[{source:[`jwb.dgut.edu.cn/tzgg/`],target:``}],name:`教务部通知公告`,description:`| 教学动态 | 教务通知 | 教研通知 | 实践通知 | 产业学院 |  通识教育  |"杨振宁"班|招生信息 |采购公告 |
| ------- | -------  | ---------| --------| --------| ----------|---------|------- |--------|
| jxdt    | jwtz     | jytz     |   sjtz  |   cyxy  |   tsjy    | yznb    |  zsxx  | cggg   |`,handler:a};async function a(i){let{type:a=`jwtz`}=i.req.param(),o=`https://jwb.dgut.edu.cn/tzgg/${a}.htm`,s=await e(o),c=r(s),l=c(`ul.ul-new4 > li`).toArray().map(e=>{let t=c(e).find(`a.con`);return{title:t.find(`.tit`).text().trim(),pubDate:n(`${t.find(`.year`).text().trim()}-${t.find(`.day`).text().trim()}`),link:`https://jwb.dgut.edu.cn/${t.attr(`href`)}`}}),u=await Promise.all(l.map(n=>t.tryGet(n.link,async()=>{let t=await e(n.link),i=r(t);return{...n,description:i(`div.v_news_content`).first().html()||void 0}})));return{title:c(`title`).text(),link:o,allowEmpty:!0,item:u}}export{i as route};