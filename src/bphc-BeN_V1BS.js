import"./esm-shims-CaZMYoY8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import{t as e}from"./ofetch-VsB2Peor.js";import{t}from"./cache-CpEhLexq.js";import{t as n}from"./parse-date-CHEO0z5G.js";import{r}from"./common-utils-CWmDr7en.js";import{t as i}from"./timezone-BPfwRbwD.js";const a={"/project":{title:`项目介绍`,list:`/front/index/project/page`,detail:`/front/index/project`,link:`/#/communityDetail?id=`},"/announcement":{title:`通知公告`,list:`/front/announcement/page`,detail:`/front/announcement/`,link:`/#/announcementList/detail?id=`}},o={path:`/beijing/bphc/*`,name:`Unknown`,maintainers:[],handler:s};async function s(o){let s=`https://gycpt.bphc.com.cn`,c=r(o).replaceAll(/(^\/beijing\/bphc|\/$)/g,``),l=a[c===``?`announcement`:c.endsWith(`/`)?c.slice(0,-1):c],u=(await e(`${s}${l.list}`)).data?.records??[],d=await Promise.all(u.map(r=>{let a=`${s}${l.detail}/${r.id}`;return t.tryGet(a,async()=>{let t=await e(a),o=(t.data?.content||t.data?.introduction)??``;return{title:r.title||r.fullName,author:o.match(/来源：(.*?)</)?.[1].trim()??r.operator,link:`${s}${l.link}${r.id}`,description:o,pubDate:i(n(r.createTime),8)}})}));return{title:l.title,link:s,item:d}}export{o as route};