import"./esm-shims-BmHUa0Yk.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-DCfHHxuQ.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import"./render-CSnicFA3.js";import{got_default as t}from"./got-D5TEN1xL.js";import{utils_default as n}from"./utils-BbGpWX_i.js";import r from"markdown-it";async function i(e){return(await t({method:`get`,url:`https://www.lanqiao.cn/api/v2/users/${e}/`,headers:{Referer:`https://www.lanqiao.cn/users/${e}/`}})).data.name}const a={path:`/author/:uid`,categories:[`programming`],example:`/lanqiao/author/1701267`,parameters:{uid:"作者 `uid` 可在作者主页 URL 中找到"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`lanqiao.cn/users/:uid`]}],name:`作者发布的课程`,maintainers:[`huhuhang`],handler:o};async function o(a){let o=a.req.param(`uid`),s=await i(o),c=(await t({method:`get`,url:`https://www.lanqiao.cn/api/v2/users/${o}/courses/?type=published`,headers:{Referer:`https://www.lanqiao.cn/users/${o}/`}})).data.results,l=new r,u=await Promise.all(c.map(r=>e.tryGet(`https://www.lanqiao.cn/api/v2/courses/${r.id}/`,async()=>{let e=(await t({method:`get`,url:`https://www.lanqiao.cn/api/v2/courses/${r.id}/`})).data;return r.title=e.name,r.description=n.courseDesc(e.picture_url,l.render(e.long_description)),r.author=e.teacher.name,r.link=`https://www.lanqiao.cn/courses/${e.id}/`,r})));return{title:`${s} 发布的课程`,link:`https://www.lanqiao.cn/users/${o}`,description:`${s} 发布的课程`,item:u}}export{a as route};