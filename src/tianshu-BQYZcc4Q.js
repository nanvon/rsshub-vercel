import"./esm-shims-wKwH419_.js";import"./config-CCdhzIDL.js";import"./logger-tpjCqWRm.js";import"./dist-CTnfpkZH.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-BqH0BkVy.js";import"./ofetch-CeSje37P.js";import{got_default as t}from"./got-CgIPcr_1.js";import{load as n}from"cheerio";import r from"iconv-lite";const i=`http://t.imop.com`,a={path:`/tianshu`,categories:[`game`],example:`/imop/tianshu`,radar:[{source:[`t.imop.com`],target:`/tianshu`}],name:`全部消息`,maintainers:[`zhkgo`],handler:o};async function o(){let{data:a}=await t(`${i}/list/0-1.htm`,{responseType:`buffer`}),o=n(r.decode(a,`gbk`)),s=o(`.right .right_top .right_bot .list2 .ul1 ul`).toArray().map(e=>{e=o(e);let t=e.find(`a`).attr(`href`);return{title:e.find(`a`).text(),link:t.startsWith(`http`)?t:`${i}${t}`}}),c=await Promise.all(s.map(i=>e.tryGet(i.link,async()=>{let{data:e}=await t(i.link,{responseType:`buffer`}),a=n(r.decode(e,`gbk`));return i.description=a(`.right .right_top .right_bot .articlebox`).html(),i})));return{title:`天书最新消息`,link:`${i}/list/0-1.htm`,item:c}}export{a as route};