import"./esm-shims-BKVRry6h.mjs";import"./ofetch-BRplXtiZ.mjs";import"./config-D7dgKYF5.mjs";import"./logger-CkUWGGaS.mjs";import"./helpers-Tm7Pw8Vq.mjs";import{t as e}from"./parse-date-_GmTZfjS.mjs";import{t}from"./got-BglkE51W.mjs";const n={latest:{main:{id:719,slug:719,title:`最新`},"zh-tw":{id:395,slug:395,title:`最新`}},news:{main:{id:720,slug:720,title:`新闻`},"zh-tw":{id:396,slug:396,title:`資訊`}},notice:{main:{id:721,slug:721,title:`公告`},"zh-tw":{id:397,slug:397,title:`公告`}},activity:{main:{id:722,slug:722,title:`活动`},"zh-tw":{id:398,slug:398,title:`活動`}}},r={main:`https://ys.mihoyo.com`,"zh-tw":`https://genshin.hoyoverse.com`},i={main:`https://api-takumi-static.mihoyo.com`,"zh-tw":`https://api-os-takumi-static.hoyoverse.com`},a={main:`/main/news`,"zh-tw":`/zh-tw/news`},o={main:`/content_v2_user/app/16471662a82d418a/getContentList`,"zh-tw":`/content_v2_user/app/a1b1f9d3315447cc/getContentList`},s={path:`/ys/:location?/:category?`,categories:[`game`],example:`/mihoyo/ys`,parameters:{location:"区域，可选 `main`（简中）或 `zh-tw`（繁中）",category:`分类，见下表，默认为最新`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`genshin.hoyoverse.com/:location/news`],target:`/ys/:location`}],name:`原神`,maintainers:[`nczitzk`],handler:c,description:`#### 新闻 {#mi-ha-you-yuan-shen-xin-wen}

| 最新   | 新闻 | 公告   | 活动     |
| ------ | ---- | ------ | -------- |
| latest | news | notice | activity |`};async function c(s){let c=s.req.param(`location`)??`main`,l=s.req.param(`category`)??`latest`,u=s.req.query(`limit`)?Number.parseInt(s.req.query(`limit`)):50,d={main:`iPage=1&sLangKey=zh-cn&iChanId=${n[l][c].id}&iPageSize=${u}`,"zh-tw":`iPage=1&sLangKey=zh-tw&iChanId=${n[l][c].id}&iPageSize=${u}`},f=r[c],p=`${i[c]}${o[c]}?${d[c]}`,m=`${f}${a[c]}/${n[l][c].slug}`,h=(await t({method:`get`,url:p})).data.data.list.map(t=>({title:t.sTitle,description:t.sContent,link:`${f}${a[c]}/detail/${t.iInfoId}`,pubDate:e(t.dtStartTime),category:t.sCategoryName}));return{title:`原神 - ${n[l][c].title}`,link:m,item:h}}export{s as route};