import{n as e,t}from"./esm-shims-D4LgnpSl.mjs";import{t as n}from"./config-L8Ls2W7q.mjs";import"./logger-C50fTRi5.mjs";import"./ofetch-CvLG4YCQ.mjs";import"./helpers-mo8InLYm.mjs";import{t as r}from"./cache-ZTWfXd2T.mjs";import{t as i}from"./render-CBhnapAf.mjs";import{t as a}from"./parse-date-bKmkZ9gg.mjs";import{t as o}from"./got-AYh7EWi-.mjs";import{t as s}from"./timezone-CE0MDOJ-.mjs";import{t as c}from"./types-BD1MU_-b.mjs";import l from"node:path";e();const u={path:`/:important?`,categories:[`finance`],view:c.Notifications,example:`/jin10`,parameters:{important:`只看重要，任意值开启，留空关闭`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`jin10.com/`],target:``}],name:`市场快讯`,maintainers:[`laampui`],handler:d,url:`jin10.com/`};async function d(e){let{important:c=!1}=e.req.param(),u=(await r.tryGet(`jin10:index`,async()=>{let{data:e}=await o(`https://flash-api.jin10.com/get_flash_list`,{headers:{"x-app-id":`bVBF4FyRTn5NJF5n`,"x-version":`1.0.0`},searchParams:{channel:`-8200`,vip:`1`}});return e.data.filter(e=>e.type!==1)},n.cache.routeExpire,!1)).map(e=>{let n=e.data.content.match(/^【(.*?)】/),r,o=e.data.content;return n?(r=n[1],o=o.replace(n[0],``)):r=e.data.vip_title||e.data.content,{title:r,description:i(l.join(t,`templates/description-8c5d2b6c.art`),{content:o,pic:e.data.pic}),pubDate:s(a(e.time),8),link:e.data.link,guid:`jin10:index:${e.id}`,important:e.important}});return{title:`金十数据`,link:`https://www.jin10.com/`,item:c?u.filter(e=>e.important):u}}export{u as route};