import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-am9EnuPq.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-CmdBCkM8.js";import{timezone as r}from"./timezone-CMz5pnRe.js";import{load as i}from"cheerio";import a from"iconv-lite";const o={path:`/:id?`,categories:[`new-media`],example:`/ciidbnu`,parameters:{id:`分类 id，可在分类页地址栏 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`分类`,maintainers:[`nczitzk`],handler:s,description:`| 社会动态 | 院内新闻 | 学术观点 | 文献书籍 | 工作论文 | 专题讨论 |
| -------- | -------- | -------- | -------- | -------- | -------- |
| 1        | 5        | 3        | 4        | 6        | 8        |`};async function s(o){let s=o.req.param(`id`)??`1`,c=`http://www.ciidbnu.org`,l=`${c}/new1.asp?pagetype=${s}`,u=await n({method:`get`,url:l}),d=i(u.data),f=d(`#newsrightlist a`).slice(0,10).toArray().map(e=>(e=d(e),{title:e.text(),link:`${c}${e.attr(`href`).replace(`..`,``)}`})),p=await Promise.all(f.map(o=>e.tryGet(o.link,async()=>{let e=await n({method:`get`,url:o.link,responseType:`buffer`}),s=i(a.decode(e.data,`gbk`));return o.description=s(`#text`).html(),o.pubDate=r(t(s(`.t8`).eq(0).text(),`YYYY/M/D H:mm:ss`),8),s(`.t14`).remove(),o.author=s(`#author`).text(),o})));return{title:`${d(`h3`).text()} - 中国收入分配研究院`,link:l,item:p}}export{o as route};