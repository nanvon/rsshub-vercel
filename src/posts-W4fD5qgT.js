import"./esm-shims-DE2PJqdr.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CJF2SF6b.js";import"./helpers-gUVC02jt.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-Baw2Nbdf.js";import{load as n}from"cheerio";const r={path:`/posts/:topic/:id`,categories:[`game`],example:`/itch/posts/9539/introduce-yourself`,parameters:{topic:`Topic id, can be found in URL`,id:`Topic name, can be found in URL`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`itch.io/t/:topic/:id`]}],name:`Posts`,maintainers:[`nczitzk`],handler:i};async function i(r){let i=r.req.param(`topic`),a=r.req.param(`id`),o=`https://itch.io/t/${i}/${a}?before=999999999`,s=await t({method:`get`,url:o}),c=n(s.data),l=c(`.post_grid`).toArray().map(t=>{t=c(t);let n=t.find(`.post_author`).text(),r=t.find(`.post_body`);return{author:n,description:r.html(),title:`${n}: ${r.text()}`,link:t.find(`.post_date a`).attr(`href`),pubDate:e(t.find(`.post_date`).attr(`title`))}});return{title:c(`title`).text(),link:o,item:l}}export{r as route};