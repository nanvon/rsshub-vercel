import{n as e,t}from"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import{t as n}from"./ofetch-CfXAR0UO.js";import"./cache-CpEhLexq.js";import{t as r}from"./render-d6AVTUl2.js";import{t as i}from"./parse-date-CHEO0z5G.js";import{t as a}from"./invalid-parameter-CLGd_tte.js";import{n as o,r as s,t as c}from"./utils-CyFy_ob4.js";import l from"node:path";e();const u=e=>r(l.join(t,`templates/house-7bed2997.art`),e),d={path:`/rent/:city/:district?`,example:`/wellcee/rent/北京`,parameters:{city:`城市`,district:`地区`},name:`租房信息`,maintainers:[`TonyRL`],handler:f,url:`www.wellcee.com`,description:`支持的城市可以通过 [/wellcee/support-city](https://rsshub.app/wellcee/support-city) 获取`};async function f(e){let{city:t,district:r=``}=e.req.param(),l=(await o()).find(e=>e.chCityName===t);if(!l)throw new a(`Invalid city`);let d;if(r){let e=(await s(l.id)).find(e=>e.name===r);if(!e)throw new a(`Invalid district`);d=e}let f=(await n(`${c}/api/house/filter`,{method:`POST`,body:{districtIds:d?.id?[d.id]:[],subways:[],rentTypeIds:[],timeTypeIds:[],price:[],tagTypeIds:[],cityId:l.id,lang:1,pn:1}})).data.list.map(e=>({title:e.address,link:`${c}/rent-apartment/${e.id}`,description:u({item:e}),pubDate:i(e.loginTime,`X`),author:e.userInfo.name,category:[...e.tags,...e.typeTags]}));return{title:`${t}${d?.name??``}租房信息 - Wellcee`,description:`${l.statics.online_text} ${l.statics.total_text}`,image:l.icon,icon:l.icon,logo:l.icon,link:`${c}/rent-apartment/${l.cityName}/list?cityId=${l.id}&lang=zh${r?`#districtIds=${d?.id}`:``}`,item:f}}export{d as route};