import{t as e}from"./cache-ZTWfXd2T.mjs";import{t}from"./parse-date-bKmkZ9gg.mjs";import{t as n}from"./got-AYh7EWi-.mjs";import{t as r}from"./timezone-CE0MDOJ-.mjs";import{load as i}from"cheerio";const a=`https://www.tgb.cn`,o=async a=>await e.tryGet(a.link,async()=>{let e=await n({method:`get`,url:a.link}),o=i(e.data);return o(`#videoImg`).remove(),o(`img`).each((e,t)=>{t.attribs.src2&&(t.attribs.src=t.attribs.src2,delete t.attribs.src2,delete t.attribs[`data-original`])}),a.description=o(`#first`).html(),(e.url?.startsWith(`https://www.tgb.cn/topic/transfer`)||o(`.login-view-button`).length!==0)&&(a.description+=`<br>登录后可查看完整文章`),a.pubDate=r(t(o(`.article-data > span:nth-child(2)`).text().match(/\d{4}-\d{2}-\d{2} \d{2}:\d{2}/)[0]),8),a.category=o(`.classify`).toArray().map(e=>o(e).text().trim()),a});export{a as n,o as t};