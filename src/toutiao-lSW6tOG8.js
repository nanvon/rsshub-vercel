import"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CfXAR0UO.js";import"./helpers-Cqaav28H.js";import"./cache-CpEhLexq.js";import"./parse-date-CHEO0z5G.js";import"./md5-CWsm3r0H.js";import{t as e}from"./got-dCh-Ojgc.js";import{t}from"./utils-DLwDq5aR.js";const n={path:`/toutiao/:type?`,categories:[`social-media`],example:`/coolapk/toutiao`,parameters:{type:`默认为history`},features:{requireConfig:[{name:`ALLOW_USER_HOTLINK_TEMPLATE`,optional:!0,description:"设置为`true`并添加`image_hotlink_template`参数来代理图片"}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`头条`,maintainers:[`xizeyoupan`],handler:r,description:`| 参数名称 | 历史头条 | 最新   |
| -------- | -------- | ------ |
| type     | history  | latest |`};async function r(n){let r=n.req.param(`type`)||`history`,i={history:{url:`https://api.coolapk.com/v6/page/dataList?url=%23%2ffeed%2fheadlineV8List%3ftype%3d0%2c5%2c9%2c8%2c12%2c10%2c11%2c13%26title%3d%e5%8e%86%e5%8f%b2%e5%a4%b4%e6%9d%a1%26page%3d1`,title:`历史头条`},latest:{url:`https://api.coolapk.com/v6/page/dataList?url=%23%2ffeed%2fdigestList%3ftype%3d0%2c5%2c12%2c10%2c11%2c13%2c8%2c9%26title%3d%e6%9c%80%e6%96%b0%e5%8a%a8%e6%80%81%26page%3d1`,title:`最新动态`}},a=(await e(i[r].url,{headers:t.getHeaders()})).data.data,o=await Promise.all(a.map(e=>t.parseDynamic(e)));return{title:i[r].title,link:`https://www.coolapk.com/`,description:i[r].title,item:o}}export{n as route};