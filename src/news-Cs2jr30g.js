import{n as e,t}from"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CRUPiVpr.js";import"./helpers-Cqaav28H.js";import{t as n}from"./cache-CpEhLexq.js";import{t as r}from"./render-d6AVTUl2.js";import{t as i}from"./parse-date-CHEO0z5G.js";import{t as a}from"./got-BlqYKpVp.js";import o from"node:path";e();const s={path:`/news/:category?`,categories:[`game`],example:`/loltw/news`,parameters:{category:`新闻分类，置空为全部新闻`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`台服新闻`,maintainers:[`hoilc`],handler:c,description:`| 活动  | 资讯 | 系统   | 电竞   | 版本资讯 | 战棋资讯 |
| ----- | ---- | ------ | ------ | -------- | -------- |
| event | info | system | esport | patch    | TFTpatch |`};async function c(e){let s=e.req.param(`category`)??``,c=`https://lol.garena.tw`,l=(await a(`${c}/api/news/search?category=${s}`)).data.data.news.map(e=>({guid:e.id,title:e.title,author:`Garena`,link:`${c}/news/articles/${e.id}`,pubDate:i(e.updated_at*1e3)})),u=await Promise.all(l.map(e=>n.tryGet(e.link,async()=>{let n=await a(`${c}/api/news/detail?news_id=${e.guid}`);return e.description=r(o.join(t,`templates/news-b5d6de3e.art`),n.data.data.news_detail),e})));return{title:`英雄联盟 - 台服新闻`,link:s?`${c}/news/${s}`:`${c}/news`,item:u}}export{s as route};