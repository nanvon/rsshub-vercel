import"./esm-shims-DE2PJqdr.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CJF2SF6b.js";import"./cache-Dfid4xgQ.js";import"./render-CSnicFA3.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{getUserInfoById as t,getUserVideosById as n,renderVideo as r}from"./utils-xG604z49.js";const i={name:`User Videos`,path:`/user/:id/video/:embed?`,parameters:{id:`User ID`,embed:`Default to embed the video, set to any value to disable embedding`},example:`/nicovideo/user/16690815/video`,maintainers:[`TonyRL`],radar:[{source:[`www.nicovideo.jp/user/:id`,`www.nicovideo.jp/user/:id/video`],target:`/user/:id/video`}],handler:async i=>{let{id:a}=i.req.param(),o=!i.req.param(`embed`),s=await t(a),c=(await n(a)).map(({essential:t})=>({title:t.title,link:`https://www.nicovideo.jp/watch/${t.id}`,pubDate:e(t.registeredAt),author:[{name:t.owner.name,avatar:t.owner.iconUrl,url:`https://www.nicovideo.jp/user/${t.owner.id}`}],description:r(t,o),image:t.thumbnail.nHdUrl||t.thumbnail.largeUrl||t.thumbnail.middleUrl,upvotes:t.count.like,comments:t.count.comment}));return{title:`${s.nickname} - ニコニコ`,link:`https://www.nicovideo.jp/user/${a}/video`,image:s.icon,item:c}}};export{i as route};