import{n as e,t}from"./esm-shims-D5mxTuu_.mjs";import"./config-CDM38Tpk.mjs";import"./logger-B0B1yUZ6.mjs";import"./ofetch-FkpIOIxH.mjs";import"./helpers-CMl_ndRq.mjs";import{t as n}from"./render-D2i47mnC.mjs";import{t as r}from"./got-CxBlPaz_.mjs";import i from"node:path";import{load as a}from"cheerio";e();const o={path:`/acm/contest/:category?`,categories:[`university`],example:`/ecnu/acm/contest/public`,parameters:{category:"category is optional, default is all, use `public` for public only contests"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`acm.ecnu.edu.cn/contest/`,`acm.ecnu.edu.cn/`],target:`/acm/contest/`}],name:`ACM Online-Judge contests list`,maintainers:[`a180285`],handler:s,url:`acm.ecnu.edu.cn/contest/`};async function s(e){let o=(e.req.param(`category`)??``)===`public`,s=`https://acm.ecnu.edu.cn`,c=`${s}/contest/`,l=a((await r(c)).data),u=l(`div > div > table > tbody > tr`).filter((e,t)=>!o||l(t).find(`i`).attr(`class`).includes(`green`)).toArray().map(e=>{let r=l(e).find(`td`),a=r.eq(0).text(),o=r.eq(1).text(),c=r.eq(2).text(),u=s+r.find(`a`).eq(0).attr(`href`);return{title:a,description:n(i.join(t,`templates/description-067c2866.art`),{title:a,startTime:o,duration:c}),link:u}});return{title:`ECNU ACM ${o?`公开`:``}比赛`,link:c,item:u}}export{o as route};