import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-rK3Yp7nj.js";import"./helpers-qpI1t-yV.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-CoH3ye0k.js";import{load as r}from"cheerio";const i={path:`/cse/:type?`,categories:[`university`],example:`/seu/cse/xyxw`,parameters:{type:"分类名，默认为 `xyxw`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`cse.seu.edu.cn/:type/list.htm`,`cse.seu.edu.cn/`]}],name:`计算机技术与工程学院`,maintainers:[`LogicJake`],handler:a,description:`| 学院新闻 | 通知公告 | 教务信息 | 就业信息 | 学工事务 |
| -------- | -------- | -------- | -------- | -------- |
| xyxw     | tzgg     | jwxx     | jyxx     | xgsw     |`};async function a(i){let a=`https://cse.seu.edu.cn`,o={22535:{initial:`xyxw`},22536:{initial:`tzgg`},22538:{initial:`jwxx`},22537:{initial:`jyxx`},22539:{initial:`xgsw`}},{type:s=22535}=i.req.param(),c=s.length===4?Object.keys(o).find(e=>o[e].initial===s):Number.parseInt(s),l=new URL(`${c}/list.htm`,a).href,{data:u}=await n(l),d=r(u),f=d(`.news_list .news`).toArray().map(e=>{e=d(e);let n=e.find(`.news_title a`);return{title:n.attr(`title`),link:new URL(n.attr(`href`),a).href,pubDate:t(e.find(`.news_meta`).text())}}),p=await Promise.all(f.map(t=>e.tryGet(t.link,async()=>{let e;try{e=await n(t.link)}catch(e){if(e.response.url.startsWith(`https://newids.seu.edu.cn/`))return t;throw e}return t.description=r(e.data)(`div.wp_articlecontent`).html(),t})));return{link:l,title:`${d(`meta[name=keywords]`).attr(`content`)}${d(`meta[name=description]`).attr(`content`)} -- ${d(`head title`).text()}`,description:`东南大学计算机技术与工程学院RSS`,item:p}}export{i as route};