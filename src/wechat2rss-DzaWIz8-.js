import"./esm-shims-DtWyl6zt.js";import"./config-CT-9jq-j.js";import"./logger-BsClR5PH.js";import"./dist-Bbb0mfHh.js";import"./cache-DNP0KCHb.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-Dnmc-sKl.js";import{parser as t}from"./rss-parser-D2FEVlMP.js";import{finishArticleItem as n}from"./wechat-mp-CYNIvc96.js";const r={path:`/wechat2rss/:id`,categories:[`new-media`],example:`/wechat/wechat2rss/5b925323244e9737c39285596c53e3a2f4a30774`,parameters:{id:"公众号 id，打开 `https://wechat2rss.xlab.app/posts/list/`，在 URL 中找到 id；注意不是公众号页的 id，而是订阅的 id"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`公众号（Wechat2RSS 来源）`,maintainers:[`TonyRL`],handler:i};async function i(r){let i=r.req.param(`id`),a=`https://wechat2rss.xlab.app/feed/${i}.xml`,{title:o,link:s,description:c,image:l,items:u}=await t.parseURL(a),d=u.map(t=>({title:t.title,pubDate:e(t.pubDate),link:t.link}));return d=await Promise.all(d.map(e=>n(e))),{title:o,link:s,description:c,image:l.url,item:d}}export{r as route};