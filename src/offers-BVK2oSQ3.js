import{n as e,t}from"./esm-shims-CaZMYoY8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import{t as n}from"./ofetch-VsB2Peor.js";import{t as r}from"./render-d6AVTUl2.js";import i from"node:path";e();const a=`https://www.openrice.com`,o={path:`/:lang/hongkong/offers`,maintainers:[`after9`],handler:s,categories:[`shopping`],example:`/openrice/zh/hongkong/offers`,parameters:{lang:`语言，缺省为 zh`},name:`香港餐廳精選優惠券`,description:`
| 简体 | 繁體 | EN |
| ----- | ------ | ----- |
| zh-cn | zh | en |
  `};async function s(e){let o=e.req.param(`lang`)??`zh`,s;switch(o){case`zh-cn`:s=`/zh-cn/hongkong/offers`;break;case`en`:s=`/en/hongkong/offers`;break;case`zh`:default:s=`/zh/hongkong/offers`;break}let c=await n(a+`/api/offers`,{headers:{accept:`application/json`},query:{uiLang:o,uiCity:`hongkong`,page:1,sortBy:`PublishTime`,couponTypeId:1}}),l=c.pageInfo,u=c.highlightedOffers,d=c.searchResult.paginationResult.results,f=[...u,...d].map(e=>{let n=e.title??``,o=a+e.urlUI,s=e.doorPhotoUI.urls.full??``,c=e.couponType===0?e.poiNameUI:`${e.desc} (${e.startTimeUI} - ${e.expireTimeUI}) [${e.multiplePoiDistrictName}]`;return{title:n,description:r(i.join(t,`templates/description-89cc7c28.art`),{description:c,image:s}),link:o}});return{title:l.seoInfo.title??`OpenRice Hong Kong Offers`,link:a+s,description:l.seoInfo.metadataDictionary.name.find(e=>e.key===`description`)?.value??`OpenRice Hong Kong Offers`,item:f}}export{o as route};