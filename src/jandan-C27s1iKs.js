import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import{ofetch_default as e}from"./ofetch-TsvCL7Kz.js";import{cache_default as t}from"./cache-CzcusEyX.js";import{rss_parser_default as n}from"./rss-parser-B0VebJEs.js";import{load as r}from"cheerio";const i={path:`/`,example:`/jandan`,name:`Feed`,maintainers:[`nczitzk`,`bigfei`,`pseudoyu`],parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`i.jandan.net`],target:`/jandan`}],handler:a};async function a(){let i=`http://i.jandan.net`,a=await n.parseURL(`${i}/feed/`),o=await Promise.all(a.items.map(n=>t.tryGet(n.link||``,async()=>{if(!n.link)return;let t=await e(n.link),i=r(t);i(`.wechat-hide`).prev().nextAll().remove(),i(`img`).replaceWith((e,t)=>{let n=i(t).attr(`src`),r=i(t).attr(`alt`),a=n?.replace(/https?:\/\/(\w+)\.moyu\.im/,`https://$1.sinaimg.cn`);return`<img src="${a}" alt="${r}">`});let a={title:n.title||``,description:i(`.entry`).html()||``,pubDate:n.pubDate,link:n.link,author:n[`dc:creator`],category:n.categories};return a}))).then(e=>e.filter(e=>e!==void 0));return{title:`煎蛋`,link:i,item:o}}export{i as route};