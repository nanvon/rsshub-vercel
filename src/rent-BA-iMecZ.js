import{__dirname as e,init_esm_shims as t}from"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import"./dist-CRTt8uUM.js";import"./cache-Sft5n2jg.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import{ofetch_default as i}from"./ofetch-BHWobzJG.js";import{invalid_parameter_default as a}from"./invalid-parameter-CUJdROXf.js";import{baseUrl as o,getCitys as s,getDistricts as c}from"./utils-DrO0NSWm.js";import l from"node:path";t();const u=t=>n(l.join(e,`templates/house-7bed2997.art`),t),d={path:`/rent/:city/:district?`,example:`/wellcee/rent/北京`,parameters:{city:`城市`,district:`地区`},name:`租房信息`,maintainers:[`TonyRL`],handler:f,url:`www.wellcee.com`,description:`支持的城市可以通过 [/wellcee/support-city](https://rsshub.app/wellcee/support-city) 获取`};async function f(e){let{city:t,district:n=``}=e.req.param(),l=await s(),d=l.find(e=>e.chCityName===t);if(!d)throw new a(`Invalid city`);let f;if(n){let e=await c(d.id),t=e.find(e=>e.name===n);if(!t)throw new a(`Invalid district`);f=t}let p=await i(`${o}/api/house/filter`,{method:`POST`,body:{districtIds:f?.id?[f.id]:[],subways:[],rentTypeIds:[],timeTypeIds:[],price:[],tagTypeIds:[],cityId:d.id,lang:1,pn:1}}),m=p.data.list.map(e=>({title:e.address,link:`${o}/rent-apartment/${e.id}`,description:u({item:e}),pubDate:r(e.loginTime,`X`),author:e.userInfo.name,category:[...e.tags,...e.typeTags]}));return{title:`${t}${f?.name??``}租房信息 - Wellcee`,description:`${d.statics.online_text} ${d.statics.total_text}`,image:d.icon,icon:d.icon,logo:d.icon,link:`${o}/rent-apartment/${d.cityName}/list?cityId=${d.id}&lang=zh${n?`#districtIds=${f?.id}`:``}`,item:m}}export{d as route};