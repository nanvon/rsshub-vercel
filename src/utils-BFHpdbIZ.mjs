import{n as e,t}from"./esm-shims-DIdKin6S.mjs";import{t as n}from"./ofetch-rVU2XYFs.mjs";import{t as r}from"./cache-KwJARS5Z.mjs";import{t as i}from"./render-ZYpwNl2L.mjs";import a from"node:path";import{load as o}from"cheerio";e();const s=(e=`zh_CN`)=>`X-UA=${encodeURIComponent(`V=1&PN=WebApp&VN=0.1.0&LANG=${e}&PLT=PC`)}`,c=(e=!1)=>e?`https://www.taptap.io`:`https://www.taptap.cn`,l=(e,t=`zh_CN`,i=!1)=>r.tryGet(`taptap:appDetail:${e}:${t}:${i}`,async()=>(await n(`${c(i)}/webapiv2/group/v1/detail?app_id=${e}&${s(t)}`,{headers:{Referer:`${c(i)}/app/${e}`}})).data),u=e=>i(a.join(t,`templates/imagePost-75c674ab.art`),{images:e}),d=async(e,t,r=`zh_CN`)=>{let i=o((await n(`${c(!1)}/webapiv2/topic/v1/detail?id=${t}&${s(r)}`,{headers:{Referer:`${c(!1)}/app/${e}`}})).data.first_post.contents.text,null,!1);return i(`img`).each((e,t)=>{let n=i(t);n.attr(`src`,n.attr(`data-origin-url`)),n.removeAttr(`data-origin-url`)}),i.html()},f=e=>i(a.join(t,`templates/videoPost-d7476920.art`),{previewUrl:e.thumbnail.original_url||e.thumbnail.url});export{d as a,u as i,l as n,f as o,c as r,s as t};