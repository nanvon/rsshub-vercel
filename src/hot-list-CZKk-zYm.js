import"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CRUPiVpr.js";import"./helpers-Cqaav28H.js";import{t as e}from"./cache-CpEhLexq.js";import{t}from"./parse-date-CHEO0z5G.js";import{t as n}from"./got-BlqYKpVp.js";import{t as r}from"./invalid-parameter-CLGd_tte.js";import{n as i,t as a}from"./utils-DHDvbsG4.js";const o={24:{title:`24小时热榜`,key:`homeData.data.hotlist.data`},renqi:{title:`资讯人气榜`,key:`hotListData.topList`},zonghe:{title:`资讯综合榜`,key:`hotListData.hotList`},shoucang:{title:`资讯综合榜`,key:`hotListData.collectList`}},s={path:`/hot-list/:category?`,categories:[`new-media`],example:`/36kr/hot-list`,parameters:{category:`分类，默认为24小时热榜`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`36kr.com/hot-list/:category`,`36kr.com/`],target:`/hot-list/:category`}],name:`资讯热榜`,maintainers:[`nczitzk`],handler:l,description:`| 24 小时热榜 | 资讯人气榜 | 资讯综合榜 | 资讯收藏榜 |
| ----------- | ---------- | ---------- | ---------- |
| 24          | renqi      | zonghe     | shoucang   |`},c=(e,t)=>{let n=e,r=t.split(`.`);for(let e of r)n&&=n[e];return n};async function l(s){let l=s.req.param(`category`)??`24`;if(!o[l])throw new r(`This category does not exist. Please refer to the documentation for the correct usage.`);let u=l===`24`?i:`${i}/hot-list/catalog`,d=await n({method:`get`,url:u}),f=c(JSON.parse(d.data.match(/window.initialState=({.*})/)[1]),o[l].key).slice(0,s.req.query(`limit`)?Number.parseInt(s.req.query(`limit`)):10).filter(e=>e.itemType!==0).map(e=>(e=e.templateMaterial??e,{title:e.widgetTitle.replaceAll(/<\/?em>/g,``),author:e.authorName,pubDate:t(e.publishTime),link:`${i}/p/${e.itemId}`,description:e.summary}));return f=await Promise.all(f.map(t=>a(t,e.tryGet))),{title:`36氪 - ${o[l].title}`,link:u,item:f}}export{s as route};