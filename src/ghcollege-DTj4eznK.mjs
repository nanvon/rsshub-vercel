import"./esm-shims-BKVRry6h.mjs";import"./config-uQhBoCds.mjs";import"./logger-DQf7gybc.mjs";import"./ofetch-7N8fmlQ6.mjs";import"./helpers-C6Jountz.mjs";import{t as e}from"./cache-BXZZTZVV.mjs";import{t}from"./parse-date-C2HciIa2.mjs";import{t as n}from"./got-DcbI0XpN.mjs";import{t as r}from"./timezone-BAp4uBjD.mjs";import{load as i}from"cheerio";const a=e=>e.split(`.`).pop(),o={path:`/ghcollege`,categories:[`university`],example:`/ecnu/ghcollege`,radar:[{source:[`www.ghcollege.ecnu.edu.cn`],target:`/ghcollege`}],name:`光华书院通知公告`,maintainers:[`FrozenStarrrr`,`ChiyoYuki`,`ECNU-minus`],handler:async()=>{let o=`http://www.ghcollege.ecnu.edu.cn/`,s=i((await n(`${o}8609/list.htm`)).data),c=s(`ul.wp_article_list > li`).toArray().map(e=>({pubDate:r(t(s(e).find(`.Article_PublishDate`).text()),8),link:new URL(s(e).find(`a`).attr(`href`),o).toString(),title:s(e).find(`a`).text()}));return{title:`光华书院通知公告`,link:`http://www.ghcollege.ecnu.edu.cn/8609/list.htm`,item:await Promise.all(c.map(t=>e.tryGet(t.link,async()=>{if(a(t.link)===`htm`){let{data:e}=await n(t.link),r=i(e),a=r(`div.wp_articlecontent`);return a.find(`img[src], a[href]`).each((e,t)=>{let n=r(t),i=t.tagName===`img`?`src`:`href`,a=n.attr(i);a&&n.attr(i,new URL(a,o).toString())}),t.description=a.html()?.trim(),t}else return t.description=`请至原网页访问内容`,t})))}}};export{o as route};