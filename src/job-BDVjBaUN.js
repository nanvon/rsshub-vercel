import{n as e,t}from"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as n}from"./cache-CpEhLexq.js";import{t as r}from"./render-d6AVTUl2.js";import{t as i}from"./parse-date-CHEO0z5G.js";import{t as a}from"./got-CgQXMNWI.js";import{t as o}from"./timezone-BPfwRbwD.js";import s from"node:path";e();const c=`https://job.xjtu.edu.cn`,l={zxgg:`中心公告`,xds:`选调生`,zddw:`重点单位`,gjzz:`国际组织`,cxcy:`创新创业`,jysx:`就业实习`},u={path:`/job/:subpath?`,categories:[`university`],example:`/xjtu/job/zxgg`,parameters:{subpath:"栏目类型，默认请求`zxgg`，详见下方表格"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`就业创业中心`,maintainers:[`DylanXie123`],handler:d,description:`栏目类型

| 中心公告 | 选调生 | 重点单位 | 国际组织 | 创新创业 | 就业实习 |
| -------- | ------ | -------- | -------- | -------- | -------- |
| zxgg     | xds    | zddw     | gjzz     | cxcy     | jysx     |`};async function d(e){let u=e.req.param(`subpath`)??`zxgg`,d=(await a.post(`${c}/xsfw/sys/jyxtgktapp/modules/jywzManage/getTzgg.do`,{form:{requestParamStr:`{"pageSize":7,"pageNumber":1}`},https:{rejectUnauthorized:!1}})).data.data.find(e=>e.menutitle===l[u]).menuid,{data:f}=await a.post(`${c}/xsfw/sys/jyxtgktapp/modules/jywzManage/getMhcxWzData.do`,{form:{requestParamStr:`{"pageSize":4,"pageNumber":1,"LMDM":${d}}`},https:{rejectUnauthorized:!1}}),p=f.data.map(e=>({title:e.menutitle,description:e.NR,pubDate:o(i(e.SBSJ),8),guid:e.menuid,link:`${c}/xsfw/sys/emaphome/website/template/detail.html?menuid=${e.menuid}&msg=TZGG&msgChild=NRXQ`})),m=await Promise.all(p.map(e=>n.tryGet(e.link,async()=>{let n=await a.post(`${c}/xsfw/sys/jyxtgktapp/modules/jywzManage/getWzone.do`,{form:{requestParamStr:`{"WID":${e.guid}}`},https:{rejectUnauthorized:!1}}),i=``;if(n.data.data[0].FJ){let e=await a(`${c}/xsfw/sys/emapcomponent/file/getUploadedAttachment.do?fileToken=${n.data.data[0].FJ}`,{https:{rejectUnauthorized:!1}});i=r(s.join(t,`templates/attachments-e22262eb.art`),{items:e.data.items})}return e.author=n.data.data[0].CZZXM,e.description=n.data.data[0].NR+i,e})));return{title:`西安交通大学学生就业创业信息网 - ${l[u]}`,link:c,item:m}}export{u as route};