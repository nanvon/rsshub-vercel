import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-rK3Yp7nj.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-Bnno2HfO.js";import{load as r}from"cheerio";const i=`http://www.news.zjut.edu.cn`,a={path:`/news/:type`,categories:[`university`],example:`/zjut/news/5414`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`浙工大新闻`,maintainers:[`junbaor`,`yikZero`],url:`www.news.zjut.edu.cn`,handler:o,radar:[{source:[`www.news.zjut.edu.cn/:type/list.htm`]}],description:`| 图片新闻 | 工大要闻 | 综合新闻 | 学术・探索 | 三创・人物 | 智库工大 | 美誉工大 | 葵园融媒 |
| -------- | -------- | -------- | ---------- | ---------- | -------- | -------- | -------- |
| 5414     | 5415     | 5416     | 5422       | 5423       | 5424     | 5425     | 5419     |`};async function o(a){let o=a.req.param(`type`),s=r((await n(`${i}/${o}/list.htm`,{responseType:`buffer`})).data),c=s(`#l-container .news_list > li.news`).toArray().map(e=>{e=s(e);let n=e.find(`a`).text(),r=e.find(`a`).attr(`href`);return{title:n,description:``,pubDate:t(e.find(`span[class='news_meta']`).text()),link:r}}),l=await Promise.all(c.map(t=>t.link.startsWith(`http`)?(t.description=`<a href="${t.link}" target="_blank" rel="noopener noreferrer">${t.link}</a>`,t):e.tryGet(`${i}${t.link}`,async()=>{let e=r((await n(`${i}${t.link}`)).data);return t.link=`${i}${t.link}`,t.description=e(`div[class="wp_articlecontent"]`).html(),t})));return{title:`${s(`.col_title h2`).text()} - 浙江工业大学`,link:`${i}/${o}/list.htm`,item:l}}export{a as route};