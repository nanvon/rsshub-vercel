import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-am9EnuPq.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{ViewType as n}from"./types-Bi82qguM.js";import{load as r}from"cheerio";const i=async n=>{let{topic:i}=n.req.param(),a=Number.parseInt(n.req.query(`limit`)??`10`,10),o=`https://cursor.com`,s=i?`/blog/topic/${i}`:`/blog`,c=new URL(s,o).href,l=await e(c,{headers:{cookie:`NEXT_LOCALE=en`}}),u=r(l),d=u(`#main`).last().find(`article`).slice(0,a).toArray().map(e=>{let n=u(e),r=n.find(`a`).first(),i=r.find(`p`).first().text().trim(),a=r.find(`p`).eq(1).text().trim(),s=t(n.find(`time`).first().text().trim()),c=r.attr(`href`),l=c?new URL(c,o).href:void 0;return{title:i,description:a,pubDate:s,link:l}});return{title:u(`title`).text()||`Cursor Blog`,description:u(`meta[property="og:description"]`).attr(`content`),link:c,item:d,allowEmpty:!0,image:u(`meta[property="og:image"]`).attr(`content`)}},a={path:`/blog/:topic?`,name:`Blog`,url:`cursor.com`,maintainers:[`johan456789`],example:`/cursor/blog`,parameters:{topic:`Optional topic: product | research | company | news`},description:void 0,categories:[`blog`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`cursor.com/blog`,`cursor.com/blog/topic/:topic`],target:`/blog/:topic`}],view:n.Articles,handler:i};export{i as handler,a as route};