import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import"./ofetch-BRplXtiZ.mjs";import"./config-D7dgKYF5.mjs";import"./logger-CkUWGGaS.mjs";import"./helpers-Tm7Pw8Vq.mjs";import{t as n}from"./parse-date-_GmTZfjS.mjs";import{t as r}from"./render-CSqLtqb8.mjs";import{t as i}from"./got-BglkE51W.mjs";import a from"node:path";e();const o={tiobe:`编程语言`,netcraft:`服务器`,"db-engines":`数据库`},s={path:`/ranking/:type?`,example:`/hellogithub/ranking`,name:`榜单报告`,maintainers:[`moke8`,`nczitzk`],handler:c,description:`| 编程语言 | 服务器   | 数据库     |
| -------- | -------- | ---------- |
| tiobe    | netcraft | db-engines |`};async function c(e){let s=e.req.param(`type`)??`tiobe`;s=s===`webserver`?`netcraft`:s===`db`?`db-engines`:s;let c=`https://hellogithub.com`,l=`${c}/report/${s}`,u=(await i({method:`get`,url:`${c}/_next/data/${(await i({method:`get`,url:c})).data.match(/"buildId":"(.*?)",/)[1]}/zh/report/${s}.json`})).data.pageProps,d=[{guid:`${s}:${u.year}${u.month}`,title:`${u.year}年${u.month}月${o[s]}排行榜`,link:l,pubDate:n(`${u.year}-${u.month}`,`YYYY-M`),description:r(a.join(t,`templates/report-4864adbe.art`),{tiobe_list:s===`tiobe`?u.list:void 0,active_list:u.active_list,all_list:u.all_list,db_list:s===`db-engines`?u.list:void 0})}];return{title:`HelloGitHub - ${o[s]}排行榜`,link:l,item:d}}export{s as route};