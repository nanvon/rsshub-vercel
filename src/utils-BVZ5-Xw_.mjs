import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import{t as n}from"./ofetch-BRplXtiZ.mjs";import{t as r}from"./parse-date-_GmTZfjS.mjs";import{t as i}from"./render-CSqLtqb8.mjs";import a from"node:path";e();const o=`https://javtrailers.com`,s={Authorization:`AELAbPQCh_fifd93wMvf_kxMD_fqkUAVf@BVgb2!md@TNW8bUEopFExyGCoKRcZX`},c=e=>e.map(e=>e.startsWith(`https://pics.dmm.co.jp/`)?e.replace(/-(\d+)\.jpg$/,`jp-$1.jpg`):e.startsWith(`https://image.mgstage.com/`)?e.replace(/cap_t1_/,`cap_e_`):e),l=e=>e.map(e=>({title:`${e.dvdId} ${e.title}`,link:`${o}/video/${e.contentId}`,pubDate:r(e.releaseDate),contentId:e.contentId})),u=async e=>{let r=(await n(`${o}/api/video/${e.contentId}`,{headers:s})).video;return r.gallery=c(r.gallery),e.description=i(a.join(t,`templates/description-dded6110.art`),{videoInfo:r}),e.author=r.casts.map(e=>`${e.name} ${e.jpName}`).join(`, `),e.category=r.categories.map(e=>`${e.name}／${e.jpName}／${e.zhName}`),e};export{l as i,u as n,s as r,o as t};