import"./esm-shims-Dqvxr0BZ.js";import{config as e}from"./config-1ATZGjxb.js";import"./logger-B19BYg4C.js";import"./ofetch-B4O0sZDE.js";import"./helpers-LVq640iW.js";import"./parse-date-DHsdom8D.js";import"./got-CW2W8CRN.js";import{config_not_found_default as t}from"./config-not-found-mNOcOzCd.js";import{customFetch as n,generateTopicDataItem as r}from"./utils-BW8Welr4.js";const i={name:`用户足迹`,categories:[`social-media`],path:`/user/:id`,example:`/zsxq/user/2414218251`,parameters:{id:`用户id，从网页端url中获取`},maintainers:[`KarasuShin`],radar:[{source:[`wx.zsxq.com/dweb2/index/footprint/:id`]}],features:{requireConfig:[{name:`ZSXQ_ACCESS_TOKEN`,description:`知识星球访问令牌,获取方式：
1. 登录知识星球网页版
2. 打开浏览器开发者工具，切换到 Application 面板
3. 点击侧边栏中的Storage -> Cookies -> https://wx.zsxq.com
4. 复制 Cookie 中的 zsxq_access_token 值`}]},handler:a};async function a(i){let a=i.req.param(`id`),o=e.zsxq.accessToken;if(!o)throw new t(`该 RSS 源由于配置不正确而被禁用：令牌丢失。`);let s=Number(i.req.query(`limit`))||20;s>30&&(s=30);let c=await n(`/users/${a}`),{topics:l}=await n(`/users/${a}/topics/footprint?count=${s}`);return{title:`知识星球 - ${c.user.name}`,description:c.user.introduction,image:c.user.avatar_url,link:`https://wx.zsxq.com/dweb2/index/footprint/${a}`,item:r(l)}}export{i as route};