import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-am9EnuPq.js";import"./parse-date-DHsdom8D.js";import{ViewType as t}from"./types-Bi82qguM.js";import{author as n,language as r,processItems as i,rootUrl as a}from"./util-Bwe26wH0.js";const o=async t=>{let{keywords:o}=t.req.param(),s=Number.parseInt(t.req.query(`limit`)??`30`,10),c=new URL(`search-result/?s=${o}`,a).href,l=new URL(`api/articles/searchkeywords`,a).href,u=await e(l,{query:{keywords:o,current:1,size:s}}),d=i(u.data.records,s);return{title:`${n} - ${o}`,description:o,link:c,item:d,allowEmpty:!0,author:n,language:r}},s={path:`/n/search/:keywords`,name:`盐选故事搜索`,url:`n.ifun.cool`,maintainers:[`nczitzk`],handler:o,example:`/ifun/n/search/NPC`,parameters:{keywords:`搜索关键字`},description:"::: tip\n若订阅 [关键词：NPC](https://n.ifun.cool/search-result/?s=NPC)，网址为 `https://n.ifun.cool/search-result/?s=NPC`，请截取 `s` 的值 `NPC` 作为 `keywords` 参数填入，此时目标路由为 [`/ifun/n/search/NPC`](https://rsshub.app/ifun/n/search/NPC)。\n:::\n    ",categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`n.ifun.cool/search-result`],target:(e,t)=>`/ifun/n/search/${new URL(t).searchParams.get(`s`)}`}],view:t.Articles};export{o as handler,s as route};