import"./esm-shims-DtWyl6zt.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./dist-CKN2M7CD.js";import"./helpers-DzX-lcQO.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-CYKAhM9L.js";import{got_default as t}from"./got-pWlL3EH4.js";import{ViewType as n}from"./types-A5bA50Mg.js";import{load as r}from"cheerio";const i={path:`/chapter/:id`,categories:[`reading`],view:n.Notifications,example:`/qidian/chapter/1010400217`,parameters:{id:`小说 id, 可在对应小说页 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`book.qidian.com/info/:id`]}],name:`作品章节`,maintainers:[`fuzy112`],handler:a};async function a(n){let i=n.req.param(`id`),a=await t(`https://m.qidian.com/book/${i}.html`),o=r(a.data),s=o(`meta[property="og:title"]`).attr(`content`),c=`https:${o(`.detail__header-cover__img`).attr(`src`)}`,{data:l}=await t(`https://m.qidian.com/book/${i}/catalog/`),u=r(l),{pageContext:d}=JSON.parse(u(`#vite-plugin-ssr_pageContext`).text()),f=d.pageProps.pageData.vs.flatMap(e=>e.cs).map(t=>({title:t.cN,pubDate:e(t.uT),link:`https://vipreader.qidian.com/chapter/${i}/${t.id}`}));return{title:`起点 ${s}`,link:`https://book.qidian.com/info/${i}`,description:o(`#bookSummary content`).text(),image:c,item:f}}export{i as route};