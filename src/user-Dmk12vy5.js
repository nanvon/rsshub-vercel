import"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as e}from"./cache-CpEhLexq.js";import"./render-d6AVTUl2.js";import{t}from"./parse-date-CHEO0z5G.js";import{t as n}from"./got-CgQXMNWI.js";import{t as r}from"./types-Bn7An2Wc.js";import{t as i}from"./invalid-parameter-CLGd_tte.js";import{t as a}from"./valid-host-COjFWLEv.js";import{n as o,t as s}from"./utils-Bu4TJjPD.js";import{load as c}from"cheerio";const l={path:`/user/:uid`,categories:[`design`],view:r.Pictures,example:`/zcool/user/baiyong`,parameters:{uid:`个性域名前缀或者用户ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.zcool.com.cn/u/:id`],target:`/user/:id`}],name:`用户作品`,description:"  例如:\n\n    站酷的个人主页 `https://baiyong.zcool.com.cn` 对应 rss 路径 `/zcool/user/baiyong`\n\n    站酷的个人主页 `https://www.zcool.com.cn/u/568339` 对应 rss 路径 `/zcool/user/568339`",maintainers:[`junbaor`],handler:u};async function u(r){let l=r.req.param(`uid`),u=`https://www.zcool.com.cn/u/${l}`;if(Number.isNaN(l)){if(!a(l))throw new i(`Invalid uid`);u=`https://${l}.zcool.com.cn`}let{data:d}=await n(u),f=c(d),p=JSON.parse(f(`script#__NEXT_DATA__`).text()),m=p.props.pageProps.workList.map(e=>({title:e.title,link:e.pageUrl,pubDate:t(e.publishTime,`x`),category:[e.objectTypeStr,e.cateStr,e.subCateStr,...e.tags]})),h=await Promise.all(m.map(t=>e.tryGet(t.link,async()=>{let{data:e}=await n(t.link),r=c(e),i=JSON.parse(r(`script#__NEXT_DATA__`).text());return t.link.startsWith(`https://www.zcool.com.cn/article/`)?t.description=s(i):t.link.startsWith(`https://www.zcool.com.cn/work/`)&&(t.description=o(i)),t})));return{title:p.props.pageProps.seo.title,description:p.props.pageProps.seo.description,image:p.props.pageProps.userInfo.avatar.includes(`?x-oss-process`)?p.props.pageProps.userInfo.avatar.split(`?`)[0]:p.props.pageProps.userInfo.avatar,link:u,item:h}}export{l as route};