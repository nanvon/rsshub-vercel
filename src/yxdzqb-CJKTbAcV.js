import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-rK3Yp7nj.js";import"./helpers-qpI1t-yV.js";import{art as n}from"./render-DftO2d-b.js";import{got_default as r}from"./got-CoH3ye0k.js";import i from"node:path";import{load as a}from"cheerio";t();const o={new:`index_discount.html`,hot:`index_popular.html`,hot_chinese:`index_popular_cn.html`,low:`index_low.html`,low_chinese:`index_low_cn.html`},s={path:`/:type`,categories:[`game`],example:`/yxdzqb/popular_cn`,parameters:{type:`折扣类型`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`yxdzqb.com/`]}],name:`游戏折扣`,maintainers:[`LogicJake`,`nczitzk`],handler:c,url:`yxdzqb.com/`,description:`| Steam 最新折扣 | Steam 热门游戏折扣 | Steam 热门中文游戏折扣 | Steam 历史低价 | Steam 中文游戏历史低价 |
| -------------- | ------------------ | ---------------------- | -------------- | ---------------------- |
| discount       | popular            | popular_cn            | low            | low_cn                |`};async function c(t){let s=t.req.param(`type`),c=`https://www.yxdzqb.com/${Object.hasOwn(o,s)?o[s]:`index_${s}.html`}`,l=a((await r.get(c)).data),u=l(`.btn-primary b`).text()||l(`.btn-danger b`).text()||l(`.btn-info b`).text(),d=l(`tr.bg-none`).toArray().map(t=>{t=l(t);let r=t.find(`div table:nth-child(1) tr td:nth-child(1)`).text(),a=n(i.join(e,`templates/description-994b84e5.art`),{src:t.find(`table.cell_tabs > tbody > tr > td:nth-child(1) > img`).attr(`src`),description:t.find(`div.collapse`).html()}),o=t.find(`div.collapse table.cell_tabs > tbody > tr > td:nth-child(1) > a`).attr(`href`);return{title:r,description:a,link:o,guid:o+t.find(`div.cell_price span:nth-child(2)`).text()}});return{title:`${u}-游戏打折情报`,link:c,item:d}}export{s as route};