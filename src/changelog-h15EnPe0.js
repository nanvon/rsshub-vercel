import"./esm-shims-Dqvxr0BZ.js";import"./config-1ATZGjxb.js";import"./logger-B19BYg4C.js";import"./ofetch-B4O0sZDE.js";import"./helpers-LVq640iW.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-CW2W8CRN.js";import{load as n}from"cheerio";const r={path:`/changelog/:language?`,categories:[`program-update`],example:`/eagle/changelog/en`,parameters:{language:"Language, see list, default to be `cn`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Changelog`,maintainers:[`tigercubden`],handler:i,description:`Language

| Simplified Chinese | Traditional Chinese | English |
| ------------------ | ------------------- | ------- |
| cn                 | tw                  | en      |`};async function i(r){let i=r.req.param(`language`),a=``;(i===void 0||!(i===`tw`||i===`en`))&&(i=`cn`,a=`更新日志`),i===`tw`&&(a=`更新日誌`),i===`en`&&(a=`Release Notes`);let o=await t({method:`get`,url:`https://${i}.eagle.cool/changelog`,headers:{Referer:`https://${i}.eagle.cool/`}}),s=o.data,c=n(s),l=c(`.version`);return{title:`Eagle ${a}`,link:`https://${i}.eagle.cool/changelog`,description:`Eagle ${a}`,item:l.toArray().map(t=>{t=c(t);function n(){let e=t.find(`.date`).text(),n=``;if(i===`cn`||i===`tw`){let t=/\d+/g,r;for(;(r=t.exec(e))!==null;)n+=r+`-`;n=n.replaceAll(/-$/g,``)}else i===`en`&&(n=e.replaceAll(`RELEASED`,``));return n}return{title:t.find(`.ver`).text(),description:t.find(`.logs`).html(),link:`https://${i}.eagle.cool/changelog`,pubDate:e(n()),guid:t.find(`.ver`).text()}})}}export{r as route};