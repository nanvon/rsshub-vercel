import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CbgiXYAi.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import"./render-CSnicFA3.js";import"./parse-date-DHsdom8D.js";import"./got-Do9KqzqD.js";import{invalid_parameter_default as t}from"./invalid-parameter-CfUmvEUg.js";import"./config-not-found-B7nOMdXp.js";import{getDetails as n,getSimple as r,getTorrents as i}from"./util-BzEWtaC1.js";const a=new Set([`parody`,`character`,`tag`,`artist`,`group`,`language`,`category`]),o={path:`/index/:key/:keyword/:mode?`,example:`/nhentai/index/language/chinese`,parameters:{key:"Filter term, can be: `parody`, `character`, `tag`, `artist`, `group`, `language` or `category`",keyword:`Filter value`,mode:"mode, `simple` to only show cover, `detail` to show all pages, `torrent` to include Magnet URI, need login, refer to [Route-specific Configurations](https://docs.rsshub.app/deploy/config#route-specific-configurations), default to `simple`"},features:{antiCrawler:!0,supportBT:!0,nsfw:!0},radar:[{source:[`nhentai.net/:key/:keyword`],target:`/index/:key/:keyword`}],name:`Filter`,maintainers:[`MegrezZhu`,`hoilc`],handler:s};async function s(o){let{key:s,keyword:c,mode:l}=o.req.param();if(!a.has(s))throw new t(`Unsupported key`);let u=`https://nhentai.net/${s}/${c.toLowerCase().replace(` `,`-`)}/`,d=await r(u),f=o.req.query(`limit`)?Number.parseInt(o.req.query(`limit`)):5,p=d;return l===`detail`?p=await n(e,d,f):l===`torrent`&&(p=await i(e,d,f)),{title:`nhentai - ${s} - ${c}`,link:u,description:`hentai`,item:p}}export{o as route};