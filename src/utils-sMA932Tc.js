import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import{art as n}from"./render-CSnicFA3.js";import{got_default as r}from"./got-BOnMlRH6.js";import i from"node:path";import{load as a}from"cheerio";t();const o=`https://furstar.jp`,s=e=>e?`${o}/${e}`:o,c=t=>n(i.join(e,`templates/author-fedbb8f1.art`),t),l=(t,r,a)=>n(i.join(e,`templates/description-ed3670e4.art`),{desc:t,pics:r,author:c(a)}),u=e=>{let t=a(e),n=t(`a`),r={name:null,avatar:null,link:null};if(n.length>0){let e=t(`a img`);r.name=e.attr(`alt`),r.avatar=e.attr(`src`),r.link=n.attr(`href`)}else{let e=t(`img`);r.name=e.attr(`alt`),r.avatar=e.attr(`src`)}return r};var d={BASE:o,langBase:s,fetchAllCharacters:(e,t)=>a(e)(`.character-article`).toArray().map(e=>{let n=a(e);return{title:n(`.character-headline`).text().trim(),headImage:n(`.character-images img`).attr(`src`).trim(),detailPage:`${t}/${n(`.character-images a`).attr(`href`).trim()}`,author:u(n(`.character-description`).html())}}),detailPage:(e,t)=>t.tryGet(e,async()=>{let t=await r(e,{https:{rejectUnauthorized:!1}}),n=a(t.data),i=n(`.row .panel-heading h2`).text().trim(),s=n(`.character-description p`).text().trim(),c=n(`.img-gallery .prettyPhoto`).toArray().map(e=>{let t=a(e)(`a`).attr(`href`).trim();return`${o}/${t.slice(2)}`});return{title:i,pics:c,desc:s,author:u(n(`.character-description`).html())}}),authorDetail:u,renderDesc:l,renderAuthor:c};export{d as utils_default};