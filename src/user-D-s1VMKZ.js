import"./esm-shims-BGJi2y--.js";import{config as e}from"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CISb_5Uo.js";import"./helpers-gUVC02jt.js";import"./parse-date-DHsdom8D.js";import"./got-BOnMlRH6.js";import{config_not_found_default as t}from"./config-not-found-B7nOMdXp.js";import{customFetch as n,generateTopicDataItem as r}from"./utils-BBRiVpp5.js";const i={name:`用户足迹`,categories:[`social-media`],path:`/user/:id`,example:`/zsxq/user/2414218251`,parameters:{id:`用户id，从网页端url中获取`},maintainers:[`KarasuShin`],radar:[{source:[`wx.zsxq.com/dweb2/index/footprint/:id`]}],features:{requireConfig:[{name:`ZSXQ_ACCESS_TOKEN`,description:`知识星球访问令牌,获取方式：
1. 登录知识星球网页版
2. 打开浏览器开发者工具，切换到 Application 面板
3. 点击侧边栏中的Storage -> Cookies -> https://wx.zsxq.com
4. 复制 Cookie 中的 zsxq_access_token 值`}]},handler:a};async function a(i){let a=i.req.param(`id`);if(!e.zsxq.accessToken)throw new t(`该 RSS 源由于配置不正确而被禁用：令牌丢失。`);let o=Number(i.req.query(`limit`))||20;o>30&&(o=30);let s=await n(`/users/${a}`),{topics:c}=await n(`/users/${a}/topics/footprint?count=${o}`);return{title:`知识星球 - ${s.user.name}`,description:s.user.introduction,image:s.user.avatar_url,link:`https://wx.zsxq.com/dweb2/index/footprint/${a}`,item:r(c)}}export{i as route};