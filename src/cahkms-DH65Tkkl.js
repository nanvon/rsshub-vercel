import{n as e,t}from"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CfXAR0UO.js";import"./helpers-Cqaav28H.js";import{t as n}from"./cache-CpEhLexq.js";import{t as r}from"./render-d6AVTUl2.js";import{t as i}from"./parse-date-CHEO0z5G.js";import{t as a}from"./got-dCh-Ojgc.js";import{t as o}from"./timezone-BPfwRbwD.js";import s from"node:path";e();const c={"01":`关于我们`,"02":`港澳新闻`,"03":`重要新闻`,"04":`顾问点评、会员观点`,"05":`专题汇总`,"06":`港澳时评`,"07":`图片新闻`,"08":`视频中心`,"09":`港澳研究`,10:`最新书讯`,11:`研究资讯`},l={path:`/:category?`,categories:[`new-media`],example:`/cahkms`,parameters:{category:`分类，见下表，默认为重要新闻`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`cahkms.org/`]}],name:`分类`,maintainers:[`nczitzk`],handler:u,url:`cahkms.org/`,description:`| 关于我们 | 港澳新闻 | 重要新闻 | 顾问点评、会员观点 | 专题汇总 |
| -------- | -------- | -------- | ------------------ | -------- |
| 01       | 02       | 03       | 04                 | 05       |

| 港澳时评 | 图片新闻 | 视频中心 | 港澳研究 | 最新书讯 | 研究资讯 |
| -------- | -------- | -------- | -------- | -------- | -------- |
| 06       | 07       | 08       | 09       | 10       | 11       |`};async function u(e){let l=e.req.param(`category`)??`03`,u=`http://www.cahkms.org`,d=`${u}/HKMAC/indexMac/getRightList?dm=${l}&page=1&countPage=${e.req.query(`limit`)??10}`,f=(await a({method:`get`,url:d})).data.filter(e=>e.ID).map(e=>({title:e.TITLE,description:`<p>${e.GJZ}</p>`,pubDate:o(i(e.JDRQ),8),link:`${u}/HKMAC/indexMac/getWzxx?id=${e.ID}`}));return f=await Promise.all(f.map(e=>n.tryGet(e.link,async()=>{let n=await a({method:`get`,url:e.link});return e.author=n.data.WZLY,e.description=r(s.join(t,`templates/description-bfc99d2e.art`),{rootUrl:u,content:n.data.CONTENT,image:n.data.URL,files:n.data.fjlist,video:n.data.VIDEO.indexOf(`.mp4`)>0?n.data.VIDEO:null}),e.link=`${u}/HKMAC/webView/mc/AboutUs_1.html?${l}&${c[l]}`,e}))),{title:`${c[l]} - 全国港澳研究会`,link:d,item:f}}export{l as route};