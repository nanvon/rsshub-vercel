import{n as e,t}from"./esm-shims-mGm6WwCc.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./got-CgQXMNWI.js";import i from"node:path";import{load as a}from"cheerio";e();const o=(e,o)=>o(e.link,async()=>{let o=a((await r(e.link,{responseType:`buffer`})).data);o(`.post_main img`).each((e,t)=>{if(!t.attribs.src)return;let n=new URL(t.attribs.src);n.host===`nimg.ws.126.net`&&(t.attribs.src=n.searchParams.get(`url`))});let s=e.imgsrc?new URL(e.imgsrc).searchParams.get(`url`):!1;return e.description=n(i.join(t,`templates/dy-b6e04c69.art`),{imgsrc:s,postBody:o(`.post_body`).html()}),e.feedLink=o(`.post_wemedia_name a`).attr(`href`),e.feedDescription=o(`.post_wemedia_title`).text(),e.feedImage=o(`.post_wemedia_avatar img`).attr(`src`),e});export{o as t};