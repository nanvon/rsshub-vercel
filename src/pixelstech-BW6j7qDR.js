import{n as e,t}from"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import{t as n}from"./ofetch-CRUPiVpr.js";import{t as r}from"./cache-CpEhLexq.js";import{t as i}from"./render-d6AVTUl2.js";import{t as a}from"./parse-date-CHEO0z5G.js";import{t as o}from"./types-Bn7An2Wc.js";import s from"node:path";import{load as c}from"cheerio";e();const l=async e=>{let{topic:o}=e.req.param(),l=Number.parseInt(e.req.query(`limit`)??`10`,10),u=`https://www.pixelstech.net`,d=new URL(`feed/${o??``}`,u).href,f=c(await n(d)),p=f(`html`).attr(`lang`)??`en`,m=[];return m=f(`div.feed-item`).slice(0,l).toArray().map(e=>{let n=f(e),r=n.find(`a.feed-item-link`),o=r.text(),c=n.attr(`data-bg-image`),l=i(s.join(t,`templates/description-881baa33.art`),{images:c?[{src:c,alt:o}]:void 0,intro:n.find(`div.feed-item-description`).text()}),d=n.parent().find(`h2.section-heading`).text(),m=r.attr(`href`),h=n.attr(`data-feed-id`)?`pixelstech-feed#${n.attr(`data-feed-id`)}`:``,g=n.find(`.time`).text()||d;return{title:o,description:l,pubDate:d?a(d):void 0,link:m?new URL(m,u).href:void 0,guid:h,id:h,content:{html:l,text:l},image:c,banner:c,updated:g?a(g):void 0,language:p}}),m=await Promise.all(m.map(e=>e.link?r.tryGet(e.link,async()=>{try{let r=c(await n(e.link));r(`div.login-prompt`).remove();let a=r(`h1`).text(),o=(e.description??``)+i(s.join(t,`templates/description-881baa33.art`),{description:r(`article.content-article`).html()}),l={title:a,description:o,link:r(`span.source-text a`).attr(`href`)??e.link,content:{html:o,text:o},language:p};return{...e,...l}}catch{return e}}):e)),{title:f(`title`).text(),description:f(`meta[name="description"]`).attr(`content`),link:d,item:m,allowEmpty:!0,image:f(`meta[name="twitter:image"]`).attr(`content`),author:f(`meta[name="author"]`).attr(`content`),language:p,id:f(`meta[property="og:url"]`).attr(`content`)}},u={path:`/feed/:topic?`,name:`Feed`,url:`www.pixelstech.net`,maintainers:[`nczitzk`],handler:l,example:`/pixelstech/feed/ai`,parameters:{category:{description:`Topic, all by default`,options:[{label:`All`,value:``},{label:`AI`,value:`ai`},{label:`Alibaba`,value:`alibaba`},{label:`Apple`,value:`apple`},{label:`Database`,value:`database`},{label:`Go`,value:`go`},{label:`Huawei`,value:`huawei`},{label:`Java`,value:`java`},{label:`JavaScript`,value:`javascript`},{label:`Linux`,value:`linux`},{label:`LLM`,value:`llm`},{label:`Nvidia`,value:`nvidia`},{label:`Python`,value:`python`},{label:`Rust`,value:`rust`},{label:`Tesla`,value:`tesla`},{label:`Web`,value:`web`},{label:`Web3`,value:`web3`},{label:`Zig`,value:`zig`}]}},description:`:::tip
To subscribe to [AI](https://www.pixelstech.net/feed/ai), where the source URL is \`https://www.pixelstech.net/feed/ai\`, extract the certain parts from this URL to be used as parameters, resulting in the route as [\`/pixelstech/feed/ai\`](https://rsshub.app/pixelstech/feed/ai).
:::

<details>
  <summary>More topics</summary>

  | Topic                                                    | ID                                                          |
  | -------------------------------------------------------- | ----------------------------------------------------------- |
  | [AI](https://www.pixelstech.net/feed/ai)                 | [ai](https://rsshub.app/pixelstech/feed/ai)                 |
  | [Alibaba](https://www.pixelstech.net/feed/alibaba)       | [alibaba](https://rsshub.app/pixelstech/feed/alibaba)       |
  | [Apple](https://www.pixelstech.net/feed/apple)           | [apple](https://rsshub.app/pixelstech/feed/apple)           |
  | [Database](https://www.pixelstech.net/feed/database)     | [database](https://rsshub.app/pixelstech/feed/database)     |
  | [Go](https://www.pixelstech.net/feed/go)                 | [go](https://rsshub.app/pixelstech/feed/go)                 |
  | [Huawei](https://www.pixelstech.net/feed/huawei)         | [huawei](https://rsshub.app/pixelstech/feed/huawei)         |
  | [Java](https://www.pixelstech.net/feed/java)             | [java](https://rsshub.app/pixelstech/feed/java)             |
  | [JavaScript](https://www.pixelstech.net/feed/javascript) | [javascript](https://rsshub.app/pixelstech/feed/javascript) |
  | [Linux](https://www.pixelstech.net/feed/linux)           | [linux](https://rsshub.app/pixelstech/feed/linux)           |
  | [LLM](https://www.pixelstech.net/feed/llm)               | [llm](https://rsshub.app/pixelstech/feed/llm)               |
  | [Nvidia](https://www.pixelstech.net/feed/nvidia)         | [nvidia](https://rsshub.app/pixelstech/feed/nvidia)         |
  | [Python](https://www.pixelstech.net/feed/python)         | [python](https://rsshub.app/pixelstech/feed/python)         |
  | [Rust](https://www.pixelstech.net/feed/rust)             | [rust](https://rsshub.app/pixelstech/feed/rust)             |
  | [Tesla](https://www.pixelstech.net/feed/tesla)           | [tesla](https://rsshub.app/pixelstech/feed/tesla)           |
  | [Web](https://www.pixelstech.net/feed/web)               | [web](https://rsshub.app/pixelstech/feed/web)               |
  | [Web3](https://www.pixelstech.net/feed/web3)             | [web3](https://rsshub.app/pixelstech/feed/web3)             |
  | [Zig](https://www.pixelstech.net/feed/zig)               | [zig](https://rsshub.app/pixelstech/feed/zig)               |

</details>
`,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.pixelstech.net/feed/:topic?`],target:`/feed/:topic`},{title:`All`,source:[`www.pixelstech.net/feed/`],target:`/feed`},{title:`AI`,source:[`www.pixelstech.net/feed/ai`],target:`/feed/ai`},{title:`Alibaba`,source:[`www.pixelstech.net/feed/alibaba`],target:`/feed/alibaba`},{title:`Apple`,source:[`www.pixelstech.net/feed/apple`],target:`/feed/apple`},{title:`Database`,source:[`www.pixelstech.net/feed/database`],target:`/feed/database`},{title:`Go`,source:[`www.pixelstech.net/feed/go`],target:`/feed/go`},{title:`Huawei`,source:[`www.pixelstech.net/feed/huawei`],target:`/feed/huawei`},{title:`Java`,source:[`www.pixelstech.net/feed/java`],target:`/feed/java`},{title:`JavaScript`,source:[`www.pixelstech.net/feed/javascript`],target:`/feed/javascript`},{title:`Linux`,source:[`www.pixelstech.net/feed/linux`],target:`/feed/linux`},{title:`LLM`,source:[`www.pixelstech.net/feed/llm`],target:`/feed/llm`},{title:`Nvidia`,source:[`www.pixelstech.net/feed/nvidia`],target:`/feed/nvidia`},{title:`Python`,source:[`www.pixelstech.net/feed/python`],target:`/feed/python`},{title:`Rust`,source:[`www.pixelstech.net/feed/rust`],target:`/feed/rust`},{title:`Tesla`,source:[`www.pixelstech.net/feed/tesla`],target:`/feed/tesla`},{title:`Web`,source:[`www.pixelstech.net/feed/web`],target:`/feed/web`},{title:`Web3`,source:[`www.pixelstech.net/feed/web3`],target:`/feed/web3`},{title:`Zig`,source:[`www.pixelstech.net/feed/zig`],target:`/feed/zig`}],view:o.Articles};export{l as handler,u as route};