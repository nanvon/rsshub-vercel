import e from"node:path";import{fileURLToPath as t}from"node:url";import{stringifyQuery as n}from"ufo";const r=e=>{let t=e.split(`/`).filter(Boolean);return t.length>0?t[0]:null},i=e=>{let t=e.url.match(/^https?:\/\/[^/]+(\/[^?]*)/);return t?t[1]:``},a=e=>{let[t,n]=[`,`,`.`];return e.map(e=>e.replaceAll(/(\d)(?=(\d{3})+(?!\d))/g,`$1`+t)).join(n)},o=e=>{let t=Date.now()-e;return a([t<1e3?t+`ms`:Math.round(t/1e3)+`s`])},s=n=>{let r=e.join(t(n));return e.dirname(r)};function c(e){return Object.prototype.toString.call(e)===`[object Object]`}function l(e){return(c(e)?n(e):null)??new URLSearchParams(e).toString()}function u(e){if(e)return e.trim().replaceAll(/[^\d:]/g,``).split(`:`).toReversed().reduce((e,t,n)=>{let r=Number(t);if(Number.isNaN(r))throw TypeError(`Invalid segment: ${t}`);return e+r*60**n},0)}export{u as a,l as i,i as n,o,r,s as t};