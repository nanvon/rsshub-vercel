import"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import{t as e}from"./logger-asV68Lay.js";import{t}from"./ofetch-BASlBuka.js";import{t as n}from"./cache-CpEhLexq.js";import{t as r}from"./parse-date-CHEO0z5G.js";import{t as i}from"./timezone-BPfwRbwD.js";import{load as a}from"cheerio";const o={path:`/yz/:category?`,categories:[`university`],example:`/xjtu/yz/zsdt`,parameters:{category:"栏目类型，默认请求`zsdt`，详见下方表格"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`yz.xjtu.edu.cn/index/:category.htm`],target:`/yz/:category`}],name:`研究生招生信息网`,maintainers:[`YoghurtGuy`],handler:s,description:`栏目类型

| 招生动态 | 通知公告 | 政策法规 | 招生统计 | 历年复试线 | 博士招生 | 硕士招生 | 推免生 | 其他招生 |
| -------- | -------- | -------- | -------- | ---------- | -------- | -------- | ------ | -------- |
| zsdt     | tzgg     | zcfg     | zstj     | lnfsx      | bszs     | sszs     | tms    | qtzs     |`};async function s(o){let{category:s=`zsdt`}=o.req.param(),c=`https://yz.xjtu.edu.cn`,l=a(await t(`${c}/index/${s}.htm`)),u=l(`div.list-con ul li`).toArray().map(e=>{let t=l(e),n=t.find(`a`);return{title:n.attr(`title`),link:new URL(n.attr(`href`),c).href,pubDate:i(r(t.find(`span.date.fr`).text()),8)}});return{title:`西安交通大学研究生招生信息网`,link:`https://yz.xjtu.edu.cn`,item:await Promise.all(u.map(r=>n.tryGet(r.link,async()=>{try{let e=a(await t(r.link));return r.description=e(`#vsb_content`).html()+(e(`form ul`).length>0?e(`form ul`).html():``),r}catch(t){return e.error(`Fetch failed for ${r.link}:`,t),r}})))}}export{o as route};