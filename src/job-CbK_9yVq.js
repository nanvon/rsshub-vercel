import{__dirname as e,init_esm_shims as t}from"./esm-shims-BmHUa0Yk.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-DCfHHxuQ.js";import"./helpers-gUVC02jt.js";import{cache_default as n}from"./cache-Dfid4xgQ.js";import{art as r}from"./render-CSnicFA3.js";import{parseDate as i}from"./parse-date-DHsdom8D.js";import{got_default as a}from"./got-D5TEN1xL.js";import{timezone as o}from"./timezone-CMz5pnRe.js";import s from"node:path";t();const c=`https://job.xjtu.edu.cn`,l={zxgg:`中心公告`,xds:`选调生`,zddw:`重点单位`,gjzz:`国际组织`,cxcy:`创新创业`,jysx:`就业实习`},u={path:`/job/:subpath?`,categories:[`university`],example:`/xjtu/job/zxgg`,parameters:{subpath:"栏目类型，默认请求`zxgg`，详见下方表格"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`就业创业中心`,maintainers:[`DylanXie123`],handler:d,description:`栏目类型

| 中心公告 | 选调生 | 重点单位 | 国际组织 | 创新创业 | 就业实习 |
| -------- | ------ | -------- | -------- | -------- | -------- |
| zxgg     | xds    | zddw     | gjzz     | cxcy     | jysx     |`};async function d(t){let u=t.req.param(`subpath`)??`zxgg`,d=(await a.post(`${c}/xsfw/sys/jyxtgktapp/modules/jywzManage/getTzgg.do`,{form:{requestParamStr:`{"pageSize":7,"pageNumber":1}`},https:{rejectUnauthorized:!1}})).data.data.find(e=>e.menutitle===l[u]).menuid,{data:f}=await a.post(`${c}/xsfw/sys/jyxtgktapp/modules/jywzManage/getMhcxWzData.do`,{form:{requestParamStr:`{"pageSize":4,"pageNumber":1,"LMDM":${d}}`},https:{rejectUnauthorized:!1}}),p=f.data.map(e=>({title:e.menutitle,description:e.NR,pubDate:o(i(e.SBSJ),8),guid:e.menuid,link:`${c}/xsfw/sys/emaphome/website/template/detail.html?menuid=${e.menuid}&msg=TZGG&msgChild=NRXQ`})),m=await Promise.all(p.map(t=>n.tryGet(t.link,async()=>{let n=await a.post(`${c}/xsfw/sys/jyxtgktapp/modules/jywzManage/getWzone.do`,{form:{requestParamStr:`{"WID":${t.guid}}`},https:{rejectUnauthorized:!1}}),i=``;if(n.data.data[0].FJ){let t=await a(`${c}/xsfw/sys/emapcomponent/file/getUploadedAttachment.do?fileToken=${n.data.data[0].FJ}`,{https:{rejectUnauthorized:!1}});i=r(s.join(e,`templates/attachments-e22262eb.art`),{items:t.data.items})}return t.author=n.data.data[0].CZZXM,t.description=n.data.data[0].NR+i,t})));return{title:`西安交通大学学生就业创业信息网 - ${l[u]}`,link:c,item:m}}export{u as route};