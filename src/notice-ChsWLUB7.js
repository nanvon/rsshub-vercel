import"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CRUPiVpr.js";import"./helpers-Cqaav28H.js";import{t as e}from"./cache-CpEhLexq.js";import{t}from"./parse-date-CHEO0z5G.js";import{t as n}from"./got-BlqYKpVp.js";import{load as r}from"cheerio";async function i(e){let t=(await n({method:`get`,url:e.link})).data,i=r(t),a=i(`div.view-title`).text(),o=i(`#vsb_content`).html();return i(`[name="_newscontent_fromname"] ul a`).each((t,n)=>{let r=i(n).attr(`href`);r.startsWith(`/`)&&i(n).attr(`href`,new URL(r,e.link).href)}),e.title=a,e.description=o+(i(`ul[style]`).length?i(`ul[style]`).html():``),e}const a={path:`/sse/:type?`,categories:[`university`],example:`/tongji/sse/xytz`,parameters:{type:"通知类型，默认为 `xytz`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`软件学院通知`,maintainers:[`sgqy`],handler:o,description:`| 本科生通知 | 研究生通知 | 教工通知 | 全体通知 | 学院通知 | 学院新闻 | 学院活动 |
| ---------- | ---------- | -------- | -------- | -------- | -------- | -------- |
| bkstz      | yjstz      | jgtz     | qttz     | xytz     | xyxw     | xyhd     |

  注意: \`qttz\` 与 \`xytz\` 在原网站等价.`};async function o(a){let o=`https://sse.tongji.edu.cn`,s=a.req.param(`type`)||`xytz`,c=`${o}/xxzx/${[`bkstz`,`yjstz`,`jgtz`,`qttz`].includes(s)?`xytz/${s}`:s}.htm`,l=(await n({method:`get`,url:c})).data,u=r(l),d=u(`.data-list li`).toArray().map(e=>{e=u(e);let n=e.find(`a`);return{title:n.text(),link:new URL(n.attr(`href`),o).href,pubDate:t(e.find(`.data-list-time`).text(),`YYYY-MM-DD`)}});return{title:`同济大学软件学院`,link:c,item:await Promise.all(d.map(t=>e.tryGet(t.link,()=>i(t))))}}export{a as route};