import"./esm-shims-rNwigI-Q.js";import{config as e}from"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CeMUzp5K.js";import"./helpers-qpI1t-yV.js";import"./cache-Dfid4xgQ.js";import"./render-DftO2d-b.js";import"./got-Di2lBekK.js";import{processItems as t}from"./utils-B-MxKGUf.js";import n from"rss-parser";const r={path:`/rss/:channel?`,categories:[`traditional-media`],example:`/dw/rss/rss-en-all`,parameters:{category:"RSS Feed Channel, see below, `rss-en-all` by default"},features:{requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1,requireConfig:!1},name:`RSS`,maintainers:[`quiniapiezoelectricity`],handler:i,description:"\nFor a full list of RSS Feed Channels in English, please refer to [DW RSS Feeds](https://corporate.dw.com/en/rss-feeds/a-68693346).\nRSS Feed Channels in other languages are also available, for example: `rss-chi-all` renders the RSS feed in Chinese and `rss-de-all` for the RSS Feed in German\n"};async function i(r){let i=r.req.param(`channel`)??`rss-en-all`,a=await new n({customFields:{item:[`dwsyn:contentID`]},headers:{"User-Agent":e.ua}}).parseURL(`https://rss.dw.com/rdf/${i}`),o=await t(a.items.map(e=>{e.id=e[`dwsyn:contentID`],e.pubDate=e.isoDate,e.description=e.content;let t=new URL(e.link);return t.search=``,e.link=t.href,e.type=t.pathname.slice(t.pathname.lastIndexOf(`/`)+1).startsWith(`live-`)?`liveblog`:`article`,e}));return{title:a.title,link:a.link,description:a.description,item:o}}export{r as route};