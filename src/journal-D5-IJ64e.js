import{n as e,t}from"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./got-CgQXMNWI.js";import i from"node:path";e();const a=`https://ieeexplore.ieee.org`,o={name:`IEEE Journal Articles`,maintainers:[`HenryQW`],categories:[`journal`],path:`/journal/:punumber/:earlyAccess?`,parameters:{punumber:"Publication Number, look for `punumber` in the URL",earlyAccess:`Optional, set any value to get early access articles`},example:`/ieee/journal/6287639/preprint`,handler:s};async function s(e){let r=e.req.param(`punumber`),o=!!e.req.param(`earlyAccess`),{displayTitle:s,currentIssue:d,preprintIssue:f,coverImagePath:p}=await c(r),{issueNumber:m,volume:h}=o?f:d,g=(await l(r,m)).records.map(e=>{let r=u(h)(e);return r.description=n(i.join(t,`templates/description-e509e615.art`),{item:r}),r});return{title:s,link:`${a}/xpl/tocresult.jsp?isnumber=${m}`,item:g,image:`${a}${p}`}}async function c(e){return(await r(`${a}/rest/publication/home/metadata?pubid=${e}`)).data}async function l(e,t){return(await r.post(`${a}/rest/search/pub/${e}/issue/${t}/toc`,{json:{punumber:e,isnumber:t,rowsPerPage:`100`}})).data}function u(e){return t=>({abstract:t.abstract||``,authors:t.authors?t.authors.map(e=>e.preferredName).join(`; `):``,description:``,doi:t.doi,link:t.htmlLink,title:t.articleTitle||``,volume:e})}export{o as route};