import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-am9EnuPq.js";import"./helpers-gUVC02jt.js";import"./cache-Dfid4xgQ.js";import"./parse-date-DHsdom8D.js";import{got_default as e}from"./got-CmdBCkM8.js";import{baseUrl as t,parseItems as n,parseList as r}from"./utils-CCAG03Lt.js";const i={path:`/today/:edition?/:tab?`,categories:[`new-media`],example:`/line/today`,parameters:{edition:`Edition, see below, Taiwan by default`,tab:"Tag, can be found in URL, `top` by default"},radar:[{source:[`today.line.me/`]}],name:`TODAY`,maintainers:[`nczitzk`],handler:a,url:`today.line.me/`,description:`Edition

| Taiwan | Thailand | Hong Kong |
| ------ | -------- | --------- |
| tw     | th       | hk        |`};async function a(i){let a=i.req.param(`edition`)||`tw`,o=i.req.param(`tab`)||`top`,s=`${t}/webapi/portal/page/${o}?country=${a}`,c=`${t}/webapi/api/v6/recommendation/articles/listings/mytoday_rec:id?offset=0&length=50&country=${a}&gender=&age=&excludeNoThumbnail=0&containMainSnapshot=0`,l=`${t}/${a}/v2/tab/${o}`,u=`Recommendation`,d;if(o!==`recommendation`){let n=await e({method:`get`,url:s}),r=n.data.modules.findLast(e=>e.source===`CATEGORY_MOST_VIEW`).listings[0];u=n.data.name,d=`${t}/webapi/trending/category/mostView/listings/${r.id}?offset=0&length=50&country=${a}&targetContent=${r.params.targetContent}&categories=${r.params.categories}&trendingEventPeriod=${r.params.trendingEventPeriod}`}let f=await e({method:`get`,url:o===`recommendation`?c:d}),p=r(f.data.items),m=await n(p);return{title:`${u} - Line Today`,link:l,item:m}}export{i as route};