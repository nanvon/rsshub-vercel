import{ofetch_default as e}from"./ofetch-CJF2SF6b.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{load as n}from"cheerio";const r=async r=>{let i=await e(r.link),a=n(i),o=JSON.parse(a(`script[type="application/ld+json"]`).text());a(`.article-ad, #strategy-rules-player-wrapper, [data-module-name="newsletter-article-sign-up-module"], div.flex.flex-col.gap-2`).remove();let s=a(`.article-content-wrapper figure`);return s.find(`img`).attr(`src`,s.find(`img`).attr(`url`)?.split(`?`)[0]),s.find(`img`).removeAttr(`style srcset url`),r.description=s.parent().html()+a(`.document-body`).toArray().map(e=>a(e).html()).join(``),r.pubDate=t(o.datePublished),r.author=o.author.map(e=>({name:e.name})),r.image=o.image.url.split(`?`)[0],r};export{r as parseItem};