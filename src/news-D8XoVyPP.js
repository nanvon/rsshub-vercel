import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as t}from"./got-CB83B8oA.js";import{ViewType as n}from"./types-A5bA50Mg.js";import{decryptAES as r,getHeaders as i,randomString as a}from"./utils-CKElEa4A.js";const o={path:`/news`,categories:[`finance`],example:`/ainvest/news`,parameters:{},view:n.Articles,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`ainvest.com/news`]}],name:`Latest News`,maintainers:[`TonyRL`],handler:s,url:`ainvest.com/news`};async function s(n){let o=a(16),{data:s}=await t(`https://api.ainvest.com/gw/news_f10/v1/newsFlash/getNewsData`,{headers:i(o),searchParams:{terminal:`web`,tab:`all`,page:1,size:n.req.query(`limit`)?Number.parseInt(n.req.query(`limit`),10):50,lastId:``,timestamp:Date.now()}}),{data:c}=JSON.parse(r(s,o)),l=c.content.map(t=>({title:t.title,description:t.content,link:t.sourceUrl,pubDate:e(t.publishTime,`x`),category:t.tagList.map(e=>e.nameEn),author:t.userInfo.nickname,upvotes:t.likeCount,comments:t.commentCount}));return{title:`AInvest - Latest News`,link:`https://www.ainvest.com/news`,language:`en`,item:l}}export{o as route};