import{__dirname as e,init_esm_shims as t}from"./esm-shims-DtWyl6zt.js";import"./config-CT-9jq-j.js";import"./logger-BsClR5PH.js";import"./dist-BrnquCU2.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-sowsPyZZ.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import"./ofetch-Of9UBhau.js";import{got_default as i}from"./got-Cw3q2eEq.js";import{timezone as a}from"./timezone-BrNu6iXe.js";import{appsUrl as o}from"./utils-DcHN5IFC.js";import s from"node:path";import{load as c}from"cheerio";t();const l={path:`/apps/:lang?/comment/:id`,categories:[`anime`],example:`/qoo-app/apps/en/comment/7675`,parameters:{lang:"Language, see the table below, empty means `中文`",id:`Game ID, can be found in URL`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Game Store - Review`,maintainers:[`TonyRL`],handler:u,description:`| 中文 | English | 한국어 | Español | 日本語 | ไทย | Tiếng Việt |
| ---- | ------- | ------ | ------- | ------ | --- | ---------- |
|      | en      | ko     | es      | ja     | th  | vi         |`};async function u(t){let{id:l,lang:u=``}=t.req.param(),d=`${o}${u?`/${u}`:``}/app-comment/${l}`,{data:f}=await i(d,{searchParams:{sort:`create`}}),p=c(f),m=p(`.qoo-post-item`).toArray().map(t=>{t=p(t);let i=t.find(`.qoo-clearfix .name a`).eq(0).text();return{title:`${i} ▶ ${t.find(`.qoo-clearfix .name a`).eq(1).text()}`,link:t.find(`a.bg-click-wrap`).attr(`href`),description:n(s.join(e,`templates/comment-c10c1815.art`),{rating:t.find(`.qoo-rating-bar`).text().trim(),text:t.find(`.text-view`).html()}),pubDate:a(r(t.find(`time`).text(),`YYYY-MM-DD HH:mm:ss`),8),author:i}});return{title:p(`head title`).text(),link:d,language:p(`html`).attr(`lang`),item:m}}export{l as route};