import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as n}from"./ofetch-CbgiXYAi.js";import{cache_default as r}from"./cache-Dfid4xgQ.js";import{art as i}from"./render-CSnicFA3.js";import{parseDate as a}from"./parse-date-DHsdom8D.js";import{ViewType as o}from"./types-Bi82qguM.js";import s from"node:path";import{load as c}from"cheerio";t();const l=async t=>{let{category:o}=t.req.param(),l=Number.parseInt(t.req.query(`limit`)??`30`,10),u=`https://surfshark.com`,d=new URL(`blog${o?`/${o}`:``}`,u).href,f={host:`surfshark.com`,origin:u,referer:d},p=await n(d,{headers:f}),m=c(p),h=m(`html`).attr(`lang`)??`en`,g=[];return g=m(`div.dg-article-single-card`).slice(0,l).toArray().map(t=>{let n=m(t),r=n.find(`div.dg-article-content__info a[title]`),o=r.text(),c=n.find(`a.dg-article-image img`).attr(`src`),l=i(s.join(e,`templates/description-16be3a2a.art`),{images:c?[{src:c,alt:o}]:void 0}),u=n.find(`span.js-date`),d=`${u.attr(`data-year`)}-${u.attr(`data-month`)}-${u.attr(`data-day`)}`,f=r.attr(`href`),p=n.find(`div.dg-blog-breadcrumbs a`).toArray(),g=[...new Set(p.map(e=>m(e).text()).slice(1).filter(Boolean))],_=n.find(`a.author-link `).toArray().map(e=>{let t=m(e);return{name:t.text(),url:t.attr(`href`),avatar:void 0}}),v=d;return{title:o,description:l,pubDate:a(d),link:f,category:g,author:_,content:{html:l,text:l},image:c,banner:c,updated:a(v),language:h}}),g=await Promise.all(g.map(t=>t.link?r.tryGet(t.link,async()=>{let r=await n(t.link,{headers:f}),o=c(r),l=o(`meta[property="og:title"]`).attr(`content`)??t.title,u=o(`div.dg-featured-img-container img`).attr(`src`),d=i(s.join(e,`templates/description-16be3a2a.art`),{images:u?[{src:u,alt:l}]:void 0,description:o(`div.dg-blog-post-blocks`).html()}),p=o(`meta[property="article:published_time"]`).attr(`content`),m=o(`div.dg-blog-post-author-top`).toArray().map(e=>{let t=o(e);return{name:t.find(`a.author-link`).last().text(),url:t.find(`a.author-link`).last().attr(`href`),avatar:t.find(`a.author-avatar img`).attr(`src`)}}),g=o(`meta[property="article:modified_time"]`).attr(`content`),_={title:l,description:d,pubDate:p?a(p):t.pubDate,author:m,content:{html:d,text:d},image:u,banner:u,updated:g?a(g):t.updated,language:h};return{...t,..._}}):t)),{title:m(`title`).text(),description:m(`meta[property="og:description"]`).attr(`content`),link:d,item:g,allowEmpty:!0,image:m(`meta[property="og:image"]`).attr(`content`),author:m(`meta[property="og:site_name"]`).attr(`content`),language:h,id:m(`meta[property="og:url"]`).attr(`content`)}},u={path:`/blog/:category{.+}?`,name:`Blog`,url:`surfshark.com`,maintainers:[`nczitzk`],handler:l,example:`/surfshark/blog`,parameters:{category:{description:`Category, All by default`,options:[{label:`All`,value:``},{label:`Cybersecurity`,value:`cybersecurity`},{label:`All things VPN`,value:`all-things-vpn`},{label:`Internet censorship`,value:`internet-censorship`},{label:`Entertainment`,value:`entertainment`},{label:`Expert Insights`,value:`expert-insights`},{label:`Video`,value:`video`},{label:`News`,value:`news`}]}},description:`::: tip
To subscribe to [Cybersecurity](https://surfshark.com/blog/cybersecurity), where the source URL is \`https://surfshark.com/blog/cybersecurity\`, extract the certain parts from this URL to be used as parameters, resulting in the route as [\`/surfshark/blog/cybersecurity\`](https://rsshub.app/surfshark/blog/cybersecurity).
:::

<details>
  <summary>More categories</summary>

| Category                                                              | ID                                                                           |
| --------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| [All](https://surfshark.com/blog)                                     | (empty)                                                                      |
| [Cybersecurity](https://surfshark.com/blog/cybersecurity)             | [cybersecurity](https://rsshub.app/surfshark/blog/cybersecurity)             |
| [All things VPN](https://surfshark.com/blog/all-things-vpn)           | [all-things-vpn](https://rsshub.app/surfshark/blog/all-things-vpn)           |
| [Internet censorship](https://surfshark.com/blog/internet-censorship) | [internet-censorship](https://rsshub.app/surfshark/blog/internet-censorship) |
| [Entertainment](https://surfshark.com/blog/entertainment)             | [entertainment](https://rsshub.app/surfshark/blog/entertainment)             |
| [Expert Insights](https://surfshark.com/blog/expert-insights)         | [expert-insights](https://rsshub.app/surfshark/blog/expert-insights)         |
| [Video](https://surfshark.com/blog/video)                             | [video](https://rsshub.app/surfshark/blog/video)                             |
| [News](https://surfshark.com/blog/news)                               | [news](https://rsshub.app/surfshark/blog/news)                               |

</details>
`,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`surfshark.com/blog/:category`],target:`/blog/:category`},{title:`All`,source:[`surfshark.com/blog`],target:`/blog`},{title:`Cybersecurity`,source:[`surfshark.com/blog/cybersecurity`],target:`/blog/cybersecurity`},{title:`All things VPN`,source:[`surfshark.com/blog/all-things-vpn`],target:`/blog/all-things-vpn`},{title:`Internet censorship`,source:[`surfshark.com/blog/internet-censorship`],target:`/blog/internet-censorship`},{title:`Entertainment`,source:[`surfshark.com/blog/entertainment`],target:`/blog/entertainment`},{title:`Expert Insights`,source:[`surfshark.com/blog/expert-insights`],target:`/blog/expert-insights`},{title:`Video`,source:[`surfshark.com/blog/video`],target:`/blog/video`},{title:`News`,source:[`surfshark.com/blog/news`],target:`/blog/news`}],view:o.Articles};export{l as handler,u as route};