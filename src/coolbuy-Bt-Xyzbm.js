import{__dirname as e,init_esm_shims as t}from"./esm-shims-rNwigI-Q.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as n}from"./ofetch-CeMUzp5K.js";import{art as r}from"./render-DftO2d-b.js";import{ViewType as i}from"./types-Bi82qguM.js";import a from"node:path";import{load as o}from"cheerio";t();const s=async t=>{let i=Number.parseInt(t.req.query(`limit`)??`50`,10),s=`https://coolbuy.com`,c=new URL(`api/v1.4/product_preview`,s).href,l=await n(c,{query:{order_by:`-id`,limit:i,page:0,offset:0}}),u=o(await n(s)),d=u(`html`).attr(`lang`)??`zh`,f=l.objects.slice(0,i).map(t=>{let n=t.title,i=t.cover_image?.split(/\?/)?.[0],o=t.display_image?.split(/\?/)?.[0],c=r(a.join(e,`templates/description-63ae3544.art`),{summary:t.summary,price:t.price,original_price:t.original_price,highest_price:t.highest_price,highest_original_price:t.highest_original_price,images:[o,i].filter(Boolean).map(e=>({src:e,alt:n}))}),l=t.visit_url,u=`coolbuy-${t.id}#${t.price}`;return{title:n,description:c,link:l??new URL(t.id,s).href,guid:u,id:u,content:{html:c,text:c},image:i,banner:i,language:d}});return{title:u(`title`).text(),description:u(`meta[property="og:description"]`).attr(`content`),link:s,item:f,allowEmpty:!0,image:new URL(`static/coolbuy/packages/dongguan/dist/images/97be46f6.png`,`https://mcache.ifanr.cn`).href,language:d,id:s}},c={path:`/`,name:`产品`,url:`coolbuy.com`,maintainers:[`nczitzk`],handler:s,example:`/coolbuy`,parameters:void 0,description:void 0,categories:[`shopping`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`coolbuy.com`],target:`/`}],view:i.Articles};export{s as handler,c as route};