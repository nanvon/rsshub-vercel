import"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as e}from"./parse-date-CHEO0z5G.js";import{t}from"./got-CgQXMNWI.js";import{t as n}from"./types-Bn7An2Wc.js";const r={path:`/bangumi/:id`,categories:[`anime`],view:n.Videos,example:`/acfun/bangumi/5022158`,parameters:{id:`番剧 id`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`番剧`,maintainers:[`xyqfer`],handler:i,description:`::: tip
番剧 id 不包含开头的 aa。
例如：\`https://www.acfun.cn/bangumi/aa5022158\` 的番剧 id 是 5022158，不包括开头的 aa。
:::`};async function i(n){let r=n.req.param(`id`),i=`https://www.acfun.cn/bangumi/aa${r}`,a=await t(i,{headers:{Referer:`https://www.acfun.cn`}}),o=JSON.parse(a.data.match(/window.bangumiData = (.*?);\n/)[1]),s=JSON.parse(a.data.match(/window.bangumiList = (.*?);\n/)[1]);return{title:o.bangumiTitle,link:i,description:o.bangumiIntro,image:o.belongResource.coverImageV,item:s.items.map(t=>({title:`${t.episodeName} - ${t.title}`,description:`<img src="${t.imgInfo.thumbnailImage.cdnUrls[0].url.split(`?`)[0]}">`,link:`http://www.acfun.cn/bangumi/aa${r}_36188_${t.itemId}`,pubDate:e(t.updateTime,`x`)}))}}export{r as route};