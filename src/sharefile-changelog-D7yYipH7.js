import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-am9EnuPq.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{load as n}from"cheerio";const r={path:`/sharefile-changelog/:sharefileID/:routeParams?`,categories:[`game`],example:`/steam/sharefile-changelog/2851063440/l=schinese`,parameters:{sharefileID:`Steam community sharefile id. Usually refers to a workshop item.`,routeParams:`Route parameters.`},radar:[{title:`Sharefile Changelog`,source:[`steamcommunity.com/sharedfiles/filedetails/changelog/:sharefileID`],target:`/sharefile-changelog/:sharefileID`}],description:`Steam Community Sharefile's Changelog. Primary used for a workshop item.
Helpful route parameters:
- \`l=\` language parameter, change the language of description.
- \`p=\` page parameter, change the results page. p=1 by default.
`,name:`Sharefile Changelog`,maintainers:[`NyaaaDoge`],handler:async r=>{let{sharefileID:i,routeParams:a}=r.req.param(),o=`https://steamcommunity.com/sharedfiles/filedetails/changelog/${i}${a?`?${a}`:``}`,s=await e(o),c=n(s),l=c(`div.apphub_AppName`).first().text(),u=c(`div.apphub_AppIcon`).children(`img`).attr(`src`),d=c(`div.workshopItemTitle`).first().text(),f=c(`div.clearfix .changeLogCtn`).toArray().map(e=>{e=c(e);let n=e.find(`.headline`).first().text(),r=e.find(`p`).first().attr(`id`),a=e.find(`p`).first().html();return{title:n,link:`https://steamcommunity.com/sharedfiles/filedetails/changelog/${i}`,description:a,pubDate:t(r,`X`)}});return{title:d,link:`https://steamcommunity.com/sharedfiles/filedetails/changelog/${i}`,description:`${l} steam community sharefile changelog`,item:f,icon:u}}};export{r as route};