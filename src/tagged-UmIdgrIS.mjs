import"./esm-shims-BKVRry6h.mjs";import"./ofetch-BRplXtiZ.mjs";import{t as e}from"./config-D7dgKYF5.mjs";import"./logger-CkUWGGaS.mjs";import"./cache-Bv3_kFbE.mjs";import"./helpers-Tm7Pw8Vq.mjs";import"./parse-date-_GmTZfjS.mjs";import{t}from"./got-BglkE51W.mjs";import{t as n}from"./config-not-found-DGyG6Tbz.mjs";import{i as r,t as i}from"./readable-social-C6om7oNg.mjs";import{t as a}from"./utils-BGQI6SnT.mjs";const o={path:`/tagged/:tag`,categories:[`social-media`],example:`/tumblr/tagged/nature`,parameters:{tag:"Tag name (see `https://www.tumblr.com/docs/en/api/v2#tagged--get-posts-with-tag`)"},radar:[],features:{requireConfig:[{name:`TUMBLR_CLIENT_ID`,description:`Please see above for details.`},{name:`TUMBLR_CLIENT_SECRET`,description:`Please see above for details.`},{name:`TUMBLR_REFRESH_TOKEN`,description:`Please see above for details.`}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Tagged Posts`,maintainers:[`PolarisStarnor`],handler:s};async function s(o){if(!e.tumblr||!e.tumblr.clientId)throw new n(`Tumblr RSS is disabled due to the lack of <a href="https://docs.rsshub.app/deploy/config#route-specific-configurations">relevant config</a>`);let s=o.req.param(`tag`),c=i(void 0,r(o.req.query(`limit`)),20),l=(await t.get(`https://api.tumblr.com/v2/tagged`,{searchParams:{tag:s,api_key:a.generateAuthParams(),limit:c},headers:await a.generateAuthHeaders()})).data.response.map(e=>a.processPost(e));return{title:`Tumblr - ${s}`,description:`Tumblr posts tagged #${s}`,link:`https://tumblr.com/tagged/${s}`,item:l,allowEmpty:!0}}export{o as route};