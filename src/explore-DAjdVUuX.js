import{__dirname as e,init_esm_shims as t}from"./esm-shims-B6VgfGYP.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-D4MiciTC.js";import"./helpers-gUVC02jt.js";import{art as n}from"./render-CSnicFA3.js";import{got_default as r}from"./got-07RFwdy7.js";import i from"node:path";import{load as a}from"cheerio";t();const o={path:`/explore`,categories:[`social-media`],example:`/douban/explore`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`浏览发现`,maintainers:[`clarkzsd`],handler:s};async function s(){let t=(await r({method:`get`,url:`https://www.douban.com/explore`})).data,o=a(t);return{title:`豆瓣-浏览发现`,link:`https://www.douban.com/explore`,item:o(`div.item`).toArray().map(t=>{t=o(t);let r=t.find(`.title a`).first().text()??`#`+t.find(`.icon-topic`).text(),a=t.find(`.content p`).text(),s=t.find(`a.cover`).attr(`style`)?t.find(`a.cover`).attr(`style`).match(/\('(.*?)'\)/)[1]:``,c=t.find(`.usr-pic a`).last().text(),l=t.find(`.title a`).attr(`href`)??t.find(`.icon-topic a`).attr(`href`);return{title:r,author:c,description:n(i.join(e,`templates/explore-03d46c5e.art`),{author:c,desc:a,itemPic:s}),link:l}})}}export{o as route};