import"./esm-shims-BmHUa0Yk.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-DCfHHxuQ.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{got_default as t}from"./got-D5TEN1xL.js";import{load as n}from"cheerio";async function r(e){let r=await t(e),i=n(r.data)(`div.article-content`);return i.find(`aside.related`).remove(),i.find(`aside.article-details_heading-with-paragraph`).remove(),i.find(`section.package-list`).remove(),i.find(`div.source-links h2`).remove(),i.find(`div.source-links svg`).remove(),i.find(`div.mobile-secondary-area`).remove(),i.find(`aside.newsletter-flex-text`).remove(),{description:i.html()}}function i(e,t){return Promise.all(e.map(e=>t.tryGet(e.canonicalUrl,async()=>{let t=e.canonicalUrl.replace(`http://`,`https://`),n;if(e.byline){let t=e.byline[0];if(t&&t.names){let e=t.names.map(e=>e.text);e&&e.length>0&&(n=`by `+e.join(`, `))}}let i={title:e.plaintextPrimaryHeadline,link:t,guid:t,pubDate:e.date};n&&(i.author=n);let{description:a}=await r(t);return i.description=a,i})))}var a={getData:async(n,r,a,o)=>{let s=(await t(r)).data.articles.slice(0,n.req.query(`limit`)?Number.parseInt(n.req.query(`limit`),10):25),c=await i(s,e);return{title:a,link:r,description:o,item:c}}};const o={path:`/`,radar:[{source:[`grubstreet.com/`],target:``}],name:`Unknown`,maintainers:[`loganrockmore`],handler:s,url:`grubstreet.com/`};async function s(e){return await a.getData(e,`https://www.grubstreet.com/_components/newsfeed/instances/grubstreet-index@published`,`Grub Street`,`New York Magazine's Food and Restaurant Blog`)}export{o as route};