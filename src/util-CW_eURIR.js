import{__dirname as e,init_esm_shims as t}from"./esm-shims-DE2PJqdr.js";import{ofetch_default as n}from"./ofetch-CJF2SF6b.js";import{art as r}from"./render-CSnicFA3.js";import{parseDate as i}from"./parse-date-DHsdom8D.js";import{timezone as a}from"./timezone-CMz5pnRe.js";import o from"node:path";t();const s=`https://top.aibase.com`,c=`https://app.chinaz.com`,l=e=>e.startsWith(`[`)?JSON.parse(e):[e];r.defaults.imports.strToArray=l;const u=async e=>{let t=new URL(e(`script[src]`).last()?.prop(`src`)??`_static/ee6af7e.js`,s).href;return(await n(t,{responseType:`text`})).match(/"\/(\w+)\/ai\/.*?\.aspx"/)?.[1]??`djflkdsoisknfoklsyhownfrlewfknoiaewf`},d=async e=>{let t=await u(e),n=new URL(`${t}/ai/GetAIProcRecommList.aspx`,c).href,r=new URL(`${t}/ai/GetAIProcListByRecomm.aspx`,c).href,i=new URL(`${t}/ai/GetAiProductOfTag.aspx`,c).href,a=new URL(`${t}/ai/GetAiInfoList.aspx`,c).href,o=new URL(`${t}/ai/v2/GetAILogList.aspx`,c).href;return{apiRecommListUrl:n,apiRecommProcUrl:r,apiTagProcUrl:i,apiInfoListUrl:a,aILogListUrl:o}},f=t=>t.map(t=>{let n=t.name,c=t.imgurl,u=r(o.join(e,`templates/description-39dca137.art`),{images:c?[{src:c,alt:n}]:void 0,item:t}),d=`aibase-${t.zurl}`;return{title:n,description:u,pubDate:a(i(t.addtime),8),link:new URL(`tool/${t.zurl}`,s).href,category:[...new Set([...l(t.categories),...l(t.tags),t.catname,t.procattrname,t.procformname,t.proctypename])].filter(Boolean),guid:d,id:d,content:{html:u,text:t.desc},image:c,banner:c,updated:i(t.UpdTime),enclosure_url:t.logo,enclosure_type:t.logo?`image/${t.logo.split(/\./).pop()}`:void 0,enclosure_title:n}});export{d as buildApiUrl,f as processItems,s as rootUrl};