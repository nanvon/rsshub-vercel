import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import"./config-uQhBoCds.mjs";import"./logger-DQf7gybc.mjs";import"./ofetch-7N8fmlQ6.mjs";import"./helpers-C6Jountz.mjs";import{t as n}from"./render-_fW2cbJz.mjs";import{t as r}from"./got-DcbI0XpN.mjs";import i from"node:path";e();const a=e=>n(i.join(t,`templates/userevents-a86ba626.art`),e),o={path:`/music/user/events/:id`,categories:[`multimedia`],name:`用户动态`,maintainers:[`Master-Hash`],handler:s};async function s(e){let t=e.req.param(`id`),{data:n}=await r(`https://music.163.com/api/event/get/${t}`,{headers:{Referer:`https://music.163.com/`}}),{nickname:i,signature:o,avatarUrl:s}=n.events[0].user;return{title:`${i}的云村动态`,link:`https://music.163.com/#/user/event?id=${t}`,description:`网易云音乐用户动态 - ${o}`,icon:s,image:s,item:n.events.map(e=>{let t=e.info.commentThread.resourceTitle,n=e.user.userId,r=JSON.parse(e.json).msg,o=e.pics.map(({originUrl:e})=>e),s=e.id;return{title:t,description:a({description:r,pics:o}),link:`https://music.163.com/#/event?id=${s}&uid=${n}`,pubDate:new Date(e.eventTime),published:new Date(e.eventTime),author:i,upvotes:e.info.likedCount,comments:e.info.commentCount}})}}export{o as route};