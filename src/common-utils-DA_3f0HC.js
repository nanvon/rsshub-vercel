import{n as e,t}from"./esm-shims-BC3isTv8.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./parse-date-CHEO0z5G.js";import i from"node:path";e();const a=e=>e.map(e=>{let a=e.product_type,o=e.caption?.text??``,s=``;switch(a){case`carousel_container`:{let r=e.carousel_media.map(t=>({...t.image_versions2.candidates.toSorted((e,t)=>t.width-e.width)[0],alt:e.accessibility_caption}));s=n(i.join(t,`templates/images-105c7ff0.art`),{summary:o,images:r});break}case`clips`:case`igtv`:s=n(i.join(t,`templates/video-fb8df18d.art`),{summary:o,image:e.image_versions2.candidates.toSorted((e,t)=>t.width-e.width)[0],video:e.video_versions[0]});break;case`feed`:{let r=[{...e.image_versions2.candidates.toSorted((e,t)=>t.width-e.width)[0],alt:e.accessibility_caption}];s=n(i.join(t,`templates/images-105c7ff0.art`),{summary:o,images:r});break}default:throw Error(`Instagram: Unhandled feed type: ${a}`)}let c=`https://www.instagram.com/p/${e.code}/`,l=r(e.caption?.created_at_utc||e.taken_at,`X`);return{title:o.split(`
`)[0],id:e.pk,pubDate:l,author:e.user.username,link:c,summary:o,description:s}});export{a as t};