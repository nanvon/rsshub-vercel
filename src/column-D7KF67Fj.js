import"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as e}from"./cache-CpEhLexq.js";import{t}from"./parse-date-CHEO0z5G.js";import{t as n}from"./got-CgQXMNWI.js";import{t as r}from"./timezone-BPfwRbwD.js";import{load as i}from"cheerio";const a={path:`/analyst/column/:type?`,categories:[`finance`],example:`/qianzhan/analyst/column/all`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`文章列表`,maintainers:[`moke8`],handler:o,description:`| 全部 | 研究员专栏 | 规划师专栏 | 观察家专栏 |
| ---- | ---------- | ---------- | ---------- |
| all  | 220        | 627        | 329        |`};async function o(a){let o=`https://www.qianzhan.com/analyst/`,s={all:`最新文章`,220:`研究员专栏`,627:`规划师专栏`,329:`观察家专栏`},{type:c=`all`}=a.req.param();c!==`all`&&(o=o+`list/`+c+`.html`);let l=i((await n(o)).data),u=l(`.ptb30.bb1e.clf .f22 a`).map((e,t)=>l(t).attr(`href`)),d=await Promise.all(u.map((a,o)=>e.tryGet(o,async()=>{let e=i((await n(o)).data),a=e(`#divArtBody`).html();return{title:e(`#h_title`).text(),link:o,description:a,pubDate:r(t(e(`#pubtime_baidu`).text().split(`• `)[1],`YYYY-MM-DD HH:mm:ss`),8),author:e(`.bljjxue`).text().match(/\S+/)[0],category:e(`meta[name="Keywords"]`).attr(`content`).split(`,`)}})));return{title:`前瞻经济学人 - ${s[c]}`,link:o,item:d}}export{a as route};