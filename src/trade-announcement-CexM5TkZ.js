import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./proxy-CnCu3_dc.js";import{cache_default as e}from"./cache-CzcusEyX.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{timezone as n}from"./timezone-CMz5pnRe.js";import{puppeteer_default as r}from"./puppeteer-Dsk3Jp6R.js";import{load as i}from"cheerio";const a={path:`/pbc/tradeAnnouncement`,categories:[`finance`],example:`/gov/pbc/tradeAnnouncement`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!0,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`货币政策司公开市场交易公告`,maintainers:[`nczitzk`],handler:o};async function o(){let a=`http://www.pbc.gov.cn/zhengcehuobisi/125207/125213/125431/125475/index.html`,o=await r(),s=await o.newPage();await s.setRequestInterception(!0),s.on(`request`,e=>{e.resourceType()===`document`||e.resourceType()===`script`?e.continue():e.abort()}),await s.goto(a,{waitUntil:`domcontentloaded`});let c=await s.evaluate(()=>document.documentElement.innerHTML),l=i(c),u=l(`font.newslist_style`).toArray().map(e=>{e=l(e);let t=e.find(`a[title]`);return{title:t.attr(`title`),link:new URL(t.attr(`href`),`http://www.pbc.gov.cn`).href}}),d=await Promise.all(u.map(r=>e.tryGet(r.link,async()=>{let e=await o.newPage();await e.setRequestInterception(!0),e.on(`request`,e=>{e.resourceType()===`document`||e.resourceType()===`script`?e.continue():e.abort()}),await e.goto(r.link,{waitUntil:`domcontentloaded`});let a=await e.evaluate(()=>document.documentElement.innerHTML),s=i(a);return r.description=s(`#zoom`).html(),r.pubDate=n(t(s(`#shijian`).text()),8),r})));return await o.close(),{title:`中国人民银行 - 货币政策司公开市场交易公告`,link:a,item:d}}export{a as route};