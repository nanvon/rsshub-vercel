import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import{t as n}from"./ofetch-BRplXtiZ.mjs";import"./config-D7dgKYF5.mjs";import{t as r}from"./logger-CkUWGGaS.mjs";import{t as i}from"./cache-Bv3_kFbE.mjs";import{t as a}from"./parse-date-_GmTZfjS.mjs";import{t as o}from"./render-CSqLtqb8.mjs";import s from"node:path";import{load as c}from"cheerio";e();const l={path:`/`,categories:[`programming`],example:`/transformer-circuits`,parameters:{},radar:[{source:[`transformer-circuits.pub/`],target:`/`}],name:`Articles`,maintainers:[`shinmohuang`],handler:u};async function u(){let e=`https://transformer-circuits.pub`,t=c(await n(e)),r=t(`.toc a`).toArray().map(n=>{let r=t(n),o=r,s=r.prevAll(`.date`).first().text().trim();if(o.hasClass(`paper`)||o.hasClass(`note`)){let t=o.hasClass(`paper`)?`Paper`:`Note`,n=o.find(`h3`).text().trim(),r=``,c=o.find(`.byline`);c.length&&(r=c.text().trim());let l=o.find(`.description`).text().trim(),u=o.attr(`href`),f=u?u.startsWith(`http`)?u:`${e}/${u}`:e;return i.tryGet(f,async()=>{let e=await d(f);return{title:n,link:f,pubDate:a(s,`MMMM YYYY`),author:r,description:e||`${t}: ${l}`,category:[`AI`,`Machine Learning`,`Anthropic`,`Transformer Circuits`]}})}return null});return{title:`Transformer Circuits Thread`,link:e,item:(await Promise.all(r)).filter(Boolean),description:`Research on reverse engineering transformer language models into human-understandable programs`}}async function d(e){try{let i=c(await n(e));i(`.article-header, .tooltip, modal, script, style, d-front-matter, .visual-toc`).remove();let a=i(`d-article`).html();return a||(a=i(`main article, .article-content, .post-content, .content-area`).html()||i(`.content, .article, .post`).html()||i(`main`).html(),a||=(r.warn(`No suitable content container found for ${e}`),`<p>Could not extract content. Please visit <a href="${e}">the original page</a>.</p>`)),o(s.join(t,`templates/article-9b611c47.art`),{content:a,link:e})}catch(t){let n=t instanceof Error?t.message:String(t);return r.error(`Error fetching article content from ${e}: ${n}`),null}}export{l as route};