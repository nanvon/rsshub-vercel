import"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CfXAR0UO.js";import"./helpers-Cqaav28H.js";import{t as e}from"./cache-CpEhLexq.js";import{t}from"./parse-date-CHEO0z5G.js";import{t as n}from"./got-dCh-Ojgc.js";import{t as r}from"./timezone-BPfwRbwD.js";import{load as i}from"cheerio";import a from"p-map";const o={path:`/huanbao`,categories:[`traditional-media`],example:`/bjx/huanbao`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`huanbao.bjx.com.cn/yw`,`huanbao.bjx.com.cn/`]}],name:`环保要闻`,maintainers:[`zsimple`],handler:s,url:`huanbao.bjx.com.cn/yw`};async function s(){let e=`https://huanbao.bjx.com.cn/yw/`,r=i((await n(e)).data),o=r(`.cc-layout-3 .cc-list-content li`).toArray().map(e=>(e=r(e),{title:e.find(`a`).attr(`title`),link:e.find(`a`).attr(`href`),pubDate:t(e.find(`span`).text())}));return o=await a(o,e=>c(e.link),{concurrency:3}),{title:`北极星环保 - 环保行业垂直门户网站`,link:e,item:o}}const c=a=>e.tryGet(a,async()=>{let e=[],o=i((await n(a)).data);e.push(o);let s=o(`#article_cont .cc-paging a`);if(s.length>0)for(let t of s){let r=o(t);if(!/^\d+$/.test(r.text().trim()))continue;let s=new URL(r.attr(`href`),a).href,c=await n(s);e.push(i(c.data))}return{title:o(`title`).text(),description:e.reduce((e,t)=>e+t(`.cc-article`).html(),``),pubDate:r(t(o(`.cc-headline .box p span`).eq(0).text()),8),link:a,author:o(`.cc-headline .box p span`).eq(1).text()}});export{o as route};