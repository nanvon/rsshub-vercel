import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import"./ofetch-BRplXtiZ.mjs";import"./config-D7dgKYF5.mjs";import"./logger-CkUWGGaS.mjs";import{t as n}from"./cache-Bv3_kFbE.mjs";import"./helpers-Tm7Pw8Vq.mjs";import{t as r}from"./parse-date-_GmTZfjS.mjs";import{t as i}from"./render-CSqLtqb8.mjs";import{t as a}from"./got-BglkE51W.mjs";import{t as o}from"./invalid-parameter-CvgEhOxC.mjs";import s from"node:path";import{load as c}from"cheerio";e();const l={path:`/:name`,categories:[`anime`],example:`/comicskingdom/pardon-my-planet`,parameters:{name:`URL path of the strip on comicskingdom.com`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`comicskingdom.com/:name/*`,`comicskingdom.com/:name`]}],name:`Archive`,maintainers:[`stjohnjohnson`],handler:u};async function u(e){let l=e.req.param(`name`),u=`https://comicskingdom.com/${l}/archive`,{data:d}=await a(u),f=c(d),p=f(`title`).text().replace(`Comics Kingdom - `,``).trim(),m=f(`.feature-title h2`).text(),h=f(`div.tile`).toArray().map(e=>f(e).find(`a`).first().attr(`href`));if(h.length===0)throw new o(`Comic Not Found - ${l}`);let g=await Promise.all(h.map(e=>n.tryGet(e,async()=>{let n=c((await a(e)).data),o=n(`meta[property="og:description"]`).attr(`content`),l=n(`meta[property="og:image"]`).attr(`content`);return{title:o,author:m,category:`comic`,description:i(s.join(t,`templates/desc-158d364d.art`),{image:l}),pubDate:r(e.slice(e.lastIndexOf(`/`)+1),`YYYY-MM-DD`),link:e}})));return{title:p,link:u,image:f(`.feature-logo`).attr(`src`),item:g,language:`en-US`}}export{l as route};