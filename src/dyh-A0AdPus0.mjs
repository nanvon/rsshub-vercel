import"./esm-shims-L08rKynx.mjs";import"./config-L8Ls2W7q.mjs";import"./logger-C50fTRi5.mjs";import"./ofetch-BMqiDsx_.mjs";import"./helpers-mo8InLYm.mjs";import"./cache-ZTWfXd2T.mjs";import"./parse-date-bKmkZ9gg.mjs";import"./md5-C60PKNTZ.mjs";import{t as e}from"./got-2jXbf1Li.mjs";import{t}from"./invalid-parameter-Cn6c8J1f.mjs";import{t as n}from"./utils-DCBqFmX6.mjs";const r={path:`/dyh/:dyhId`,categories:[`social-media`],example:`/coolapk/dyh/1524`,parameters:{dyhId:`看看号ID`},features:{requireConfig:[{name:`ALLOW_USER_HOTLINK_TEMPLATE`,optional:!0,description:"设置为`true`并添加`image_hotlink_template`参数来代理图片"}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`看看号`,maintainers:[`xizeyoupan`],handler:i,description:`::: tip
  仅限于采集**站内订阅**的看看号的内容。看看号 ID 可在看看号界面右上分享 - 复制链接得到。
:::`};async function i(r){let i=r.req.param(`dyhId`),a=n.base_url+`/v6/dyhArticle/list?dyhId=${i}&type=all&page=1`,o=await e(`${n.base_url}/v6/dyh/detail?dyhId=${i}`,{headers:n.getHeaders()}),s=o.data.data.title,c=o.data.data.description,l=(await e(a,{headers:n.getHeaders()})).data.data,u=await Promise.all(l.map(e=>(s||=e.targetRow.title,n.parseDynamic(e))));if(u=u.filter(Boolean),u.length===0)throw new t(`仅限于采集站内订阅的看看号的图文及动态内容。这个ID可能是站外订阅。`);return{title:`酷安看看号-${s}`,link:`https://www.coolapk.com/dyh/${i}`,description:c,item:u}}export{r as route};