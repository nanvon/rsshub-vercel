import"./esm-shims-BKVRry6h.mjs";import"./ofetch-BRplXtiZ.mjs";import"./config-D7dgKYF5.mjs";import"./logger-CkUWGGaS.mjs";import"./cache-Bv3_kFbE.mjs";import"./parse-date-_GmTZfjS.mjs";import"./render-CSqLtqb8.mjs";import"./timezone-BAp4uBjD.mjs";import"./config-not-found-DGyG6Tbz.mjs";import{d as e,h as t,l as n,m as r,n as i,p as a,s as o,u as s}from"./api-Cv3JAvXZ.mjs";const c={path:`/ff14risingstones/strats/:pid?/:type?`,example:`/sdo/ff14risingstones/strats/1,2/refine`,name:`攻略`,categories:[`bbs`],maintainers:[`KarasuShin`],features:{requireConfig:r},parameters:{pid:{description:"分区id，默认显示所有分区，可通过 `,` 拼接多个分区 id 进行筛选",default:`all`,options:[{label:`全部`,value:`all`},...t]},type:{description:`攻略类型，默认不做筛选`,options:[{label:`置顶`,value:`top`},{label:`精华`,value:`refine`}]}},handler:l};async function l(r){o();let c=r.req.query(`limit`)||20,l=r.req.param(`pid`)?.split(`,`).filter(e=>t.some(t=>t.value===e))??[],u=r.req.param(`type`),d=l.length?l.map(e=>t.find(t=>t.value===e)?.label).join(`，`):``,f=await i({type:2,limit:c,order:`latest`,is_refine:u===`refine`?1:0,is_top:u===`top`?1:0,part_id:l.length?l.join(`,`):void 0});return{title:`石之家 - ${a[u]??``}攻略${d?` - ${d}`:``}`,link:`${s}#/strat`,image:e,item:await n(f)}}export{c as route};