import"./esm-shims-BmHUa0Yk.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-DCfHHxuQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{md5 as n}from"./md5-15Cn4YyR.js";import{timezone as r}from"./timezone-CMz5pnRe.js";import{load as i}from"cheerio";const a={path:`/pages/:id`,name:`匿名投稿頁面`,url:`www.crush.ninja`,maintainers:[`Tsuyumi25`],example:`/crush/pages/141719909033861`,parameters:{id:{description:"頁面 ID 或代稱，例如 `141719909033861` 或 `awkward87poland`"}},radar:[{source:[`www.crush.ninja/:locale/pages/:id`],target:`/pages/:id`}],handler:o};async function o(a){let{id:o}=a.req.param(),s=`https://www.crush.ninja/en-us/pages/${o}/`,c=await e(s),l=i(c),u=l(`meta[property="og:title"]`).attr(`content`)||`CrushNinja - ${o}`,d=l(`meta[name="description"]`).attr(`content`)??void 0,f=l(`meta[property="og:image"]`).attr(`content`)??void 0,p=l(`div.rounded-border`).toArray().map(e=>{let i=l(e),a=(i.find(`.p-1`).first().text()||``).trim(),o=(i.children(`div`).last().text()||``).trim().replace(`Published at: `,``),c=r(t(o),0),u=`${s}#${n(a)}`;return{title:a,description:a,pubDate:c,guid:u}});return{title:u,description:d,link:s,item:p,image:f,allowEmpty:!0}}export{a as route};