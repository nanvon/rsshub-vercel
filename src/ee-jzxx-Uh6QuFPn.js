import"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CRUPiVpr.js";import"./helpers-Cqaav28H.js";import{t as e}from"./cache-CpEhLexq.js";import{t}from"./parse-date-CHEO0z5G.js";import{t as n}from"./got-BlqYKpVp.js";import{t as r}from"./timezone-BPfwRbwD.js";import{load as i}from"cheerio";const a={path:`/ee/jzxx/:category?`,categories:[`university`],example:`/xjtu/ee/jzxx/bks`,parameters:{category:"类别：`bks`，默认为首页，详情在描述中"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`ee.xjtu.edu.cn/jzxx/:category?.htm`]}],name:`电气学院通知`,maintainers:[`riverflows2333`],handler:o,description:`栏目类型

| 主页 | 本科生 | 研究生 | 科研学术 | 采购招标 | 招聘就业 | 行政办公
| --- | ----- | ----- | ------ | ------- | ------ | ------
|  -  |  bks  |  yjs  |  kyxs  |   cgzb  |  zpjy  | xzbg  `};async function o(a){let o=a.req.param(`category`)??``,s=`https://ee.xjtu.edu.cn`,c=[`bks`,`yjs`,`kyxs`,`cgzb`,`zpjy`,`xzbg`].includes(o)?`${s}/jzxx/${o}.htm`:`${s}/jzxx.htm`,l=i((await n(c)).data),u=l(`.list .wow.fadeInUp`).toArray().map(e=>{let t=l(e).find(`a`),n=t.text(),r=t.attr(`href`);return r?{title:n,link:new URL(r,s).href}:null}).filter(e=>e!==null),d=await Promise.all(u.map(a=>e.tryGet(a.link,async()=>{let e=i((await n(a.link)).data),o=r(t(e(`div.art-tit.cont-tit`).find(`p span:nth-child(1)`).text().replace(`发布时间：`,``)),8),s=e(`div.art-body.wow.fadeInUp`).clone().find(`ul li`).each(function(){let e=l(this),t=e.html()?.replaceAll(/已下载[\s\S]*?<\/span>次/g,``)??``;e.html(t.replace(/<\/a>\s*$/,`</a>`))}).end().html();return{title:e(`div.art-tit.cont-tit`).find(`h3`).text(),pubDate:o,link:a.link,guid:a.link,description:s}})));return{title:`西安交通大学电气学院通知 - ${{bks:`本科生`,yjs:`研究生`,kyxs:`科研学术`,cgzb:`采购招标`,zpjy:`招聘就业`,xzbg:`行政办公`}[o]||`通知首页`}`,link:c,item:d}}export{a as route};