import"./esm-shims-BmHUa0Yk.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-DCfHHxuQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{load as n}from"cheerio";const r={path:`/:userid`,categories:[`blog`],example:`/youmemark/pseudoyu`,parameters:{userid:"`userid` is the user id of youmemark"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Bookmarks`,maintainers:[`pseudoyu`],handler:i,radar:[{source:[`youmemark.com/user/:userid`],target:`/:userid`}],description:`Get user's public bookmarks from YouMeMark
::: tip
  Add \`?limit=<number>\` to the end of the route to limit the number of items. Default is 10.
:::`};async function i(r){let i=r.req.param(`userid`),a=r.req.query(`limit`)?Number.parseInt(r.req.query(`limit`)):10,o=await e(`https://youmemark.com/user/${i}`,{headers:{"User-Agent":`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36`}}),s=n(o),c=s(`h2.font-bold`).text().trim(),l=s(`span.relative.flex img, span.relative.flex.shrink-0 img`).attr(`src`),u=s(`.text-center .prose p, .text-sm.text-gray-500.text-center .prose p`).first().text().trim(),d=[];return s(`h2:contains("收集箱")`).parent().find(`.rounded-lg.space-y-2`).each((e,n)=>{let r=s(n),i=r.find(`> div`).first(),a=i.find(`a`),o=a.find(`span`).first().text().trim(),c=a.find(`span`).last().text().trim().replaceAll(/[()]/g,``).trim(),l=a.attr(`href`),u=i.find(`> div.text-sm.text-gray-500`).find(`p`).text().trim(),f=r.find(`.text-xs.text-gray-500 span`).text().trim();l&&o&&f&&d.push({title:o,link:l,description:u,pubDate:t(f,`YYYY-MM-DD`),author:c,guid:l})}),{title:`${c}'s Bookmarks - YouMeMark`,link:`https://youmemark.com/user/${i}`,description:u,image:l,item:d.slice(0,a),language:`en`}}export{r as route};