import"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as e}from"./got-CgQXMNWI.js";const t={path:`/hot/:site?`,categories:[`new-media`],example:`/zyw/hot`,parameters:{site:`站点，见下表，默认为空，即全部`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`今日热榜`,maintainers:[`nczitzk`],handler:n,description:`::: tip
  全部站点请见 [此处](https://hot.zyw.asia/#/list)
:::

| 哔哩哔哩 | 微博 | 知乎 | 36 氪 | 百度 | 少数派 | IT 之家 | 澎湃新闻 | 今日头条 | 百度贴吧 | 稀土掘金 | 腾讯新闻 |
| -------- | ---- | ---- | ----- | ---- | ------ | ------- | -------- | -------- | -------- | -------- | -------- |`};async function n(t){let n=t.req.param(`site`)??``,r=`https://hot.zyw.asia`,i=await e({method:`get`,url:r});i=await e({method:`get`,url:`${r}${i.data.match(/crossorigin src="(\/assets\/index-\w+\.js)">/)[1]}`});let a=i.data.match(/label:"(.*?)",value:"(.*?)",order/g).map(e=>{let t=e.match(/label:"(.*?)",value:"(.*?)"/);return{label:t[1],value:t[2]}}).filter(e=>n?e.label===n||e.value===n:!0),o=`${r}${n?`/#/list?type=${a[0].value}`:``}`,s=[];return await Promise.all(a.map(async t=>{let n=await e({method:`get`,url:`https://api-hot.zyw.asia/${t.value}`,headers:{referer:r}});for(let e of n.data.data)s.push({link:e.url,title:e.title,description:e.desc})})),{title:`今日热榜${n?` - ${a[0].label}`:``}`,link:o,item:s}}export{t as route};