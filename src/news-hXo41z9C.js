import"./esm-shims-B6VgfGYP.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CHIwZNTj.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BXZNsAGk.js";import{load as r}from"cheerio";const i={path:`/news`,categories:[`university`],example:`/gdufs/news`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.gdufs.edu.cn/gwxw/gwxw1.htm`,`www.gdufs.edu.cn/`]}],name:`新闻`,maintainers:[`gz4zzxc`],handler:a,url:`www.gdufs.edu.cn/gwxw/gwxw1.htm`};async function a(){let i=`https://www.gdufs.edu.cn/gwxw/gwxw1.htm`,a=await n(i),o=r(a.body),s=o(`ul.list_luntan li`),c=await Promise.all(s.toArray().map(i=>{let a=o(i),s=a.find(`a`).attr(`href`)||``,c=a.find(`h5`).text().trim(),l=a.find(`h3`).text().trim(),u=a.find(`h6`).text().trim()+`/`+l,d=s.startsWith(`http`)?s:new URL(s,`https://www.gdufs.edu.cn`).href,f=t(u).toUTCString();return e.tryGet(d,async()=>{try{let e=await n(d),t=r(e.body),i=t(`.v_news_content`).html()?.trim()||``,a=``;return t(`.nav01 h6 .ll span`).each((e,n)=>{let r=t(n).text().trim();r.includes(`责任编辑：`)?a=r.replace(`责任编辑：`,``).trim():r.includes(`文字：`)&&(a=r.replace(`文字：`,``).trim())}),{title:c,link:d,description:i,pubDate:f,author:a}}catch{return{title:c,link:d,description:`内容获取失败。`,pubDate:f,author:``}}})}));return{title:`广外-大学要闻`,link:i,description:`广东外语外贸大学-大学要闻`,item:c}}export{i as route};