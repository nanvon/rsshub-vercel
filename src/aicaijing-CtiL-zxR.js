import{n as e,t}from"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CRUPiVpr.js";import"./helpers-Cqaav28H.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./parse-date-CHEO0z5G.js";import{t as i}from"./got-BlqYKpVp.js";import a from"node:path";e();const o={path:`/:category?/:id?`,name:`Unknown`,maintainers:[],handler:s};async function s(e){let o=e.req.param(`category`)??`latest`,s=e.req.param(`id`)??14,c={latest:{url:``,title:`最新文章`},recommend:{url:`&isRecommend=true`,title:`推荐资讯`},cover:{url:`&position=1`,title:`封面文章`},information:{url:`&categoryId=${s}`,title:{14:`热点 - 最新`,5:`热点 - 科技`,9:`热点 - 消费`,7:`热点 - 出行`,13:`热点 - 文娱`,10:`热点 - 教育`,25:`热点 - 地产`,11:`热点 - 更多`,28:`深度 - 出行`,29:`深度 - 科技`,31:`深度 - 消费`,33:`深度 - 教育`,34:`深度 - 更多`,8:`深度 - 地产`,6:`深度 - 文娱`}[s]}},l=`https://www.aicaijing.com.cn`,u=(await i({method:`get`,url:`https://api.aicaijing.com.cn/article/detail/list?size=${e.req.query(`limit`)??50}&page=1${c[o].url}`})).data.data.items.map(e=>({title:e.title,link:`${l}/article/${e.articleId}`,author:e.userInfo.nickname,pubDate:r(e.createTime),category:[e.category.name,...e.tags.map(e=>e.name)],description:n(a.join(t,`templates/description-3a20c230.art`),{image:e.cover,description:e.content})}));return{title:`AI 财经社 - ${c[o].title}`,link:l,item:u}}export{o as route};