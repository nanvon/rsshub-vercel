import{n as e,t}from"./esm-shims-C3MSy80G.mjs";import{t as n}from"./ofetch-Byd8Ct7M.mjs";import{t as r}from"./render-ZYpwNl2L.mjs";import{t as i}from"./parse-date-9Tu6hSFW.mjs";import a from"node:path";e();const o=`https://javtrailers.com`,s={Authorization:`AELAbPQCh_fifd93wMvf_kxMD_fqkUAVf@BVgb2!md@TNW8bUEopFExyGCoKRcZX`},c=e=>e.map(e=>e.startsWith(`https://pics.dmm.co.jp/`)?e.replace(/-(\d+)\.jpg$/,`jp-$1.jpg`):e.startsWith(`https://image.mgstage.com/`)?e.replace(/cap_t1_/,`cap_e_`):e),l=e=>e.map(e=>({title:`${e.dvdId} ${e.title}`,link:`${o}/video/${e.contentId}`,pubDate:i(e.releaseDate),contentId:e.contentId})),u=async e=>{let i=(await n(`${o}/api/video/${e.contentId}`,{headers:s})).video;return i.gallery=c(i.gallery),e.description=r(a.join(t,`templates/description-dded6110.art`),{videoInfo:i}),e.author=i.casts.map(e=>`${e.name} ${e.jpName}`).join(`, `),e.category=i.categories.map(e=>`${e.name}／${e.jpName}／${e.zhName}`),e};export{l as i,u as n,s as r,o as t};