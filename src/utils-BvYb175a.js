import{n as e,t}from"./esm-shims-BC3isTv8.js";import{t as n}from"./ofetch-CfXAR0UO.js";import{t as r}from"./cache-CpEhLexq.js";import{t as i}from"./render-d6AVTUl2.js";import{t as a}from"./parse-date-CHEO0z5G.js";import o from"node:path";import{load as s}from"cheerio";e();const c=`https://visionias.in`;async function l(e,c){return e.link===``?e:await r.tryGet(e.link,async()=>{let r=s(await n(e.link||``)),l=String(r(`meta[property="article:published_time"]`).attr(`content`)),d=String(r(`meta[property="article:modified_time"]`).attr(`content`)),f=r(`meta[property="article:tag"]`).toArray().map(e=>r(e).attr(`content`)),p=r(c),m=p.find(`div.space-y-4 > h1`).text(),h=p.find(`div.flex > div.w-full`),g=h.find(`[x-data^="{isShortArticleOpen"]`),_=h.find(`[x-data^="{isSectionOpen"]`);if(g.length!==0)return g.toArray().map(n=>{let s=r(n),c=s.find(`a > div > h2`).text().trim(),d=s.find(`a`).attr(`href`),f=u(s.html()),p=s.find(`ul > li:contains("Tags :")`)?.nextAll(`li`).toArray().map(e=>r(e).text()),h=i(o.join(t,`templates/description-962ff3f8.art`),{heading:c,articleContent:f});return{title:`${c} | ${m}`,pubDate:a(l),category:p,description:h,link:`${e.link}${d}`,author:`Vision IAS`}});if(_.length===0){let n=u(h.html()),r=i(o.join(t,`templates/description-962ff3f8.art`),{heading:m,articleContent:n});return{title:e.title,pubDate:a(l),category:f,description:r,link:e.link,updated:d?a(d):null,author:`Vision IAS`}}else{let n=_.toArray().map(e=>{let n=r(e),a=n.find(`a > div > h2`).text().trim(),s=u(n.html(),`div.ck-content`);return{description:i(o.join(t,`templates/description-sub-290c84a9.art`),{heading:a,articleContent:s})}}),s=i(o.join(t,`templates/description-962ff3f8.art`),{heading:m,subItems:n});return{title:m,pubDate:a(l),category:f,description:s,link:e.link,updated:d?a(d):null,author:`Vision IAS`}}})}function u(e,t=`div.ck-content`){let n=s(e,null,!1),r=n(e).find(String(t));return r.find(`figure`).each((e,t)=>{n(t).css(`width`,``)}),r.html()}export{l as n,c as t};