import"./esm-shims-C3MSy80G.mjs";import"./config-PItPnVIx.mjs";import"./logger-BoKmWr7Z.mjs";import"./ofetch-Byd8Ct7M.mjs";import"./helpers-vRt84cId.mjs";import{t as e}from"./cache-KwJARS5Z.mjs";import{n as t,t as n}from"./parse-date-9Tu6hSFW.mjs";import{t as r}from"./got-BYElsd7I.mjs";import{t as i}from"./timezone-CQaZZkB1.mjs";import{load as a}from"cheerio";const o={path:`/share/:category?`,categories:[`programming`],example:`/quicker/share/Recent`,parameters:{category:`分类，见下表，默认为动作库最新更新`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`getquicker.net/Share/:category`,`getquicker.net/`]}],name:`动作分享`,maintainers:[`nczitzk`],handler:s,description:`| 动作库最新更新 | 动作库最多赞 | 动作库新动作 | 动作库最近赞 |
| -------------- | ------------ | ------------ | ------------ |
| Recent         | Recommended  | NewActions   | RecentLiked  |

| 子程序      | 扩展热键  | 文本指令     |
| ----------- | --------- | ------------ |
| SubPrograms | PowerKeys | TextCommands |`};async function s(o){let s=o.req.param(`category`)??`Recent`,c=`https://getquicker.net`,l=`${c}/Share/${s}`,u=a((await r({method:`get`,url:l})).data),d=u(`table tbody tr`).slice(1,o.req.query(`limit`)?Number.parseInt(o.req.query(`limit`)):25).toArray().map(e=>(e=u(e).find(`td a`).first(),{title:e.text(),link:`${c}${e.attr(`href`)}`}));return d=await Promise.all(d.map(o=>e.tryGet(o.link,async()=>{let e=a((await r({method:`get`,url:o.link})).data);e(`section`).last().remove(),e(`#app`).children().slice(0,2).remove();let s=e(`.text-secondary a`).not(`.text-secondary`).first().text()?.trim().replaceAll(/\s*/g,``)||e(`div.note-text`).find(`span`).eq(3).text();return o.author=e(`.user-link`).first().text(),o.description=e(`div[data-info="动作信息"]`).html()??e(`#app`).html()??e(`.row`).eq(1).html(),o.pubDate=i(/-/.test(s)?n(s):t(s),8),o}))),{title:u(`title`).text(),link:l,item:d,allowEmpty:!0}}export{o as route};