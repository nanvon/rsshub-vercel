import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-rK3Yp7nj.js";import"./helpers-gUVC02jt.js";import{got_default as e}from"./got-Bnno2HfO.js";import{load as t}from"cheerio";const n={path:`/celebrity/:id/:sort?`,categories:[`social-media`],example:`/douban/celebrity/1274261`,parameters:{id:`电影人 id`,sort:"排序方式，缺省为 `time`（时间排序），可为 `vote` （评价排序）"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`豆瓣电影人`,maintainers:[`minimalistrojan`],handler:r};async function r(n){let r=n.req.param(`id`),i=n.req.param(`sort`)||`time`,a=(await e({method:`get`,url:`https://movie.douban.com/celebrity/${r}/movies?sortby=${i}`})).data,o=t(a),s=o(`div.grid_view > ul li`),c=o(`#content > h1`).text().replace(/的全部作品（\d+）/,``),l;return{title:`豆瓣电影人 - ${c}`,link:`https://movie.douban.com/celebrity/${r}/movies?sortby=${i}`,item:s.toArray().map(e=>(e=o(e),l=e.find(`img`).attr(`src`),{title:`《`+e.find(`h6 > a`).text()+`》`+e.find(`h6 > span`).text().replace(`(`,`（`).replace(`)`,`）`).replaceAll(`[`,`【`).replaceAll(`]`,`】`),description:`<img src="${l}"/><br/>主演：${e.find(`dl > dd`).last().text()}<br/>评分：${e.find(`.star > span:nth-child(2)`).text()}`,link:e.find(`dt > a`).attr(`href`)}))}}export{n as route};