import"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as e}from"./parse-date-CHEO0z5G.js";import{t}from"./got-CgQXMNWI.js";import{t as n}from"./types-Bn7An2Wc.js";import{load as r}from"cheerio";const i={path:`/html_clip/:user/:tag`,example:`/inoreader/html_clip/1005137674/user-favorites`,categories:[`reading`],view:n.Articles,name:`HTML Clip`,maintainers:[`EthanWng97`],handler:a};async function a(n){let i=`https://www.inoreader.com/stream/user/${n.req.param(`user`)}/tag/${n.req.param(`tag`)}/view/html?n=${n.req.query(`limit`)||20}`,a=(await t({method:`get`,url:i})).data,o=r(a),s=o(`#snip_body>.article_content`);return{title:o(`.header_text`).text().trim(),link:i,item:s.toArray().map(t=>{let n=o(t).clone(),r=o(t).prev(),i=o(`div.article_author .au1`,r).contents().filter((e,t)=>t.nodeType===3).text().replace(/posted (on|at) /,``).replace(/UTC.*/,``);return{title:o(`a.title_link`,r).text().trim(),link:o(`a.title_link`,r).attr(`href`),author:o(`div.article_author span span`,r).text().trim()+` via `+o(`div.article_author a.feed_link`,r).text().trim(),pubDate:e(i,[`MMM DD YYYY HH:mm:ss`,`HH:mm:ss`]),description:o(n).html()}}),allowEmpty:!0}}export{i as route};