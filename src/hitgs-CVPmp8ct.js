import{n as e,t}from"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import{t as n}from"./ofetch-CfXAR0UO.js";import{t as r}from"./cache-CpEhLexq.js";import{t as i}from"./render-d6AVTUl2.js";import{t as a}from"./parse-date-CHEO0z5G.js";import{t as o}from"./types-Bn7An2Wc.js";import s from"node:path";import{load as c}from"cheerio";e();const l=async e=>{let{id:o=`tzgg`}=e.req.param(),l=Number.parseInt(e.req.query(`limit`)??`10`,10),u=`https://hitgs.hit.edu.cn`,d=new URL(`${o}/list.htm`,u).href,f=c(await n(d)),p=f(`html`).attr(`lang`)??`zh`,m=[];m=f(`li.news, div.tbt17`).slice(0,l).toArray().map(e=>{let n=f(e),r=n.find(`div.news_title, span.div.news_title, div.bttb2`).text(),o=i(s.join(t,`templates/description-ca64252b.art`),{intro:n.find(`div.news_text, div.jj5`).text()}),c=f(`span.news_meta`).text()||(f(`span.news_days`).text()?`${f(`span.news_days`).text()}-${f(`span.news_year`).text()}`:`${f(`div.tm-3`).text()}-${f(`div.tm-1`).text()}`),l=n.find(`div.news_title a`).attr(`href`)??n.find(`div.bttb2 a`).attr(`href`)??n.find(`a`).attr(`href`),d=c;return{title:r,description:o,pubDate:a(c),link:l?new URL(l,u).href:void 0,content:{html:o,text:o},updated:a(d),language:p}}),m=await Promise.all(m.map(e=>e.link?r.tryGet(e.link,async()=>{let r=c(await n(e.link)),o=r(`h1.arti_title`).text()+r(`h2.arti_title`).text(),l=i(s.join(t,`templates/description-ca64252b.art`),{description:r(`div.wp_articlecontent`).html()}),d=r(`span.arti_update`).text().split(/：/).pop()?.trim(),f=d,m={title:o,description:l,pubDate:d?a(d):e.pubDate,content:{html:l,text:l},updated:f?a(f):e.updated,language:p},h=r(`a[sudyfile-attr]`).filter((e,t)=>!r(t).attr(`href`)?.endsWith(`htm`)).first(),g=h.attr(`href`);if(g){let e=`application/${g.split(/\./).pop()||`octet-stream`}`,t=h.attr(`sudyfile-attr`)?.match(/'title':'(.*?)'/)?.[1];m={...m,enclosure_url:new URL(g,u).href,enclosure_type:e,enclosure_title:t||o}}return{...e,...m}}):e));let h=f(`title`).text(),g=f(`p.copyright span`).first().text().split(/©/).pop()??``;return{title:`${g?`${g} - `:``}${h}`,description:h,link:d,item:m,allowEmpty:!0,image:f(`div.foot-logo img`).attr(`src`),author:g,language:p,id:d}},u={path:`/hitgs/:id?`,name:`研究生院`,url:`hitgs.hit.edu.cn`,maintainers:[`hlmu`,`nczitzk`],handler:l,example:`/hit/hitgs/tzgg`,parameters:{category:{description:"分类，默认为 `tzgg`，即通知公告，可在对应分类页 URL 中找到",options:[{label:`通知公告`,value:`tzgg`},{label:`综合新闻`,value:`zhxw`},{label:`高水平课程与学术交流`,value:`gspkcyxsjl`},{label:`国家政策`,value:`gjzc`},{label:`规章制度`,value:`17546`},{label:`办事流程`,value:`17547`},{label:`常见问题`,value:`17548`},{label:`常见下载`,value:`17549`}]}},description:`::: tip
订阅 [通知公告](https://hitgs.hit.edu.cn/tzgg/list.htm)，其源网址为 \`https://hitgs.hit.edu.cn/tzgg/list.htm\`，请参考该 URL 指定部分构成参数，此时路由为 [\`/hit/hitgs/tzgg\`](https://rsshub.app/hit/hitgs/tzgg)。
:::

<details>
  <summary>更多栏目</summary>

| 栏目 | ID |
| - | - |
| [通知公告](https://hitgs.hit.edu.cn/tzgg/list.htm) | [tzgg](https://rsshub.app/hit/hitgs/tzgg) |
| [综合新闻](https://hitgs.hit.edu.cn/zhxw/list.htm) | [zhxw](https://rsshub.app/hit/hitgs/zhxw) |
| [高水平课程与学术交流](https://hitgs.hit.edu.cn/gspkcyxsjl/list.htm) | [gspkcyxsjl](https://rsshub.app/hit/hitgs/gspkcyxsjl) |
| [国家政策](https://hitgs.hit.edu.cn/gjzc/list.htm) | [gjzc](https://rsshub.app/hit/hitgs/gjzc) |
| [规章制度](https://hitgs.hit.edu.cn/17546/list.htm) | [17546](https://rsshub.app/hit/hitgs/17546) |
| [办事流程](https://hitgs.hit.edu.cn/17547/list.htm) | [17547](https://rsshub.app/hit/hitgs/17547) |
| [常见问题](https://hitgs.hit.edu.cn/17548/list.htm) | [17548](https://rsshub.app/hit/hitgs/17548) |
| [常见下载](https://hitgs.hit.edu.cn/17549/list.htm) | [17549](https://rsshub.app/hit/hitgs/17549) |

</details>
`,categories:[`university`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`hitgs.hit.edu.cn`,`hitgs.hit.edu.cn/:id/list.htm`],target:e=>{let t=e.id;return`/hit/hitgs${t?`/${t}`:``}`}},{title:`通知公告`,source:[`hitgs.hit.edu.cn/tzgg/list.htm`],target:`/hitgs/tzgg`},{title:`综合新闻`,source:[`hitgs.hit.edu.cn/zhxw/list.htm`],target:`/hitgs/zhxw`},{title:`高水平课程与学术交流`,source:[`hitgs.hit.edu.cn/gspkcyxsjl/list.htm`],target:`/hitgs/gspkcyxsjl`},{title:`国家政策`,source:[`hitgs.hit.edu.cn/gjzc/list.htm`],target:`/hitgs/gjzc`},{title:`规章制度`,source:[`hitgs.hit.edu.cn/17546/list.htm`],target:`/hitgs/17546`},{title:`办事流程`,source:[`hitgs.hit.edu.cn/17547/list.htm`],target:`/hitgs/17547`},{title:`常见问题`,source:[`hitgs.hit.edu.cn/17548/list.htm`],target:`/hitgs/17548`},{title:`常见下载`,source:[`hitgs.hit.edu.cn/17549/list.htm`],target:`/hitgs/17549`}],view:o.Articles};export{l as handler,u as route};