import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import{ofetch_default as e}from"./ofetch-TsvCL7Kz.js";import{cache_default as t}from"./cache-CzcusEyX.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{load as r}from"cheerio";const i={name:`Learning English`,maintainers:[`Blank0120`],categories:[`study`],handler:a,path:`/learningenglish/:channel?`,example:`/bbc/learningenglish/take-away-english`,parameters:{channel:"channel, default to `take-away-english`"},description:`| 随身英语 | 地道英语 | 媒体英语 | 英语大破解 | 一分钟英语 |
| -------- | -------- | -------- | -------- | -------- |
| take-away-english | authentic-real-english | media-english | lingohack | english-in-a-minute |

| 短语动词 | 今日短语 | 你问我答 | 白领英语 | 亲子英语故事 |
| -------- | -------- | -------- | -------- | -------- |
| phrasal-verbs | todays-phrase | q-and-a | english-at-work | storytellers |`};async function a(i){let{channel:a=`take-away-english`}=i.req.param(),o=`https://www.bbc.co.uk`,s=`${o}/learningenglish/chinese/features/${a}`,c=await e(s,{parseResponse:e=>e}),l=r(c),u={title:l(`[data-widget-index=4]`).find(`h2`).text(),link:`${o}${l(`[data-widget-index=4]`).find(`h2 a`).attr(`href`)}`,pubDate:n(l(`[data-widget-index=4]`).find(`.details h3`).text())},d=l(`.threecol li`).toArray().slice(0,10).map(e=>{let t=r(e);return{title:t(`h2`).text(),link:`${o}${t(`h2 a`).attr(`href`)}`,pubDate:n(t(`.details h3`).text())}}),f=await Promise.all([u,...d].map(n=>t.tryGet(n.link,async()=>{let t=await e(n.link,{parseResponse:e=>e}),i=r(t);return n.description=i(`.widget-richtext`).html(),n})));return{title:`Learningenglish-${a}-BBC`,link:s,item:f}}export{i as route};