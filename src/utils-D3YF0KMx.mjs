import{t as e}from"./config-PItPnVIx.mjs";import{t}from"./ofetch-Byd8Ct7M.mjs";import{t as n}from"./cache-KwJARS5Z.mjs";import{t as r}from"./parse-date-9Tu6hSFW.mjs";import{load as i}from"cheerio";const a=`https://cara.app`,o=`${a}/api`,s=`https://cdn.cara.app`;function c(n,r){return t(n,{...r,headers:{"user-agent":e.trueUA}})}async function l(t){let r=await n.tryGet(`${a}:buildId`,async()=>{let e=i(await c(`${a}/explore`));return JSON.parse(e(`#__NEXT_DATA__`)?.text()??`{}`).buildId},e.cache.routeExpire,!1);return await n.tryGet(`${a}:${t}`,async()=>(await c(`${a}/_next/data/${r}/${t}.json`)).pageProps.user)}async function u(e){let t=await c(`${o}/posts/${e.postId}`),n=t.data.images.filter(e=>!e.isCoverImg).map(e=>`<img src="${s}/${e.src}" />`).join(`<br />`);return{title:t.data.title||t.data.content,pubDate:r(t.data.createdAt),link:`${a}/post/${e.postId}`,description:n}}export{s as a,o as i,u as n,a as o,l as r,c as t};