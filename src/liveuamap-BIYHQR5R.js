import"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as e}from"./got-CgQXMNWI.js";import{t}from"./invalid-parameter-CLGd_tte.js";import{t as n}from"./valid-host-COjFWLEv.js";import{load as r}from"cheerio";const i={path:`/:region?`,categories:[`new-media`],example:`/liveuamap`,parameters:{region:"region 热点地区，默认为`ukraine`，其他选项见liveuamap.com的三级域名"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`liveuamap.com/:region*`],target:`/:region`}],name:`实时消息`,maintainers:[`CoderSherlock`],handler:a};async function a(i){let a=i.req.param(`region`)??`ukraine`,o=i.req.query(`limit`)?Number.parseInt(i.req.query(`limit`)):50;if(!n(a))throw new t(`Invalid region`);let s=`https://${a}.liveuamap.com/`,c=r((await e({method:`get`,url:s})).data),l=c(`div#feedler > div`).slice(0,o).toArray().map(e=>(e=c(e),{title:e.find(`div.title`).text(),description:e.find(`div.title`).text(),link:e.attr(`data-link`)}));return{title:`Liveuamap - ${a}`,link:s,item:l}}export{i as route};