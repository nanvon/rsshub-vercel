import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CbgiXYAi.js";import"./helpers-gUVC02jt.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-Do9KqzqD.js";import{load as n}from"cheerio";const r={path:`/daily/:id?`,categories:[`programming`],example:`/luogu/daily`,parameters:{id:"年度日报所在帖子 id，可在 URL 中找到，不填默认为 `47327`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`luogu.com.cn/discuss/47327`,`luogu.com.cn/`],target:`/daily`}],name:`日报`,maintainers:[`LogicJake`,`prnake`,`nczitzk`],handler:i,url:`luogu.com.cn/discuss/47327`};async function i(r){let i=`https://www.luogu.com.cn/discuss/${r.req.param(`id`)??47327}`,a=await t(i),o=n(a.data),s=o(`head title`).text(),c=o(`head script:contains("window._feInjection")`).text().match(/window\._feInjection = JSON\.parse\(decodeURIComponent\("(.*?)"\)\);/)[1],l=JSON.parse(decodeURIComponent(c)),u=l.currentData.post.content.match(/<([^>]*)>/)[1],{data:d}=await t(u),f=n(d),p=f(`.am-article-title`).first().text().trim(),m=[{title:s,description:f(`#article-content`).html(),link:i,author:l.currentData.post.author.name,guid:`${i}#${p}`,pubDate:e(l.currentData.post.time)}];return{title:`洛谷日报`,link:i,item:m}}export{r as route};