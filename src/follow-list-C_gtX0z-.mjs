import{n as e,t}from"./esm-shims-D4LgnpSl.mjs";import"./config-L8Ls2W7q.mjs";import"./logger-C50fTRi5.mjs";import"./ofetch-CvLG4YCQ.mjs";import"./helpers-mo8InLYm.mjs";import"./cache-ZTWfXd2T.mjs";import{t as n}from"./render-CBhnapAf.mjs";import{t as r}from"./got-AYh7EWi-.mjs";import"./config-not-found-Zb14cUk-.mjs";import{t as i}from"./cache-DOeg3b_p.mjs";import a from"node:path";e();const o=(e,r)=>n(a.join(t,`templates/description-d08e0099.art`),{description:e,images:r}),s={path:`/bbs/follow-list/:uid`,categories:[`game`],example:`/mihoyo/bbs/follow-list/77005350`,parameters:{uid:`用户uid`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`米游社 - 用户关注`,maintainers:[`CaoMeiYouRen`],handler:c};async function c(e){let t=e.req.param(`uid`),n={gids:2,uid:t,page_size:e.req.query(`limit`)||`20`},a=`https://www.miyoushe.com/ys/accountCenter/followList?id=${t}`,s=(await r({method:`get`,url:`https://bbs-api.miyoushe.com/user/wapi/following`,searchParams:n,headers:{Origin:`https://www.miyoushe.com`,Referer:a}}))?.data?.data?.result;if(!s)throw Error(`未获取到数据！`);let{nickname:c}=await i.getUserFullInfo(e,t);return{title:`米游社 - ${c} 的关注`,link:a,item:s.map(e=>({title:e.user.nickname,link:`https://www.miyoushe.com/ys/accountCenter/postList?id=${e.user.uid}`,description:o(`${e.user.certification.label||``}\n${e.user.introduce||``}`.trim(),[e.user.avatar_url])}))}}export{s as route};