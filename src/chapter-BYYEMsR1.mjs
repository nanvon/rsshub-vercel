import"./esm-shims-D5mxTuu_.mjs";import"./config-CDM38Tpk.mjs";import"./logger-B0B1yUZ6.mjs";import"./ofetch-FkpIOIxH.mjs";import"./helpers-CMl_ndRq.mjs";import{t as e}from"./parse-date-Cv8vEJfE.mjs";import{t}from"./got-CxBlPaz_.mjs";import{t as n}from"./types-CypZ_btd.mjs";import{load as r}from"cheerio";const i={path:`/chapter/:id`,categories:[`reading`],view:n.Notifications,example:`/qidian/chapter/1010400217`,parameters:{id:`小说 id, 可在对应小说页 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`book.qidian.com/info/:id`]}],name:`作品章节`,maintainers:[`fuzy112`],handler:a};async function a(n){let i=n.req.param(`id`),a=r((await t(`https://m.qidian.com/book/${i}.html`)).data),o=a(`meta[property="og:title"]`).attr(`content`),s=`https:${a(`.detail__header-cover__img`).attr(`src`)}`,{data:c}=await t(`https://m.qidian.com/book/${i}/catalog/`),l=r(c),{pageContext:u}=JSON.parse(l(`#vite-plugin-ssr_pageContext`).text()),d=u.pageProps.pageData.vs.flatMap(e=>e.cs).map(t=>({title:t.cN,pubDate:e(t.uT),link:`https://vipreader.qidian.com/chapter/${i}/${t.id}`}));return{title:`起点 ${o}`,link:`https://book.qidian.com/info/${i}`,description:a(`#bookSummary content`).text(),image:s,item:d}}export{i as route};