import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{ofetch_default as n}from"./ofetch-TsvCL7Kz.js";import{cache_default as r}from"./cache-CzcusEyX.js";import{art as i}from"./render-DE4LRFBD.js";import a from"node:path";import{load as o}from"cheerio";t();const s=(e=`zh_CN`)=>`X-UA=${encodeURIComponent(`V=1&PN=WebApp&VN=0.1.0&LANG=${e}&PLT=PC`)}`,c=(e=!1)=>e?`https://www.taptap.io`:`https://www.taptap.cn`,l=(e,t=`zh_CN`,i=!1)=>r.tryGet(`taptap:appDetail:${e}:${t}:${i}`,async()=>{let r=await n(`${c(i)}/webapiv2/group/v1/detail?app_id=${e}&${s(t)}`,{headers:{Referer:`${c(i)}/app/${e}`}});return r.data}),u=t=>i(a.join(e,`templates/imagePost-75c674ab.art`),{images:t}),d=async(e,t,r=`zh_CN`)=>{let i=await n(`${c(!1)}/webapiv2/topic/v1/detail?id=${t}&${s(r)}`,{headers:{Referer:`${c(!1)}/app/${e}`}}),a=o(i.data.first_post.contents.text,null,!1);return a(`img`).each((e,t)=>{let n=a(t);n.attr(`src`,n.attr(`data-origin-url`)),n.removeAttr(`data-origin-url`)}),a.html()},f=t=>i(a.join(e,`templates/videoPost-d7476920.art`),{previewUrl:t.thumbnail.original_url||t.thumbnail.url});export{s as X_UA,l as appDetail,c as getRootUrl,u as imagePost,d as topicPost,f as videoPost};