import"./esm-shims-DtWyl6zt.js";import"./config-CT-9jq-j.js";import"./logger-BsClR5PH.js";import"./dist-BrnquCU2.js";import"./helpers-DzX-lcQO.js";import"./ofetch-Of9UBhau.js";import{got_default as e}from"./got-Cw3q2eEq.js";import"./config-not-found-2m672-Jl.js";import{parser as t}from"./rss-parser-BTU8NrK_.js";import{getConfig as n}from"./utils-DuJKHq3u.js";const r={path:`/:configId/official/:path{.+}`,categories:[`bbs`],example:`/discourse/0/official/latest`,parameters:{configId:`Environment variable configuration id, see above`,path:"Discourse RSS path between `domain` and `.rss`. All supported Rss path can be found in [https://meta.discourse.org/t/finding-discourse-rss-feeds/264134](https://meta.discourse.org/t/finding-discourse-rss-feeds/264134). For example: the path of [https://meta.discourse.org/top/all.rss](https://meta.discourse.org/top/all.rss) is `top/all`."},features:{requireConfig:[{name:`DISCOURSE_CONFIG_*`,description:`Configure the Discourse environment variables referring to [https://docs.rsshub.app/deploy/config#discourse](https://docs.rsshub.app/deploy/config#discourse).`}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Official RSS`,maintainers:[`Raikyou`,`dzx-dzx`],handler:i};async function i(r){let{link:i,key:a}=n(r),o=r.req.param(`path`),s=`${i}/${o}.rss`,c=await t.parseString((await e(s,{headers:{"User-Api-Key":a}})).data);return c.items=c.items.map(e=>({description:e.content,author:e.creator,...e})),{item:c.items,...c}}export{r as route};