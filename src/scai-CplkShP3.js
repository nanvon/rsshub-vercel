import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-DqHh1IN2.js";import{cache_default as t}from"./cache-Dfid4xgQ.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{load as r}from"cheerio";const i=`https://scai.swjtu.edu.cn`,a={path:`/scai/:type`,categories:[`university`],example:`/swjtu/scai/bks`,parameters:{type:`通知类型`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`scai.swjtu.edu.cn/`]}],name:`计算机与人工智能学院`,description:`
| 分区              | 参数         |
| ----------------- | ----------- |
| 本科生教育         | bks         |
| 研究生教育         | yjs         |
| 学生工作           | xsgz        |
`,maintainers:[`AzureG03`,`SuperJeason`],handler:c},o={bks:{title:`本科生教育`,url:`${i}/web/page-module.html?mid=B730BEB095B31840`},yjs:{title:`研究生教育`,url:`${i}/web/page-module.html?mid=6A69B0E32021446B`},xsgz:{title:`学生工作`,url:`${i}/web/page-module.html?mid=F3D3909EB1861B5D`}},s=(t,a)=>{let o=t.find(`a`).text(),s=`${i}${t.find(`a`).attr(`href`).slice(2)}`;return a.tryGet(s,async()=>{let i=await e(s),a=r(i),c,l=a(`div.news-info span:nth-of-type(2)`).text();if(l||=a(`div.news-top-bar span:nth-of-type(1)`).text(),l){let e=l.match(/\d{4}(-|\/|.)\d{1,2}\1\d{1,2}/);if(!e||!e[0])return null;c=n(e[0])}else{let e=t.find(`.calendar`),n=e.find(`.day`).text().trim(),[r,i]=e.find(`.date`).text().trim().split(`/`),a=`${r}-${i}-${n.padStart(2,`0`)}`;c=new Date(a)}let u=a(`div.content-main`).html();return c||=new Date(`2025-04-12`),{title:o,pubDate:c,link:s,description:u}})};async function c(n){let{type:i}=n.req.param(),a=o[i].url,c=await e(a),l=r(c),u=l(`div.list-top-item, div.item-wrapper`),d=await Promise.all(u.toArray().map(e=>{let n=l(e);return s(n,t)}));return{title:`西南交大计院-${o[i].title}`,link:a,item:d,allowEmpty:!0}}export{a as route};