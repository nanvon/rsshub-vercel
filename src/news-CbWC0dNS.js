import"./esm-shims-Dqvxr0BZ.js";import"./config-1ATZGjxb.js";import"./logger-B19BYg4C.js";import{ofetch_default as e}from"./ofetch-B4O0sZDE.js";import{cache_default as t}from"./cache-CjzVN0X7.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{timezone as r}from"./timezone-CMz5pnRe.js";import{load as i}from"cheerio";const a={434:`行业资讯`,436:`协会动态`,438:`重要通知`,440:`政策法规`},o={path:`/news/:typeId`,categories:[`government`],example:`/samd/news/440`,parameters:{type:`文章类型ID，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},description:`| 行业资讯 | 协会动态 | 重要通知 | 政策法规 |
| --- | --- | --- | --- |
| 434 | 436 | 438 | 440 |`,name:`资讯信息`,maintainers:[`hualiong`],handler:async o=>{let s=`https://www.samd.org.cn/home`,c=o.req.param(`typeId`),{rows:l}=await e(`/GetNewsByTagId`,{baseURL:s,method:`POST`,query:{page:1,rows:10,typeId:c,status:1}}),u=l.map(e=>({title:e.title,category:[e.tag_names],link:`${s}/newsDetail?id=${e.auto_id}&typeId=${c}`,image:e.img_url?s+e.img_url:null})),d=await Promise.all(u.map(a=>t.tryGet(a.link,async()=>{let t=i(await e(a.link)),o=t(`.content`);return a.author=o.find(`.author span`).text(),a.pubDate=r(n(o.find(`.time`).text(),`发布时间：YYYY-MM-DD HH:mm:ss`),8),o.children(`.titles`).remove(),o.children(`.auxi`).remove(),a.description=o.html(),a})));return{title:`${a[c]} - 深圳市医疗器械行业协会`,link:`https://www.samd.org.cn/home/newsList`,item:d}}};export{o as route};