import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./dist-BYIKqG8W.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-BWStd97H.js";import"./render-CxhTJIsl.js";import"./ofetch-CSKgrsrO.js";import{got_default as t}from"./got-CtVGR9YK.js";import{utils_default as n}from"./utils-BwEecRq8.js";import r from"markdown-it";async function i(e){let n=await t({method:`get`,url:`https://www.lanqiao.cn/api/v2/users/${e}/`,headers:{Referer:`https://www.lanqiao.cn/users/${e}/`}});return n.data.name}const a={path:`/author/:uid`,categories:[`programming`],example:`/lanqiao/author/1701267`,parameters:{uid:"作者 `uid` 可在作者主页 URL 中找到"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`lanqiao.cn/users/:uid`]}],name:`作者发布的课程`,maintainers:[`huhuhang`],handler:o};async function o(a){let o=a.req.param(`uid`),s=await i(o),c=await t({method:`get`,url:`https://www.lanqiao.cn/api/v2/users/${o}/courses/?type=published`,headers:{Referer:`https://www.lanqiao.cn/users/${o}/`}}),l=c.data.results,u=new r,d=await Promise.all(l.map(r=>e.tryGet(`https://www.lanqiao.cn/api/v2/courses/${r.id}/`,async()=>{let e=await t({method:`get`,url:`https://www.lanqiao.cn/api/v2/courses/${r.id}/`}),i=e.data;return r.title=i.name,r.description=n.courseDesc(i.picture_url,u.render(i.long_description)),r.author=i.teacher.name,r.link=`https://www.lanqiao.cn/courses/${i.id}/`,r})));return{title:`${s} 发布的课程`,link:`https://www.lanqiao.cn/users/${o}`,description:`${s} 发布的课程`,item:d}}export{a as route};