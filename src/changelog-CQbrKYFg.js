import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./ofetch-TsvCL7Kz.js";import"./helpers-LVq640iW.js";import{got_default as e}from"./got-lNAQakSo.js";import{invalid_parameter_default as t}from"./invalid-parameter-B0jPSaWz.js";import{load as n}from"cheerio";const r={path:`/qq/sdk/changelog/:platform`,categories:[`program-update`],example:`/tencent/qq/sdk/changelog/iOS`,parameters:{platform:`平台，iOS / Android`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`更新日志`,maintainers:[`nuomi1`],handler:i};async function i(r){let i=r.req.param(`platform`),a=``,o=``;if(i===`iOS`)a=`iOS SDK 历史变更`,o=`https://wiki.connect.qq.com/ios_sdk历史变更`;else if(i===`Android`)a=`Android SDK 历史变更`,o=`https://wiki.connect.qq.com/android_sdk历史变更`;else throw new t(`not support platform`);let s=await e.get(o),c=n(s.data),l=c(`.wp-editor`).children(`p`).filter((e,t)=>c(t).text()!==``),u=[],d=[];l.each((e,t)=>{c(t).find(`strong`).length&&d.push(e),u.push(c(t).text().replace(`
`,``))});let f=d.map((e,t)=>{let n=u.slice(d[t],d[t+1]),r={title:n[0],description:n.slice(1).join(`
`)};return r});return{title:a,link:o,item:f}}export{r as route};