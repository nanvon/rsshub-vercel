import"./esm-shims-DtWyl6zt.js";import"./config-CT-9jq-j.js";import"./logger-BsClR5PH.js";import"./dist-BrnquCU2.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import{rofetch as t}from"./ofetch-Of9UBhau.js";import{ViewType as n}from"./types-A5bA50Mg.js";import"./config-not-found-2m672-Jl.js";import{utils_default as r}from"./utils-DaVajz0i.js";const i={path:`/playlist/:id`,categories:[`multimedia`],view:n.Audios,example:`/spotify/playlist/4UBVy1LttvodwivPUuwJk2`,parameters:{id:`Playlist ID`},features:{requireConfig:[{name:`SPOTIFY_CLIENT_ID`,description:``},{name:`SPOTIFY_CLIENT_SECRET`,description:``}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},description:`::: warning
Due to [limitations by Spotify](https://developer.spotify.com/blog/2024-11-27-changes-to-the-web-api), this endpoint is unable to access "Algorithmic and Spotify-owned editorial playlists".
:::`,radar:[{source:[`open.spotify.com/playlist/:id`]}],name:`Playlist`,maintainers:[`outloudvi`],handler:a};async function a(n){let i=await r.getPublicToken(),a=n.req.param(`id`),o=await t(`https://api.spotify.com/v1/playlists/${a}`,{method:`GET`,headers:{Authorization:`Bearer ${i}`}}),s=o.tracks.items;return{title:o.name,link:o.external_urls.spotify,description:o.description,allowEmpty:!0,item:s.map(t=>({...r.parseTrack(t.track),pubDate:e(t.added_at)})),image:o.images.length?o.images[0].url:void 0}}export{i as route};