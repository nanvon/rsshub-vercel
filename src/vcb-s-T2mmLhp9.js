import{__dirname as e,init_esm_shims as t}from"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import"./dist-CRTt8uUM.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import"./ofetch-BHWobzJG.js";import{got_default as i}from"./got-DLgbOU4j.js";import a from"node:path";t();const o=`https://vcb-s.com`,s=`${o}/wp-json/wp/v2/posts`,c={path:`/`,radar:[{source:[`vcb-s.com/`],target:``}],name:`Unknown`,maintainers:[`cxfksword`],handler:l,url:`vcb-s.com/`};async function l(t){let c=t.req.query(`limit`)??7,l=`${s}?per_page=${c}&_embed`,u=await i.get(l);typeof u.data==`string`&&(u.data=JSON.parse(u.body.trim()));let d=u.data,f=d.map(t=>{let i=n(a.join(e,`templates/post-a0d5f24f.art`),{post:t.content.rendered.replaceAll(/<pre class="js-medie-info-detail.*?>(.*?)<\/pre>/gs,`<pre><code>$1</code></pre>`).replaceAll(/<div.+?dw-box-download.+?>(.*?)<\/div>/gs,`<pre>$1</pre>`),medias:t._embedded[`wp:featuredmedia`]});return{title:t.title.rendered,link:t.link,description:i,pubDate:r(t.date_gmt),author:t._embedded.author[0].name}});return{title:`VCB-Studio - 大家一起实现的故事！`,link:o,item:f}}export{c as route};