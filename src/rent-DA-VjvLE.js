import{__dirname as e,init_esm_shims as t}from"./esm-shims-DE2PJqdr.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as n}from"./ofetch-CJF2SF6b.js";import"./cache-Dfid4xgQ.js";import{art as r}from"./render-CSnicFA3.js";import{parseDate as i}from"./parse-date-DHsdom8D.js";import{invalid_parameter_default as a}from"./invalid-parameter-B0jPSaWz.js";import{baseUrl as o,getCitys as s,getDistricts as c}from"./utils-CF3h8hki.js";import l from"node:path";t();const u=t=>r(l.join(e,`templates/house-7bed2997.art`),t),d={path:`/rent/:city/:district?`,example:`/wellcee/rent/北京`,parameters:{city:`城市`,district:`地区`},name:`租房信息`,maintainers:[`TonyRL`],handler:f,url:`www.wellcee.com`,description:`支持的城市可以通过 [/wellcee/support-city](https://rsshub.app/wellcee/support-city) 获取`};async function f(e){let{city:t,district:r=``}=e.req.param(),l=(await s()).find(e=>e.chCityName===t);if(!l)throw new a(`Invalid city`);let d;if(r){let e=(await c(l.id)).find(e=>e.name===r);if(!e)throw new a(`Invalid district`);d=e}let f=(await n(`${o}/api/house/filter`,{method:`POST`,body:{districtIds:d?.id?[d.id]:[],subways:[],rentTypeIds:[],timeTypeIds:[],price:[],tagTypeIds:[],cityId:l.id,lang:1,pn:1}})).data.list.map(e=>({title:e.address,link:`${o}/rent-apartment/${e.id}`,description:u({item:e}),pubDate:i(e.loginTime,`X`),author:e.userInfo.name,category:[...e.tags,...e.typeTags]}));return{title:`${t}${d?.name??``}租房信息 - Wellcee`,description:`${l.statics.online_text} ${l.statics.total_text}`,image:l.icon,icon:l.icon,logo:l.icon,link:`${o}/rent-apartment/${l.cityName}/list?cityId=${l.id}&lang=zh${r?`#districtIds=${d?.id}`:``}`,item:f}}export{d as route};