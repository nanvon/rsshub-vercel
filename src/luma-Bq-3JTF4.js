import"./esm-shims-BmHUa0Yk.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-DCfHHxuQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";const n={path:`/:url`,name:`Events`,url:`lu.ma`,maintainers:[`cxheng315`],example:`/luma/yieldnest`,categories:[`other`],parameters:{url:`LuMa URL`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`lu.ma/:url`],target:`/:url`}],handler:r};async function r(n){let r=`https://api.lu.ma/url?url=`+n.req.param(`url`),i=await e(r),a;switch(i.kind){case`calendar`:a=i.data.featured_items.map(e=>({title:e.event.name,link:`https://lu.ma/`+e.event.url,author:e.hosts?e.hosts.map(e=>e.name).join(`, `):``,guid:e.event.api_id,pubDate:t(e.event.start_at),itunes_item_image:e.event.cover_url,itunes_duration:(new Date(e.event.end_at).getTime()-new Date(e.event.start_at).getTime())/1e3}));break;case`event`:a=[{title:i.data.event.name,link:`https://lu.ma/`+i.data.event.url,author:i.data.hosts?i.data.hosts.map(e=>e.name).join(`, `):``,guid:i.data.event.api_id,pubDate:t(i.data.event.start_at),itunes_item_image:i.data.event.cover_url,itunes_duration:(new Date(i.data.event.end_at).getTime()-new Date(i.data.event.start_at).getTime())/1e3}];break;case`discover-place`:a=i.data.events.map(e=>({title:e.event.name,link:`https://lu.ma/`+e.event.url,author:e.hosts?e.hosts.map(e=>e.name).join(`, `):``,guid:e.event.api_id,pubDate:t(e.event.start_at),itunes_item_image:e.event.cover_url,itunes_duration:(new Date(e.event.end_at).getTime()-new Date(e.event.start_at).getTime())/1e3}));break;default:a=[{title:`Not Found`,link:`Not Found`}];break}return{title:i.data.calendar?i.data.calendar.name:i.data.place.name,description:i.data.place?i.data.place.description:``,link:`https://lu.ma/`+n.req.param(`url`),image:i.data.calendar?i.data.calendar.cover_url:i.data.place.cover_url,item:a}}export{n as route};