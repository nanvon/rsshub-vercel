import{n as e,t}from"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./parse-date-CHEO0z5G.js";import{t as i}from"./got-CgQXMNWI.js";import{t as a}from"./timezone-BPfwRbwD.js";import o from"node:path";e();const s={path:`/column/:id?`,categories:[`traditional-media`],example:`/nmtv/column/877`,parameters:{id:`栏目 id，可在对应栏目 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`点播`,maintainers:[`nczitzk`],handler:c,description:"::: tip\n  如 [蒙古语卫视新闻联播](http://www.nmtv.cn/folder292/folder663/folder301/folder830/folder877) 的 URL 为 `http://www.nmtv.cn/folder292/folder663/folder301/folder830/folder877`，其栏目 id 为末尾数字编号，即 `877`。可以得到其对应路由为 [`/nmtv/column/877`](https://rsshub.app/nmtv/column/877)\n:::"};async function c(e){let s=e.req.param(`id`)??`877`,c=(await i({method:`get`,url:`https://mapi.m2oplus.nmtv.cn/api/v1/contents.php?offset=0&count=${e.req.query(`limit`)?Number.parseInt(e.req.query(`limit`)):100}&column_id=${s}`})).data,l=c.map(e=>{let i=`https://vod.m2oplus.nmtv.cn/${e.target_path}${e.target_filename}`,s=`${e.type}/${i.match(/\.(\w+)$/)[1]}`;return{title:e.title,link:e.content_url,author:e.column_name,pubDate:a(r(e.publish_time),8),description:n(o.join(t,`templates/description-ffc4bfcb.art`),{type:e.type,image:e.index_pic,file:i}),enclosure_url:i,enclosure_type:s,itunes_duration:e.video.duration,itunes_item_image:e.index_pic}}),u=c[0].column_name,d=c[0].column_info.indexpic;return{title:`内蒙古广播电视台 - ${u}`,link:l[0].link.split(/\/\d{4}-\d{2}-\d{2}\//)[0],item:l,image:`${d.host}${d.filepath}${d.filename}`,itunes_author:u}}export{s as route};