import{n as e,t}from"./esm-shims-L08rKynx.mjs";import{t as n}from"./config-Bs8nOQqi.mjs";import{t as r}from"./ofetch-1TBKTiHL.mjs";import{t as i}from"./cache-BDs-9Wd7.mjs";import{t as a}from"./render-CBhnapAf.mjs";import{t as o}from"./parse-date-bKmkZ9gg.mjs";import{r as s}from"./common-utils-CrvTTrJV.mjs";import c from"node:path";import{load as l}from"cheerio";e();async function u(e){return(await r(e)).results}async function d(e){let d=`https://www.nber.org/api/v1/working_page_listing/contentType/working_paper/_/_/search`,f=await i.tryGet(d,()=>u(d),n.cache.routeExpire,!1);return{title:`NBER Working Paper`,link:`https://www.nber.org/papers`,item:await Promise.all(f.filter(t=>s(e)===`/papers`||t.newthisweek).map(e=>{let n=`https://www.nber.org${e.url}`;return i.tryGet(n,async()=>{let i=l(await r(n)),s=i(`meta[name="citation_pdf_url"]`).attr(`content`),u=i(`.page-header__intro-inner`).html();return{title:e.title,author:i(`meta[name="dcterms.creator"]`).attr(`content`),pubDate:o(i(`meta[name="citation_publication_date"]`).attr(`content`),`YYYY/MM/DD`),link:n,doi:i(`meta[name="citation_doi"]`).attr(`content`),description:a(c.join(t,`templates/description-9c2e727f.art`),{fullAbstract:u,downloadLink:s})}})})),description:`National Bureau of Economic Research Working Papers articles`}}export{d as t};