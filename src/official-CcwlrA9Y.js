import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-am9EnuPq.js";import"./helpers-gUVC02jt.js";import{got_default as e}from"./got-CmdBCkM8.js";import"./config-not-found-mNOcOzCd.js";import{rss_parser_default as t}from"./rss-parser-CQ9Wk_Nc.js";import{getConfig as n}from"./utils-C6_DkETc.js";const r={path:`/:configId/official/:path{.+}`,categories:[`bbs`],example:`/discourse/0/official/latest`,parameters:{configId:`Environment variable configuration id, see above`,path:"Discourse RSS path between `domain` and `.rss`. All supported Rss path can be found in [https://meta.discourse.org/t/finding-discourse-rss-feeds/264134](https://meta.discourse.org/t/finding-discourse-rss-feeds/264134). For example: the path of [https://meta.discourse.org/top/all.rss](https://meta.discourse.org/top/all.rss) is `top/all`."},features:{requireConfig:[{name:`DISCOURSE_CONFIG_*`,description:`Configure the Discourse environment variables referring to [https://docs.rsshub.app/deploy/config#discourse](https://docs.rsshub.app/deploy/config#discourse).`}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Official RSS`,maintainers:[`Raikyou`,`dzx-dzx`],handler:i};async function i(r){let{link:i,key:a}=n(r),o=r.req.param(`path`),s=`${i}/${o}.rss`,c=await t.parseString((await e(s,{headers:{"User-Api-Key":a}})).data);return c.items=c.items.map(e=>({description:e.content,author:e.creator,...e})),{item:c.items,...c}}export{r as route};