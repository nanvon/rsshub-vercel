import{__dirname as e,init_esm_shims as t}from"./esm-shims-Dqvxr0BZ.js";import{config as n}from"./config-BpwDbAkH.js";import{cache_default as r}from"./cache-BWStd97H.js";import{art as i}from"./render-CxhTJIsl.js";import{ofetch_default as a}from"./ofetch-CSKgrsrO.js";import o from"node:path";t();const s=e=>r.tryGet(`nicovideo:user:${e}`,()=>a(`https://embed.nicovideo.jp/users/${e}`)),c=e=>r.tryGet(`nicovideo:user:${e}:videos`,async()=>{let{data:t}=await a(`https://nvapi.nicovideo.jp/v3/users/${e}/videos`,{headers:{"X-Frontend-Id":`6`},query:{sortKey:`registeredAt`,sortOrder:`desc`,sensitiveContents:`mask`,pageSize:100,page:1}});return t.items},n.cache.routeExpire,!1),l=e=>r.tryGet(`nicovideo:mylist:${e}`,async()=>{let{data:t}=await a(`https://nvapi.nicovideo.jp/v2/mylists/${e}`,{headers:{"X-Frontend-Id":`6`},query:{sortKey:`addedAt`,sortOrder:`desc`,pageSize:500,page:1}});return t.mylist},n.cache.routeExpire,!1),u=(t,n)=>i(o.join(e,`templates/video-3a0bdb3a.art`),{video:t,embed:n});export{l as getMylist,s as getUserInfoById,c as getUserVideosById,u as renderVideo};