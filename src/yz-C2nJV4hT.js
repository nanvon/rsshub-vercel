import"./esm-shims-2LyWUseo.js";import"./config-CVBRPN4O.js";import{logger_default as e}from"./logger-BvonkID1.js";import{ofetch_default as t}from"./ofetch-BLnIkXRv.js";import{cache_default as n}from"./cache-Dfid4xgQ.js";import{parseDate as r}from"./parse-date-DHsdom8D.js";import{timezone as i}from"./timezone-CMz5pnRe.js";import{load as a}from"cheerio";const o={path:`/yz/:category?`,categories:[`university`],example:`/xjtu/yz/zsdt`,parameters:{category:"栏目类型，默认请求`zsdt`，详见下方表格"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`yz.xjtu.edu.cn/index/:category.htm`],target:`/yz/:category`}],name:`研究生招生信息网`,maintainers:[`YoghurtGuy`],handler:s,description:`栏目类型

| 招生动态 | 通知公告 | 政策法规 | 招生统计 | 历年复试线 | 博士招生 | 硕士招生 | 推免生 | 其他招生 |
| -------- | -------- | -------- | -------- | ---------- | -------- | -------- | ------ | -------- |
| zsdt     | tzgg     | zcfg     | zstj     | lnfsx      | bszs     | sszs     | tms    | qtzs     |`};async function s(o){let{category:s=`zsdt`}=o.req.param(),c=`https://yz.xjtu.edu.cn`,l=await t(`${c}/index/${s}.htm`),u=a(l),d=u(`div.list-con ul li`).toArray().map(e=>{let t=u(e),n=t.find(`a`);return{title:n.attr(`title`),link:new URL(n.attr(`href`),c).href,pubDate:i(r(t.find(`span.date.fr`).text()),8)}});return{title:`西安交通大学研究生招生信息网`,link:`https://yz.xjtu.edu.cn`,item:await Promise.all(d.map(r=>n.tryGet(r.link,async()=>{try{let e=await t(r.link),n=a(e);return r.description=n(`#vsb_content`).html()+(n(`form ul`).length>0?n(`form ul`).html():``),r}catch(t){return e.error(`Fetch failed for ${r.link}:`,t),r}})))}}export{o as route};