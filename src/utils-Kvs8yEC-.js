import{__dirname as e,init_esm_shims as t}from"./esm-shims-B6VgfGYP.js";import{ofetch_default as n}from"./ofetch-CHIwZNTj.js";import{cache_default as r}from"./cache-Dfid4xgQ.js";import{art as i}from"./render-CSnicFA3.js";import{parseDate as a}from"./parse-date-DHsdom8D.js";import{timezone as o}from"./timezone-CMz5pnRe.js";import s from"node:path";import c from"markdown-it";t();const l=c({html:!0}),u=`https://utgd.net`,d=`https://api.utgd.net`,f=(e,t)=>e.slice(0,t).map(e=>({id:e.id,title:e.title,link:`${u}/article/${e.id}`,author:e.article_author_displayname,pubDate:o(a(e.article_published_time),8),category:e.article_category.map(e=>e.category_name)})),p=t=>r.tryGet(`untag-${t.id}`,async()=>{let r=await n(`${d}/api/v2/article/${t.id}/`);return t.description=i(s.join(e,`templates/description-03cfe5f7.art`),{membership:r.article_for_membership,image:r.article_image,description:l.render(r.article_content)}),t.category=[...r.article_category.map(e=>e.category_name),...r.article_tag.map(e=>e.tag_name)],t});export{d as apiRootUrl,p as parseArticle,f as parseResult,u as rootUrl};