import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-rK3Yp7nj.js";import"./helpers-qpI1t-yV.js";import{cache_default as n}from"./cache-Dfid4xgQ.js";import{art as r}from"./render-DftO2d-b.js";import{got_default as i}from"./got-CoH3ye0k.js";import a from"node:path";import{load as o}from"cheerio";t();const s=`https://www.baozimh.com`,c={path:`/comic/:name`,categories:[`anime`],example:`/baozimh/comic/guowangpaiming-shiricaofu`,parameters:{name:"漫画名称，在漫画链接可以得到(`comic/` 后的那段)"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.baozimh.com/comic/:name`]}],name:`订阅漫画`,maintainers:[`Fatpandac`],handler:l};async function l(t){let c=`${s}/comic/${t.req.param(`name`)}`,l=o((await i(c)).data),u=l(`div > div.pure-u-1-1.pure-u-sm-2-3.pure-u-md-3-4 > div > h1`).text(),d=l(`#chapter-items`).first().children().toArray().map(e=>({title:l(e).find(`span`).text(),link:s+l(e).find(`a`).attr(`href`)})),f=l(`#chapters_other_list`).first().children().toArray().map(e=>({title:l(e).find(`span`).text(),link:s+l(e).find(`a`).attr(`href`)})),p=[...d,...f];p.reverse();let m=await Promise.all(p.map(t=>n.tryGet(t.link,async()=>{let n=o((await i(t.link)).data);return t.description=r(a.join(e,`templates/desc-8ab6b3de.art`),{imgUrlList:n(`.comic-contain`).find(`amp-img`).toArray().map(e=>n(e).attr(`src`))}),t})));return{title:`包子漫画-${u}`,description:l(`.comics-detail__desc`).text(),link:c,item:m}}export{c as route};