import{n as e,t}from"./esm-shims-mGm6WwCc.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-BASlBuka.js";import"./helpers-Cqaav28H.js";import{t as n}from"./cache-CpEhLexq.js";import{t as r}from"./render-d6AVTUl2.js";import{t as i}from"./parse-date-CHEO0z5G.js";import{t as a}from"./got-CgQXMNWI.js";import o from"node:path";import{load as s}from"cheerio";e();const c=async e=>{let{category:c=`latest/news`}=e.req.param(),l=e.req.query(`limit`)?Number.parseInt(e.req.query(`limit`),10):30,u=`https://www.accessbriefing.com`,d=new URL(c,u).href,f=new URL(`Ajax/GetPagedArticles`,u).href,{data:p}=await a(d),m=p.match(/'BrandID':\s(\d+)/)?.[1]??`32`,{data:h}=await a(f,{searchParams:{navcontentid:p.match(/'MoreID':\s(\d+)/)?.[1]??`9282`,brandid:m,page:0,lastpage:0,pagesize:l}}),g=s(p),_=g(`html`).prop(`lang`),v=h.slice(0,l).map(e=>{let n=e.Article_Headline,a=new URL(e.Image,u).href,s=r(o.join(t,`templates/description-c3c936c5.art`),{images:a?[{src:a,alt:n}]:void 0,intro:e.Article_Intro_Plaintext}),c=`accessbriefing-${e.Article_ID}`;return{title:n,description:s,pubDate:i(e.Article_PublishedDate),link:new URL(e.URL,u).href,author:e.Authors.join(`/`),guid:c,id:c,content:{html:s,text:e.Article_Intro_Plaintext},image:a,banner:a,language:_}});v=await Promise.all(v.map(e=>n.tryGet(e.link,async()=>{let{data:n}=await a(e.link),i=s(n),c=i(`h1.khl-article-page-title`).text(),l=e.description+r(o.join(t,`templates/description-c3c936c5.art`),{description:i(`div.khl-article-page-storybody`).html()});return e.title=c,e.description=l,e.category=i(`a.badge[data-id]`).toArray().map(e=>i(e).text()),e.author=i(`div.authorDetails a span b`).text(),e.content={html:l,text:i(`div.khl-article-page-storybody`).text()},e.language=_,e})));let y=new URL(g(`a.navbar-brand img`).prop(`src`),u).href;return{title:g(`title`).text(),description:g(`meta[property="og:description"]`).prop(`content`),link:d,item:v,allowEmpty:!0,image:y,author:g(`meta[property="og:site_name"]`).prop(`content`),language:_}},l={path:`/:category{.+}?`,name:`Articles`,url:`accessbriefing.com`,maintainers:[`nczitzk`],handler:c,example:`/accessbriefing/latest/news`,parameters:{category:`Category, Latest News by default`},description:`::: tip
  If you subscribe to [Latest News](https://www.accessbriefing.com/latest/news)ï¼Œwhere the URL is \`https://www.accessbriefing.com/latest/news\`, extract the part \`https://www.accessbriefing.com/\` to the end, and use it as the parameter to fill in. Therefore, the route will be [\`/accessbriefing/latest/news\`](https://rsshub.app/accessbriefing/latest/news).
:::

#### Latest

| Category                                                                               | ID                                                                                              |
| -------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| [News](https://www.accessbriefing.com/latest/news)                                     | [latest/news](https://rsshub.app/target/site/latest/news)                                       |
| [Products & Technology](https://www.accessbriefing.com/latest/products-and-technology) | [latest/products-and-technology](https://rsshub.app/target/site/latest/products-and-technology) |
| [Rental News](https://www.accessbriefing.com/latest/rental-news)                       | [latest/rental-news](https://rsshub.app/target/site/latest/rental-news)                         |
| [People](https://www.accessbriefing.com/latest/people)                                 | [latest/people](https://rsshub.app/target/site/latest/people)                                   |
| [Regualtions & Safety](https://www.accessbriefing.com/latest/regualtions-safety)       | [latest/regualtions-safety](https://rsshub.app/target/site/latest/regualtions-safety)           |
| [Finance](https://www.accessbriefing.com/latest/finance)                               | [latest/finance](https://rsshub.app/target/site/latest/finance)                                 |
| [Sustainability](https://www.accessbriefing.com/latest/sustainability)                 | [latest/sustainability](https://rsshub.app/target/site/latest/sustainability)                   |

#### Insight

| Category                                                                          | ID                                                                                        |
| --------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| [Interviews](https://www.accessbriefing.com/insight/interviews)                   | [insight/interviews](https://rsshub.app/target/site/insight/interviews)                   |
| [Longer reads](https://www.accessbriefing.com/insight/longer-reads)               | [insight/longer-reads](https://rsshub.app/target/site/insight/longer-reads)               |
| [Videos and podcasts](https://www.accessbriefing.com/insight/videos-and-podcasts) | [insight/videos-and-podcasts](https://rsshub.app/target/site/insight/videos-and-podcasts) |
  `,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`accessbriefing.com/:category*`],target:`/:category`},{title:`Latest - News`,source:[`accessbriefing.com/latest/news`],target:`/latest/news`},{title:`Latest - Products & Technology`,source:[`accessbriefing.com/latest/products-and-technology`],target:`/latest/products-and-technology`},{title:`Latest - Rental News`,source:[`accessbriefing.com/latest/rental-news`],target:`/latest/rental-news`},{title:`Latest - People`,source:[`accessbriefing.com/latest/people`],target:`/latest/people`},{title:`Latest - Regualtions & Safety`,source:[`accessbriefing.com/latest/regualtions-safety`],target:`/latest/regualtions-safety`},{title:`Latest - Finance`,source:[`accessbriefing.com/latest/finance`],target:`/latest/finance`},{title:`Latest - Sustainability`,source:[`accessbriefing.com/latest/sustainability`],target:`/latest/sustainability`},{title:`Insight - Interviews`,source:[`accessbriefing.com/insight/interviews`],target:`/insight/interviews`},{title:`Insight - Longer reads`,source:[`accessbriefing.com/insight/longer-reads`],target:`/insight/longer-reads`},{title:`Insight - Videos and podcasts`,source:[`accessbriefing.com/insight/videos-and-podcasts`],target:`/insight/videos-and-podcasts`}]};export{c as handler,l as route};