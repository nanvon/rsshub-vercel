import"./esm-shims-L08rKynx.mjs";import"./config-L8Ls2W7q.mjs";import"./logger-C50fTRi5.mjs";import{t as e}from"./ofetch-DXVwJZV0.mjs";import{t}from"./parse-date-bKmkZ9gg.mjs";import{t as n}from"./timezone-CE0MDOJ-.mjs";import{load as r}from"cheerio";const i={path:`/earthquake`,name:`全球地震資訊網`,maintainers:[`after9`],handler:a,example:`/hko/earthquake`,categories:[`forecast`],description:`来自香港天文台的全球5级以上地震记录`};async function a(){let i=r(await e(`https://www.hko.gov.hk/gts/QEM/eq_app-30d_uc.xml`,{headers:{accept:`application/xml`}}));return{title:`来自香港天文台的全球5级以上地震记录`,link:`https://www.hko.gov.hk/tc/gts/equake/quake-info.htm`,description:`提供經天文台分析的全球5.0級或以上及本地有感的地震資訊。`,item:i(`Earthquake > EventGroup > Event`).toArray().map(e=>{e=i(e);let r=e.find(`Mag`).text(),a=e.find(`City`).text(),o=e.find(`citystring`).text(),s=e.find(`HKTDate`).text(),c=e.find(`HKTTime`).text(),l=`經緯:[`+e.find(`Lat`).text()+`,`+e.find(`Lon`).text()+`]`;return{title:`[震級:${r}] [地點:${a}]`,description:`${o}, ${l}`,pubDate:n(t(s+c,`YYYYMMDDHHmm`),8)}})}}export{i as route};