import{n as e,t}from"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CRUPiVpr.js";import"./helpers-Cqaav28H.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./got-BlqYKpVp.js";import i from"node:path";e();const a={path:`/movie/coming`,categories:[`social-media`],example:`/douban/movie/coming`,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`电影即将上映`,maintainers:[`reonokiy`],radar:[{title:`豆瓣电影-即将上映`,source:[`movie.douban.com/coming`],target:`/movie/coming`}],handler:s},o=e=>n(i.join(t,`templates/movie_coming-e5288b80.art`),e);async function s(e){let t=await r({method:`get`,url:`https://m.douban.com/rexxar/api/v2/movie/coming_soon`,headers:{Referer:`https://m.douban.com/movie/`}});return e.set(`json`,{response:t}),{title:`豆瓣电影-即将上映`,link:`https://movie.douban.com/coming`,item:t.data?.subjects?.map(e=>({title:e?.title,link:e?.url,guid:e?.url,description:o({title:e?.title,intro:e?.intro,pubdate:e?.pubdate,cover_url:e?.cover_url,directors:e?.directors?.map(e=>e?.name),actors:e?.actors?.map(e=>e?.name),genres:e?.genres,wish_count:e?.wish_count}),category:e?.genres,itunes_item_image:e?.cover_url,upvotes:e?.wish_count}))}}export{a as route};