import"./esm-shims-DtWyl6zt.js";import{config as e}from"./config-CT-9jq-j.js";import"./logger-BsClR5PH.js";import"./dist-BrnquCU2.js";import"./helpers-DzX-lcQO.js";import"./cache-DNP0KCHb.js";import"./render-sowsPyZZ.js";import"./ofetch-Of9UBhau.js";import"./got-Cw3q2eEq.js";import{processItems as t}from"./utils-MZ7gGl0e.js";import n from"rss-parser";const r={path:`/rss/:channel?`,categories:[`traditional-media`],example:`/dw/rss/rss-en-all`,parameters:{category:"RSS Feed Channel, see below, `rss-en-all` by default"},features:{requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1,requireConfig:!1},name:`RSS`,maintainers:[`quiniapiezoelectricity`],handler:i,description:"\nFor a full list of RSS Feed Channels in English, please refer to [DW RSS Feeds](https://corporate.dw.com/en/rss-feeds/a-68693346).\nRSS Feed Channels in other languages are also available, for example: `rss-chi-all` renders the RSS feed in Chinese and `rss-de-all` for the RSS Feed in German\n"};async function i(r){let i=r.req.param(`channel`)??`rss-en-all`,a=new n({customFields:{item:[`dwsyn:contentID`]},headers:{"User-Agent":e.ua}}),o=await a.parseURL(`https://rss.dw.com/rdf/${i}`),s=await t(o.items.map(e=>{e.id=e[`dwsyn:contentID`],e.pubDate=e.isoDate,e.description=e.content;let t=new URL(e.link);return t.search=``,e.link=t.href,e.type=t.pathname.slice(t.pathname.lastIndexOf(`/`)+1).startsWith(`live-`)?`liveblog`:`article`,e}));return{title:o.title,link:o.link,description:o.description,item:s}}export{r as route};