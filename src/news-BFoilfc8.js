import"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-DqHh1IN2.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import n from"dayjs";import{load as r}from"cheerio";import"dayjs/locale/fr.js";import i from"dayjs/plugin/localizedFormat.js";n.extend(i);const a={path:`/:language?`,categories:[`travel`],example:`/altotrain/en`,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`altotrain.ca/:language`,`altotrain.ca/:language/news`,`altotrain.ca/:language/nouvelles`],target:`/:language`}],name:`Alto News`,maintainers:[`elibroftw`],handler:async t=>{let{language:n=`en`}=t.req.param(),i=n===`fr`?`https://www.altotrain.ca/fr/nouvelles`:`https://www.altotrain.ca/en/news`,a=await e(i),s=r(a),c=s(`body > div:first-of-type > main > div:nth-of-type(2) > div:nth-of-type(2) > div > div:first-of-type > div > a`).first(),l=c.length?(()=>[o(c,n)])():[],u=s(`.tw-grid > div.tw-flex.tw-flex-col`).toArray().map(e=>{let t=s(e).find(`a`).first();return o(t,n)});return{title:`Alto News`,link:i,item:[...l,...u]}}};function o(e,n){let r=e.attr(`href`),i=e.find(`h2, h3`).first().text().trim(),a=e.find(`p`).first().text().trim(),o=n===`fr`?a.match(/(\d{1,2} [a-zéû]+[.]? \d{4})/i):a.match(/([A-Z][a-z]+[.]? \d{1,2}, \d{4})/),s=o?o[1].trim():``,c=t(s),l=e.find(`img`).first().attr(`src`),u=l?new URL(l,`https://www.altotrain.ca`).href:void 0;return{title:i,link:r,pubDate:c,author:`Alto`,category:[`News`],description:a,id:r,image:u}}export{a as route};