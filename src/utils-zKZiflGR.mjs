import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import{t as n}from"./parse-date-_GmTZfjS.mjs";import{t as r}from"./render-CSqLtqb8.mjs";import{t as i}from"./got-BglkE51W.mjs";import a from"node:path";e();const o=`otobanana.com`,s=`https://api.${o}`,c=`https://${o}`,l=(e,t)=>t(`otobanana:user:${e}`,async()=>{let{data:t}=await i(`${s}/users/${e}/`);return t}),u=e=>({title:e.title,description:r(a.join(t,`templates/description-161b5c63.art`),{cast:e}),pubDate:n(e.created_at),link:`https://otobanana.com/cast/${e.id}`,author:`${e.user.name} (@${e.user.username})`,itunes_item_image:e.thumbnail_url,itunes_duration:e.duration_time,enclosure_url:e.audio_url,enclosure_type:`audio/x-m4a`,upvotes:e.like_count,comments:e.comment_count}),d=e=>({title:e.title,description:e.is_open?`配信中のライブ`:`終了しました`,pubDate:n(e.created_at),link:e.room_url,guid:`${e.room_url}#${e.id}`,author:`${e.user.name} (@${e.user.username})`,upvotes:e.like_count,comments:e.comment_count}),f=({id:e,type_label:t,cast:r,message:i})=>{switch(t){case`cast`:return u(r);case`message`:return{title:i.text.split(`
`)[0],description:i.text.replaceAll(`
`,`<br>`),pubDate:n(i.created_at),link:`https://otobanana.com/${t}/${e}`,author:`${i.user.name} (@${i.user.username})`,upvotes:i.like_count,comments:i.comment_count};default:throw Error(`Unknown post type: ${t}`)}};export{d as a,u as i,c as n,f as o,l as r,s as t};