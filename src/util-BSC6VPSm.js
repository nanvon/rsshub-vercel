import{got_default as e}from"./got-VGofQtEf.js";import{CookieJar as t}from"tough-cookie";const n=new t;async function r(t,i,a){if(t>4)throw Error(`The number of attempts has exceeded 5 times`);let o=(await e.get(a,{cookieJar:n})).data;if(typeof o==`string`){let e=o.match(/document\.cookie\s*=\s*"([^"]*)"/);if(!e)throw Error(`api error`);return n.setCookieSync(e[1],i),r(++t,i,a)}return o}const i=e=>{let t=e.match(/^(\d+(\.\d+)?)\s*(gb|mb)$/i);if(!t)return 0;let n=Number.parseFloat(t[1]),r=t[3].toUpperCase(),i;switch(r){case`GB`:i=Math.floor(n*1024*1024*1024);break;case`MB`:i=Math.floor(n*1024*1024);break;default:i=0}return i};export{r as doGot,i as genSize};