import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./ofetch-TsvCL7Kz.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-CzcusEyX.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-lNAQakSo.js";import{load as r}from"cheerio";const i={path:`/asia`,categories:[`traditional-media`],example:`/nikkei/asia`,radar:[{source:[`asia.nikkei.com/`]}],name:`Nikkei Asia Latest News`,maintainers:[`rainrdx`],handler:a,url:`asia.nikkei.com`};async function a(){let i=await n({method:`get`,url:`https://asia.nikkei.com/api/__service/next_api/v1/graphql`,searchParams:{operationName:`GetLatestHeadlinesStream`,variables:`{}`,extensions:`{"persistedQuery":{"version":1,"sha256Hash":"287aed8784a3f55ad444bb6b550ebdafb40b0da60c7800081e7343d889975fe8"}}`},headers:{"content-type":`application/json`}}),a=i.data.data.getLatestHeadlines.items.map(e=>({...e,link:new URL(e.path,`https://asia.nikkei.com`).href})),o=await Promise.all(a.map(i=>e.tryGet(i.link,async()=>{let e=i.name,a=t(i.displayDate*1e3),o=i.primaryTag.name,s=await n(i.link),c=r(s.data),l=c(`div[class^="NewsArticle_newsArticleContentContainerWrapper"]`).html()||``,u=c(`div[class^="NewsArticleDetails_newsArticleDetailsByline"]`).text()||``;return{title:e,pubDate:a,category:o,description:l,link:i.link,author:u}})));return{title:`Nikkei Asia`,link:`https://asia.nikkei.com`,image:`https://main-asianreview-nikkei.content.pugpig.com/pugpig_assets/admin/pub120x120.jpg`,item:o}}export{i as route};