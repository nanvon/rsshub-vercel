import"./esm-shims-B6VgfGYP.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CHIwZNTj.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BXZNsAGk.js";import{load as r}from"cheerio";const i={path:`/news/:type?`,categories:[`university`],example:`/gmu/news/gyyw`,parameters:{type:{description:`新闻类型，见下表，默认为 gyyw`,options:[{value:`gyyw`,label:`赣医要闻`},{value:`ybdt`,label:`院部动态`},{value:`mtgy`,label:`媒体赣医`},{value:`xsjz`,label:`学术讲座`}],default:`gyyw`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`gmu.cn/xwzx/gyyw.htm`,`gmu.cn/`],target:`/news/gyyw`},{source:[`gmu.cn/xwzx/ybdt.htm`],target:`/news/ybdt`},{source:[`gmu.cn/xwzx/mtgy.htm`],target:`/news/mtgy`},{source:[`gmu.cn/xwzx/xsjz.htm`],target:`/news/xsjz`}],name:`新闻中心`,maintainers:[`FrankFahey`],url:`gmu.cn/xwzx/gyyw.htm`,handler:a};async function a(i){let a={gyyw:{title:`赣医要闻`,url:`/xwzx/gyyw.htm`},ybdt:{title:`院部动态`,url:`/xwzx/ybdt.htm`},mtgy:{title:`媒体赣医`,url:`/xwzx/mtgy.htm`},xsjz:{title:`学术讲座`,url:`/xwzx/xsjz.htm`}}[i.req.param?.(`type`)||`gyyw`]||{title:`赣医要闻`,url:`/xwzx/gyyw.htm`},o=`https://gmu.cn${a.url}`,s=await n(o,{https:{rejectUnauthorized:!1}}),c=r(s.data),l=c(`.list ul li`),u=(await Promise.all(l.toArray().map(async i=>{let a=c(i),s=a.find(`a`),l=a.find(`i`).text(),u=s.attr(`href`),d=s.text().trim();if(!u||!d)return null;let f=t(l);if(!f)return null;let p=new URL(u,o).href;return await e.tryGet(`gmu:news:${p}`,async()=>{try{let e=await n(p,{https:{rejectUnauthorized:!1}}),t=r(e.data)(`.v_news_content`).html()||`暂无详细内容`;return{title:d,link:p,pubDate:f,description:t}}catch{return{title:d,link:p,pubDate:f,description:`暂无详细内容`}}})}))).filter(e=>e!==null);return{title:`赣南医科大学 - ${a.title}`,link:o,description:`赣南医科大学${a.title}`,item:u}}export{a as handler,i as route};