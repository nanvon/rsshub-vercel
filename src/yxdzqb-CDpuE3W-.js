import{n as e,t}from"./esm-shims-CMsyBHYK.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CRUPiVpr.js";import"./helpers-Cqaav28H.js";import{t as n}from"./render-d6AVTUl2.js";import{t as r}from"./got-BlqYKpVp.js";import i from"node:path";import{load as a}from"cheerio";e();const o={new:`index_discount.html`,hot:`index_popular.html`,hot_chinese:`index_popular_cn.html`,low:`index_low.html`,low_chinese:`index_low_cn.html`},s={path:`/:type`,categories:[`game`],example:`/yxdzqb/popular_cn`,parameters:{type:`折扣类型`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`yxdzqb.com/`]}],name:`游戏折扣`,maintainers:[`LogicJake`,`nczitzk`],handler:c,url:`yxdzqb.com/`,description:`| Steam 最新折扣 | Steam 热门游戏折扣 | Steam 热门中文游戏折扣 | Steam 历史低价 | Steam 中文游戏历史低价 |
| -------------- | ------------------ | ---------------------- | -------------- | ---------------------- |
| discount       | popular            | popular_cn            | low            | low_cn                |`};async function c(e){let s=e.req.param(`type`),c=`https://www.yxdzqb.com/${Object.hasOwn(o,s)?o[s]:`index_${s}.html`}`,l=a((await r.get(c)).data),u=l(`.btn-primary b`).text()||l(`.btn-danger b`).text()||l(`.btn-info b`).text(),d=l(`tr.bg-none`).toArray().map(e=>{e=l(e);let r=e.find(`div table:nth-child(1) tr td:nth-child(1)`).text(),a=n(i.join(t,`templates/description-994b84e5.art`),{src:e.find(`table.cell_tabs > tbody > tr > td:nth-child(1) > img`).attr(`src`),description:e.find(`div.collapse`).html()}),o=e.find(`div.collapse table.cell_tabs > tbody > tr > td:nth-child(1) > a`).attr(`href`);return{title:r,description:a,link:o,guid:o+e.find(`div.cell_price span:nth-child(2)`).text()}});return{title:`${u}-游戏打折情报`,link:c,item:d}}export{s as route};