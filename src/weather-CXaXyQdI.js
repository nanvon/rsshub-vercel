import"./esm-shims-B6VgfGYP.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import{ofetch_default as e}from"./ofetch-CHIwZNTj.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import*as n from"cheerio";const r={path:`/weather`,radar:[{source:[`www.weather.gov.hk/en/wxinfo/currwx/current.htm`]}],name:`Current Weather Report`,example:`/hko/weather`,maintainers:[`calpa`],categories:[`forecast`],handler:async()=>{let r=`https://www.weather.gov.hk/en/wxinfo/currwx/current.htm`,i=await e(`http://rss.weather.gov.hk/rss/CurrentWeather.xml`),a=n.load(i,{xmlMode:!0}),o=a(`item`).first().find(`description`),s=n.load(o.text())(`table tr`).toArray().map(e=>{let n=a(e),i=n.find(`td`).first().text(),o=n.find(`td`).last().text();return{title:i,description:o,pubDate:t(a(`pubDate`).text()),link:r,guid:`${a(`guid`).text()}#${i}`}});return{title:`Current Weather Report`,description:`provided by the Hong Kong Observatory: ${a(`pubDate`).text()}`,link:r,item:s}},url:`www.weather.gov.hk/en/wxinfo/currwx/current.htm`};export{r as route};