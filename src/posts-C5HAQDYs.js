import"./esm-shims-BC3isTv8.js";import"./config-DZMnNPig.js";import"./logger-asV68Lay.js";import"./ofetch-CfXAR0UO.js";import"./helpers-Cqaav28H.js";import{t as e}from"./got-dCh-Ojgc.js";import"./config-not-found-CX6cWM57.js";import{t}from"./rss-parser-CbA1uKIl.js";import{t as n}from"./utils--hzuNZG1.js";const r={path:`/:configId/posts`,categories:[`bbs`],example:`/discourse/0/posts`,parameters:{configId:`Environment variable configuration id, see above`},features:{requireConfig:[{name:`DISCOURSE_CONFIG_*`,description:``}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Latest posts`,maintainers:[`dzx-dzx`],handler:i};async function i(r){let{link:i,key:a}=n(r),o=await t.parseString((await e(`${i}/posts.rss`,{headers:{"User-Api-Key":a}})).data);return o.items=o.items.map(e=>({description:e.content,author:e.creator,...e})),{item:o.items,...o}}export{r as route};