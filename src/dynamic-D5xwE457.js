import"./esm-shims-Dqvxr0BZ.js";import"./config-1ATZGjxb.js";import"./logger-B19BYg4C.js";import"./ofetch-B4O0sZDE.js";import"./helpers-LVq640iW.js";import{got_default as e}from"./got-CW2W8CRN.js";const t={path:`/dynamic/:uid?`,categories:[`other`],example:`/afdian/dynamic/@afdian`,parameters:{uid:`用户id，用户动态页面url里可找到`},name:`用户动态`,maintainers:[`sanmmm`],handler:n};async function n(t){let n=t.req.param(`uid`).replace(`@`,``),r=`https://afdian.com`,i=await e(`${r}/api/user/get-profile-by-slug`,{searchParams:{url_slug:n}}),a=i.data.data.user,{user_id:o,name:s,avatar:c}=a,l=await e(`${r}/api/post/get-list`,{searchParams:{type:`old`,user_id:o}}),u=l.data.data.list.map(e=>{let{publish_time:t,title:n,content:i,pics:a=[],post_id:o}=e;return{title:n,description:[i,a.map(e=>`<img src="${e}"/>`).join(``)].filter(e=>!!e).join(`<br/>`),link:`${r}/p/${o}`,pubDate:new Date(Number(t)*1e3).toUTCString()}});return{title:`${s}的爱发电动态`,description:`${s}的爱发电动态`,image:c,link:`${r}/@${n}`,item:u}}export{t as route};