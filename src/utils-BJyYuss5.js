import{__dirname as e,init_esm_shims as t}from"./esm-shims-rNwigI-Q.js";import{ofetch_default as n}from"./ofetch-CeMUzp5K.js";import{cache_default as r}from"./cache-Dfid4xgQ.js";import{art as i}from"./render-DftO2d-b.js";import{parseDate as a}from"./parse-date-DHsdom8D.js";import o from"node:path";import{load as s}from"cheerio";t();const c=`https://visionias.in`;async function l(t,c){return t.link===``?t:await r.tryGet(t.link,async()=>{let r=s(await n(t.link||``)),l=String(r(`meta[property="article:published_time"]`).attr(`content`)),d=String(r(`meta[property="article:modified_time"]`).attr(`content`)),f=r(`meta[property="article:tag"]`).toArray().map(e=>r(e).attr(`content`)),p=r(c),m=p.find(`div.space-y-4 > h1`).text(),h=p.find(`div.flex > div.w-full`),g=h.find(`[x-data^="{isShortArticleOpen"]`),_=h.find(`[x-data^="{isSectionOpen"]`);if(g.length!==0)return g.toArray().map(n=>{let s=r(n),c=s.find(`a > div > h2`).text().trim(),d=s.find(`a`).attr(`href`),f=u(s.html()),p=s.find(`ul > li:contains("Tags :")`)?.nextAll(`li`).toArray().map(e=>r(e).text()),h=i(o.join(e,`templates/description-962ff3f8.art`),{heading:c,articleContent:f});return{title:`${c} | ${m}`,pubDate:a(l),category:p,description:h,link:`${t.link}${d}`,author:`Vision IAS`}});if(_.length===0){let n=u(h.html()),r=i(o.join(e,`templates/description-962ff3f8.art`),{heading:m,articleContent:n});return{title:t.title,pubDate:a(l),category:f,description:r,link:t.link,updated:d?a(d):null,author:`Vision IAS`}}else{let n=_.toArray().map(t=>{let n=r(t),a=n.find(`a > div > h2`).text().trim(),s=u(n.html(),`div.ck-content`);return{description:i(o.join(e,`templates/description-sub-290c84a9.art`),{heading:a,articleContent:s})}}),s=i(o.join(e,`templates/description-962ff3f8.art`),{heading:m,subItems:n});return{title:m,pubDate:a(l),category:f,description:s,link:t.link,updated:d?a(d):null,author:`Vision IAS`}}})}function u(e,t=`div.ck-content`){let n=s(e,null,!1),r=n(e).find(String(t));return r.find(`figure`).each((e,t)=>{n(t).css(`width`,``)}),r.html()}export{c as baseUrl,l as extractNews};