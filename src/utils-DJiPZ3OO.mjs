import{n as e,t}from"./esm-shims-D5mxTuu_.mjs";import{t as n}from"./cache-C6z2tE2n.mjs";import{t as r}from"./render-D2i47mnC.mjs";import{t as i}from"./parse-date-Cv8vEJfE.mjs";import{t as a}from"./got-CxBlPaz_.mjs";import o from"node:path";import{load as s}from"cheerio";e();const c=`http://www.caareviews.org`,l=async e=>{let t=s((await a(e)).data);return t(`#infinite-content > div`).toArray().map(e=>({title:t(e).find(`div.title`).text().trim(),link:new URL(t(e).find(`div.title > em > a`).attr(`href`),c).href,author:t(e).find(`div.contributors`).text().trim()}))},u=(e,l)=>Promise.all(l.map(e=>n.tryGet(e.link,async()=>{let n=s((await a(e.link)).data),l=new URL(n(`div.cover > a`).attr(`href`),c).href,u=n(`div.content.full-review`).html();return e.description=r(o.join(t,`templates/utils-e28a35d0.art`),{coverUrl:l,content:u}),n(`div.review_heading`).remove(),e.pubDate=i(n(`div.header-text > div.clearfix`).text()),e.doi=n(`div.crossref > a`).attr(`href`).replace(`http://dx.doi.org/`,``),e})));export{l as n,c as r,u as t};