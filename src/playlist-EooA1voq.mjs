import{n as e,t}from"./esm-shims-BKVRry6h.mjs";import{t as n}from"./config-uQhBoCds.mjs";import"./logger-DQf7gybc.mjs";import"./ofetch-7N8fmlQ6.mjs";import"./helpers-C6Jountz.mjs";import{t as r}from"./render-_fW2cbJz.mjs";import{t as i}from"./got-DcbI0XpN.mjs";import a from"node:path";e();const o={path:`/music/playlist/:id`,categories:[`multimedia`],example:`/163/music/playlist/35798529`,parameters:{id:`歌单 id, 可在歌单页 URL 中找到`},features:{requireConfig:[{name:`NCM_COOKIES`,optional:!0,description:"网易云音乐登陆后的 cookie 值，可在浏览器控制台通过`document.cookie`获取。"}],requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`歌单歌曲`,maintainers:[`DIYgod`],handler:s};async function s(e){let o=e.req.param(`id`),s=(await i.get(`https://music.163.com/api/v3/playlist/detail?id=${o}`,{headers:{Referer:`https://music.163.com/`,Cookie:n.ncm.cookies}})).data.playlist,c=(await i(`https://music.163.com/api/song/detail`,{headers:{Referer:`https://music.163.com`},searchParams:{ids:`[${s.trackIds.slice(0,201).map(e=>e.id)}]`}})).data.songs;return{title:s.name,link:`https://music.163.com/#/playlist?id=${o}`,description:`网易云音乐歌单 - ${s.name}`,item:s.trackIds.slice(0,201).map(e=>{let n=c.find(t=>t.id===e.id),i=n.artists.length===1?n.artists[0].name:n.artists.reduce((e,t)=>(e.name||e)+`/`+t.name);return{title:`${n.name} - ${i}`,description:r(a.join(t,`templates/playlist-a7669f99.art`),{singer:i,album:n.album.name,date:new Date(n.album.publishTime).toLocaleDateString(),picUrl:n.album.picUrl}),link:`https://music.163.com/song?id=${e.id}`,guid:`https://music.163.com/#/song?id=${e.id}`,pubDate:new Date(e.at),author:i}})}}export{o as route};