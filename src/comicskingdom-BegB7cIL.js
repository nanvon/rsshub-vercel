import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-CbgiXYAi.js";import"./helpers-gUVC02jt.js";import{cache_default as n}from"./cache-Dfid4xgQ.js";import{art as r}from"./render-CSnicFA3.js";import{parseDate as i}from"./parse-date-DHsdom8D.js";import{got_default as a}from"./got-Do9KqzqD.js";import{invalid_parameter_default as o}from"./invalid-parameter-CfUmvEUg.js";import s from"node:path";import{load as c}from"cheerio";t();const l={path:`/:name`,categories:[`anime`],example:`/comicskingdom/pardon-my-planet`,parameters:{name:`URL path of the strip on comicskingdom.com`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`comicskingdom.com/:name/*`,`comicskingdom.com/:name`]}],name:`Archive`,maintainers:[`stjohnjohnson`],handler:u};async function u(t){let l=t.req.param(`name`),u=`https://comicskingdom.com/${l}/archive`,{data:d}=await a(u),f=c(d),p=f(`title`).text().replace(`Comics Kingdom - `,``).trim(),m=f(`.feature-title h2`).text(),h=f(`div.tile`).toArray().map(e=>f(e).find(`a`).first().attr(`href`));if(h.length===0)throw new o(`Comic Not Found - ${l}`);let g=await Promise.all(h.map(t=>n.tryGet(t,async()=>{let n=await a(t),o=c(n.data),l=o(`meta[property="og:description"]`).attr(`content`),u=o(`meta[property="og:image"]`).attr(`content`),d=r(s.join(e,`templates/desc-158d364d.art`),{image:u}),f=i(t.slice(t.lastIndexOf(`/`)+1),`YYYY-MM-DD`);return{title:l,author:m,category:`comic`,description:d,pubDate:f,link:t}})));return{title:p,link:u,image:f(`.feature-logo`).attr(`src`),item:g,language:`en-US`}}export{l as route};