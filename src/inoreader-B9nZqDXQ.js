import"./esm-shims-B6VgfGYP.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-D4MiciTC.js";import"./helpers-gUVC02jt.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-07RFwdy7.js";import{ViewType as n}from"./types-Bi82qguM.js";import{load as r}from"cheerio";const i={path:`/html_clip/:user/:tag`,example:`/inoreader/html_clip/1005137674/user-favorites`,categories:[`reading`],view:n.Articles,name:`HTML Clip`,maintainers:[`EthanWng97`],handler:a};async function a(n){let i=n.req.param(`user`),a=n.req.param(`tag`),o=n.req.query(`limit`)||20,s=`https://www.inoreader.com/stream/user/${i}/tag/${a}/view/html?n=${o}`,c=(await t({method:`get`,url:s})).data,l=r(c),u=l(`#snip_body>.article_content`);return{title:l(`.header_text`).text().trim(),link:s,item:u.toArray().map(t=>{let n=l(t).clone(),r=l(t).prev(),i=l(`div.article_author .au1`,r).contents().filter((e,t)=>t.nodeType===3).text().replace(/posted (on|at) /,``).replace(/UTC.*/,``);return{title:l(`a.title_link`,r).text().trim(),link:l(`a.title_link`,r).attr(`href`),author:l(`div.article_author span span`,r).text().trim()+` via `+l(`div.article_author a.feed_link`,r).text().trim(),pubDate:e(i,[`MMM DD YYYY HH:mm:ss`,`HH:mm:ss`]),description:l(n).html()}}),allowEmpty:!0}}export{i as route};