import"./esm-shims-D4LgnpSl.mjs";import"./config-L8Ls2W7q.mjs";import"./logger-C50fTRi5.mjs";import"./ofetch-CvLG4YCQ.mjs";import"./helpers-mo8InLYm.mjs";import{t as e}from"./got-AYh7EWi-.mjs";import"./config-not-found-Zb14cUk-.mjs";import{t}from"./rss-parser-CvXeqTsg.mjs";import{t as n}from"./utils-BTf4NoVm.mjs";const r={path:`/:configId/posts`,categories:[`bbs`],example:`/discourse/0/posts`,parameters:{configId:`Environment variable configuration id, see above`},features:{requireConfig:[{name:`DISCOURSE_CONFIG_*`,description:``}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Latest posts`,maintainers:[`dzx-dzx`],handler:i};async function i(r){let{link:i,key:a}=n(r),o=await t.parseString((await e(`${i}/posts.rss`,{headers:{"User-Api-Key":a}})).data);return o.items=o.items.map(e=>({description:e.content,author:e.creator,...e})),{item:o.items,...o}}export{r as route};