import{__dirname as e,init_esm_shims as t}from"./esm-shims-BGJi2y--.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-DqHh1IN2.js";import"./helpers-gUVC02jt.js";import{art as n}from"./render-CSnicFA3.js";import{got_default as r}from"./got-VGofQtEf.js";import i from"node:path";t();const a=`https://m.xiaomiyoupin.com`,o={path:`/crowdfunding`,categories:[`shopping`],example:`/xiaomiyoupin/crowdfunding`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`xiaomiyoupin.com/`]}],name:`小米有品众筹`,maintainers:[`bigfei`],handler:s,url:`xiaomiyoupin.com/`};async function s(){let t=(await r(`https://home.mi.com/lasagne/page/5`)).data.redirect.location,o=new URLSearchParams(t),s=o.get(`pageid`),c=o.get(`sign`),l=(await r(`${a}/mtop/navi/venue/page?page_id=${s}&pdl=jianyu&sign=${c}`)).data.data.floors.find(e=>e.module_key===`crowding`).query_list,u=(await r.post(`${a}/mtop/navi/venue/batch?page_id=${s}&pdl=jianyu&sign=${c}`,{json:{query_list:l}})).data.data.result_list[0].list.map(t=>{let r=t.value.goods;return{title:r.name,guid:`xiaomiyoupin:${r.gid}`,description:n(i.join(e,`templates/goods-53c6f4ec.art`),r),link:r.jump_url,pubDate:new Date(r.fist_release_time*1e3).toUTCString()}});return{title:`小米有品众筹`,link:t,description:`小米有品众筹`,item:u}}export{o as route};