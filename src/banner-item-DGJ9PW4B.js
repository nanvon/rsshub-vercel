import"./esm-shims-BFmOnnpb.js";import"./config-CVBRPN4O.js";import"./logger-BvonkID1.js";import"./ofetch-am9EnuPq.js";import"./helpers-gUVC02jt.js";import{cache_default as e}from"./cache-Dfid4xgQ.js";import{got_default as t}from"./got-CmdBCkM8.js";import{load as n}from"cheerio";const r={path:`/bannerItem`,categories:[`anime`],example:`/hpoi/bannerItem`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.hpoi.net/bannerItem/list`]}],name:`热门推荐`,maintainers:[`DIYgod`],handler:i,url:`www.hpoi.net/bannerItem/list`};async function i(){let r=`https://www.hpoi.net/bannerItem/list?categoryId=0&bannerItemType=0&subType=0&page=1`,i=await t({method:`get`,url:r}),a=n(i.data),o=await Promise.all(a(`#content .item`).toArray().map(async r=>{let i=a(r),o=new URL(i.find(`a`).attr(`href`)??``,`https://www.hpoi.net`).href;if(o.startsWith(`https://www.hpoi.net`))return await e.tryGet(o,async()=>{let e=await t(o),r=n(e.data);return r(`.hpoi-album-content .album-ibox`).remove(),r(`.hpoi-album-content .row`).remove(),r(`.hpoi-album-content .hpoi-hr-line`).remove(),{title:i.find(`.title`).text(),link:o,description:r(`.hpoi-album-content`).html()||`<img src="${i.find(`img`).attr(`src`)}">`,pubDate:new Date(i.find(`.time`).text().replace(`发布时间：`,``)).toUTCString()}})}));return{title:`Hpoi 手办维基 - 热门推荐`,link:r,item:o.filter(e=>!!e)}}export{r as route};